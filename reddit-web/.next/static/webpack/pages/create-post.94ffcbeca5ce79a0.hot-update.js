"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/create-post",{

/***/ "./src/pages/create-post.tsx":
/*!***********************************!*\
  !*** ./src/pages/create-post.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CreatePost\": function() { return /* binding */ CreatePost; }\n/* harmony export */ });\n/* harmony import */ var _home_forgets_code_react_reddit_reddit_web_node_modules_next_node_modules_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/node_modules/regenerator-runtime/runtime.js */ \"./node_modules/next/node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var _home_forgets_code_react_reddit_reddit_web_node_modules_next_node_modules_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_forgets_code_react_reddit_reddit_web_node_modules_next_node_modules_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! formik */ \"./node_modules/formik/dist/formik.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_InputField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/InputField */ \"./src/components/InputField.tsx\");\n/* harmony import */ var _components_Wrapper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Wrapper */ \"./src/components/Wrapper.tsx\");\n/* harmony import */ var _generated_graphql__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../generated/graphql */ \"./src/generated/graphql.tsx\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_urql__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next-urql */ \"./node_modules/next-urql/dist/next-urql.es.js\");\n/* harmony import */ var _utils_createUrqlClient__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/createUrqlClient */ \"./src/utils/createUrqlClient.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\n\n\n\n\n\n\n\n\n\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _asyncToGenerator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n        for(var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\nfunction _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\nfunction _throw(e) {\n    throw e;\n}\nvar _this = undefined;\nvar _s1 = $RefreshSig$();\nvar CreatePost = function(param1) {\n    var param1 = param1 !== null ? param1 : _throw(new TypeError(\"Cannot destructure undefined\"));\n    var _this1 = _this;\n    _s1();\n    var router = (0,next_router__WEBPACK_IMPORTED_MODULE_7__.useRouter)();\n    var ref = _slicedToArray((0,_generated_graphql__WEBPACK_IMPORTED_MODULE_6__.useCreatePostMutation)(), 2), createPost = ref[1];\n    return(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_Wrapper__WEBPACK_IMPORTED_MODULE_5__.Wrapper, {\n        variant: \"small\",\n        __source: {\n            fileName: \"/home/forgets_code/react/reddit/reddit-web/src/pages/create-post.tsx\",\n            lineNumber: 16,\n            columnNumber: 9\n        },\n        __self: _this,\n        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(formik__WEBPACK_IMPORTED_MODULE_2__.Formik, {\n            initialValues: {\n                title: \"\",\n                text: \"\"\n            },\n            onSubmit: _asyncToGenerator(_home_forgets_code_react_reddit_reddit_web_node_modules_next_node_modules_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(values) {\n                return _home_forgets_code_react_reddit_reddit_web_node_modules_next_node_modules_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                    while(1)switch(_ctx.prev = _ctx.next){\n                        case 0:\n                            console.log(values);\n                            _ctx.next = 3;\n                            return createPost({\n                                input: values\n                            });\n                        case 3:\n                            router.push(\"/\");\n                        case 4:\n                        case \"end\":\n                            return _ctx.stop();\n                    }\n                }, _callee);\n            })),\n            __source: {\n                fileName: \"/home/forgets_code/react/reddit/reddit-web/src/pages/create-post.tsx\",\n                lineNumber: 17,\n                columnNumber: 13\n            },\n            __self: _this,\n            children: function(param) {\n                var isSubmitting = param.isSubmitting;\n                /*#__PURE__*/ return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(formik__WEBPACK_IMPORTED_MODULE_2__.Form, {\n                    __source: {\n                        fileName: \"/home/forgets_code/react/reddit/reddit-web/src/pages/create-post.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 21\n                    },\n                    __self: _this1,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_InputField__WEBPACK_IMPORTED_MODULE_4__.InputField, {\n                            name: \"title\",\n                            placeholder: \"title\",\n                            label: \"Title\",\n                            __source: {\n                                fileName: \"/home/forgets_code/react/reddit/reddit-web/src/pages/create-post.tsx\",\n                                lineNumber: 27,\n                                columnNumber: 21\n                            },\n                            __self: _this1\n                        }),\n                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.Box, {\n                            mt: 4,\n                            __source: {\n                                fileName: \"/home/forgets_code/react/reddit/reddit-web/src/pages/create-post.tsx\",\n                                lineNumber: 32,\n                                columnNumber: 21\n                            },\n                            __self: _this1,\n                            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_InputField__WEBPACK_IMPORTED_MODULE_4__.InputField, {\n                                textarea: true,\n                                name: \"text\",\n                                placeholder: \"text...\",\n                                label: \"Body\",\n                                __source: {\n                                    fileName: \"/home/forgets_code/react/reddit/reddit-web/src/pages/create-post.tsx\",\n                                    lineNumber: 33,\n                                    columnNumber: 21\n                                },\n                                __self: _this1\n                            })\n                        }),\n                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.Button, {\n                            mt: 4,\n                            colorScheme: \"teal\",\n                            isLoading: isSubmitting,\n                            type: \"submit\",\n                            __source: {\n                                fileName: \"/home/forgets_code/react/reddit/reddit-web/src/pages/create-post.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 21\n                            },\n                            __self: _this1,\n                            children: \"Create Post\"\n                        })\n                    ]\n                });\n            }\n        })\n    }));\n};\n_s1(CreatePost, \"PRkMqeYXSDMaiWNcckifDL30uFI=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_7__.useRouter,\n        _generated_graphql__WEBPACK_IMPORTED_MODULE_6__.useCreatePostMutation\n    ];\n});\n_c = CreatePost;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,next_urql__WEBPACK_IMPORTED_MODULE_10__.withUrqlClient)(_utils_createUrqlClient__WEBPACK_IMPORTED_MODULE_8__.createUrqlClient)(CreatePost));\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");\n\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvY3JlYXRlLXBvc3QudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0Q7QUFDZjtBQUNaO0FBQzRCO0FBQ047QUFDYTtBQUNyQjtBQUNHO0FBQ2tCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHckQsR0FBSyxDQUFDVyxVQUFVLEdBQWlCLFFBQVEsVUFBQzs7OztJQUM3QyxHQUFLLENBQUNDLE1BQU0sR0FBR0osc0RBQVM7SUFDeEIsR0FBSyxDQUFrQkQsR0FBdUIsa0JBQXZCQSx5RUFBcUIsUUFBbkNNLFVBQVUsR0FBSU4sR0FBdUI7SUFDOUMsTUFBTSxzRUFDREQsd0RBQU87UUFBQ1EsT0FBTyxFQUFDLENBQU87Ozs7Ozs7dUZBQ25CWiwwQ0FBTTtZQUNIYSxhQUFhLEVBQUUsQ0FBQ0M7Z0JBQUFBLEtBQUssRUFBQyxDQUFFO2dCQUFFQyxJQUFJLEVBQUMsQ0FBRTtZQUFBLENBQUM7WUFDbENDLFFBQVEseUtBQUUsUUFBUSxTQUFEQyxNQUFNLEVBQUssQ0FBQzs7Ozs0QkFDekJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixNQUFNOzttQ0FDWk4sVUFBVSxDQUFDLENBQUNTO2dDQUFBQSxLQUFLLEVBQUNILE1BQU07NEJBQUEsQ0FBQzs7NEJBQy9CUCxNQUFNLENBQUNXLElBQUksQ0FBQyxDQUFHOzs7Ozs7WUFDbkIsQ0FBQzs7Ozs7OztzQkFFQSxRQUFRO29CQUFMQyxZQUFZLFNBQVpBLFlBQVk7OEJBQ1osTUFBTSx5REFBTHJCLHdDQUFJOzs7Ozs7Ozs2RkFDSkUsOERBQVU7NEJBQ1BvQixJQUFJLEVBQUMsQ0FBTzs0QkFDWkMsV0FBVyxFQUFDLENBQU87NEJBQ25CQyxLQUFLLEVBQUMsQ0FBTzs7Ozs7Ozs7NkZBRWhCM0IsaURBQUc7NEJBQUM0QixFQUFFLEVBQUUsQ0FBQzs7Ozs7OzsyR0FDVHZCLDhEQUFVO2dDQUNQd0IsUUFBUTtnQ0FDUkosSUFBSSxFQUFDLENBQU07Z0NBQ1hDLFdBQVcsRUFBQyxDQUFTO2dDQUNyQkMsS0FBSyxFQUFDLENBQU07Ozs7Ozs7Ozs2RkFHZjFCLG9EQUFNOzRCQUNIMkIsRUFBRSxFQUFFLENBQUM7NEJBQ0xFLFdBQVcsRUFBQyxDQUFNOzRCQUNsQkMsU0FBUyxFQUFFUCxZQUFZOzRCQUN2QlEsSUFBSSxFQUFDLENBQVE7Ozs7Ozs7c0NBQ2hCLENBRUQ7Ozs7Ozs7QUFNcEIsQ0FBQztJQXpDWXJCLFVBQVU7O1FBQ0pILGtEQUFTO1FBQ0RELHFFQUFxQjs7O0tBRm5DSSxVQUFVO0FBMkN2QiwrREFBZUYsMERBQWMsQ0FBQ0MscUVBQWdCLEVBQUVDLFVBQVUsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9wYWdlcy9jcmVhdGUtcG9zdC50c3g/MmI5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3gsIEZsZXgsIEJ1dHRvbiB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnO1xuaW1wb3J0IHsgRm9ybWlrLCBGb3JtIH0gZnJvbSAnZm9ybWlrJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IElucHV0RmllbGQgfSBmcm9tICcuLi9jb21wb25lbnRzL0lucHV0RmllbGQnO1xuaW1wb3J0IHsgV3JhcHBlciB9IGZyb20gJy4uL2NvbXBvbmVudHMvV3JhcHBlcic7XG5pbXBvcnQgeyB1c2VDcmVhdGVQb3N0TXV0YXRpb24gfSBmcm9tICcuLi9nZW5lcmF0ZWQvZ3JhcGhxbCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIlxuaW1wb3J0IHsgd2l0aFVycWxDbGllbnQgfSBmcm9tICduZXh0LXVycWwnO1xuaW1wb3J0IHsgY3JlYXRlVXJxbENsaWVudCB9IGZyb20gJy4uL3V0aWxzL2NyZWF0ZVVycWxDbGllbnQnO1xuXG5cbmV4cG9ydCBjb25zdCBDcmVhdGVQb3N0OiBSZWFjdC5GQzx7fT4gPSAoe30pID0+IHtcbiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgICBjb25zdCBbLCBjcmVhdGVQb3N0XSA9IHVzZUNyZWF0ZVBvc3RNdXRhdGlvbigpO1xuICAgIHJldHVybiAoXG4gICAgICAgIDxXcmFwcGVyIHZhcmlhbnQ9J3NtYWxsJz5cbiAgICAgICAgICAgIDxGb3JtaWtcbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWVzPXt7dGl0bGU6XCJcIiwgdGV4dDpcIlwifX1cbiAgICAgICAgICAgICAgICBvblN1Ym1pdD17YXN5bmMgKHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjcmVhdGVQb3N0KHtpbnB1dDp2YWx1ZXN9KVxuICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaChcIi9cIik7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgeyh7IGlzU3VibWl0dGluZyB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxGb3JtPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRGaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0ndGl0bGUnXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0ndGl0bGUnXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0nVGl0bGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8Qm94IG10PXs0fT5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0RmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J3RleHQuLi4nXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0nQm9keSdcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG10PXs0fVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JTY2hlbWU9J3RlYWwnXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0xvYWRpbmc9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J3N1Ym1pdCdcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBQb3N0XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvRm9ybWlrPlxuICAgICAgICA8L1dyYXBwZXI+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoVXJxbENsaWVudChjcmVhdGVVcnFsQ2xpZW50KShDcmVhdGVQb3N0KTsiXSwibmFtZXMiOlsiQm94IiwiQnV0dG9uIiwiRm9ybWlrIiwiRm9ybSIsIlJlYWN0IiwiSW5wdXRGaWVsZCIsIldyYXBwZXIiLCJ1c2VDcmVhdGVQb3N0TXV0YXRpb24iLCJ1c2VSb3V0ZXIiLCJ3aXRoVXJxbENsaWVudCIsImNyZWF0ZVVycWxDbGllbnQiLCJDcmVhdGVQb3N0Iiwicm91dGVyIiwiY3JlYXRlUG9zdCIsInZhcmlhbnQiLCJpbml0aWFsVmFsdWVzIiwidGl0bGUiLCJ0ZXh0Iiwib25TdWJtaXQiLCJ2YWx1ZXMiLCJjb25zb2xlIiwibG9nIiwiaW5wdXQiLCJwdXNoIiwiaXNTdWJtaXR0aW5nIiwibmFtZSIsInBsYWNlaG9sZGVyIiwibGFiZWwiLCJtdCIsInRleHRhcmVhIiwiY29sb3JTY2hlbWUiLCJpc0xvYWRpbmciLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/create-post.tsx\n");

/***/ }),

/***/ "./src/utils/betterUpdateQuery.ts":
/*!****************************************!*\
  !*** ./src/utils/betterUpdateQuery.ts ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"betterUpdateQuery\": function() { return /* binding */ betterUpdateQuery; }\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\nfunction betterUpdateQuery(cache, qi, result, fn) {\n    return cache.updateQuery(qi, function(data) {\n        return fn(result, data);\n    });\n}\n\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvYmV0dGVyVXBkYXRlUXVlcnkudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFTyxTQUFTQSxpQkFBaUIsQ0FDN0JDLEtBQVksRUFDWkMsRUFBYyxFQUNkQyxNQUFXLEVBQ1hDLEVBQWtDLEVBQUUsQ0FBQztJQUNyQyxNQUFNLENBQUNILEtBQUssQ0FBQ0ksV0FBVyxDQUFDSCxFQUFFLEVBQUVJLFFBQVFGLENBQVJFLElBQUk7UUFBSUYsTUFBTSxDQUFOQSxFQUFFLENBQUNELE1BQU0sRUFBRUcsSUFBSTs7QUFDeEQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvdXRpbHMvYmV0dGVyVXBkYXRlUXVlcnkudHM/MDhhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYWNoZSwgUXVlcnlJbnB1dCB9IGZyb20gXCJAdXJxbC9leGNoYW5nZS1ncmFwaGNhY2hlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBiZXR0ZXJVcGRhdGVRdWVyeTxSZXN1bHQsIFF1ZXJ5PihcbiAgICBjYWNoZTogQ2FjaGUsXG4gICAgcWk6IFF1ZXJ5SW5wdXQsXG4gICAgcmVzdWx0OiBhbnksXG4gICAgZm46IChyOiBSZXN1bHQsIHE6IFF1ZXJ5KSA9PiBRdWVyeSkge1xuICAgIHJldHVybiBjYWNoZS51cGRhdGVRdWVyeShxaSwgZGF0YSA9PiBmbihyZXN1bHQsIGRhdGEgYXMgYW55KSBhcyBhbnkpO1xufVxuIl0sIm5hbWVzIjpbImJldHRlclVwZGF0ZVF1ZXJ5IiwiY2FjaGUiLCJxaSIsInJlc3VsdCIsImZuIiwidXBkYXRlUXVlcnkiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/betterUpdateQuery.ts\n");

/***/ }),

/***/ "./src/utils/createUrqlClient.ts":
/*!***************************************!*\
  !*** ./src/utils/createUrqlClient.ts ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createUrqlClient\": function() { return /* binding */ createUrqlClient; }\n/* harmony export */ });\n/* harmony import */ var urql__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! urql */ \"./node_modules/urql/dist/urql.es.js\");\n/* harmony import */ var _urql_exchange_graphcache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @urql/exchange-graphcache */ \"./node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs\");\n/* harmony import */ var _generated_graphql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../generated/graphql */ \"./src/generated/graphql.tsx\");\n/* harmony import */ var _betterUpdateQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./betterUpdateQuery */ \"./src/utils/betterUpdateQuery.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\n\n\nvar createUrqlClient = function(ssrExchange) {\n    return {\n        url: \"http://localhost:4000/graphql\",\n        fetchOptions: {\n            credentials: \"include\",\n            headers: {\n                \"X-Forwarded-Proto\": \"https\"\n            }\n        },\n        exchanges: [\n            urql__WEBPACK_IMPORTED_MODULE_2__.dedupExchange,\n            (0,_urql_exchange_graphcache__WEBPACK_IMPORTED_MODULE_3__.cacheExchange)({\n                updates: {\n                    Mutation: {\n                        logout: function(_result, args, cache, info) {\n                            (0,_betterUpdateQuery__WEBPACK_IMPORTED_MODULE_1__.betterUpdateQuery)(cache, {\n                                query: _generated_graphql__WEBPACK_IMPORTED_MODULE_0__.MeDocument\n                            }, _result, function() {\n                                return {\n                                    me: null\n                                };\n                            });\n                        },\n                        login: function(_result, args, cache, info) {\n                            (0,_betterUpdateQuery__WEBPACK_IMPORTED_MODULE_1__.betterUpdateQuery)(cache, {\n                                query: _generated_graphql__WEBPACK_IMPORTED_MODULE_0__.MeDocument\n                            }, _result, function(result, query) {\n                                if (result.login.errors) {\n                                    return query;\n                                } else {\n                                    return {\n                                        me: result.login.user\n                                    };\n                                }\n                            });\n                        },\n                        register: function(_result, args, cache, info) {\n                            (0,_betterUpdateQuery__WEBPACK_IMPORTED_MODULE_1__.betterUpdateQuery)(cache, {\n                                query: _generated_graphql__WEBPACK_IMPORTED_MODULE_0__.MeDocument\n                            }, _result, function(result, query) {\n                                if (result.register.errors) {\n                                    return query;\n                                } else {\n                                    return {\n                                        me: result.register.user\n                                    };\n                                }\n                            });\n                        }\n                    }\n                }\n            }),\n            ssrExchange,\n            urql__WEBPACK_IMPORTED_MODULE_2__.fetchExchange, \n        ]\n    };\n};\n\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvY3JlYXRlVXJxbENsaWVudC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0Q7QUFDSztBQUNrRDtBQUNwRDtBQUVoRCxHQUFLLENBQUNLLGdCQUFnQixHQUFHLFFBQVEsQ0FBUEMsV0FBZ0I7SUFBSyxNQUNuRCxDQURvRCxDQUFDO1FBQ3BEQyxHQUFHLEVBQUUsQ0FBK0I7UUFDcENDLFlBQVksRUFBRSxDQUFDO1lBQ2JDLFdBQVcsRUFBRSxDQUFTO1lBQ3RCQyxPQUFPLEVBQUUsQ0FBQztnQkFBQyxDQUFtQixvQkFBRSxDQUFPO1lBQUMsQ0FBQztRQUMzQyxDQUFDO1FBQ0RDLFNBQVMsRUFBQyxDQUFDWDtZQUFBQSwrQ0FBYTtZQUFFRSx3RUFBYSxDQUFDLENBQUM7Z0JBQ3ZDVSxPQUFPLEVBQUUsQ0FBQztvQkFDUkMsUUFBUSxFQUFFLENBQUM7d0JBQ1RDLE1BQU0sRUFBRSxRQUFRLENBQVBDLE9BQU8sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBSyxDQUFDOzRCQUN2Q2QscUVBQWlCLENBQ2ZhLEtBQUssRUFDTCxDQUFDRTtnQ0FBQUEsS0FBSyxFQUFDaEIsMERBQVU7NEJBQUEsQ0FBQyxFQUNsQlksT0FBTyxFQUNQLFFBQVFLO2dDQUFGLE1BQU0sQ0FBTCxDQUFDQTtvQ0FBQUEsRUFBRSxFQUFDLElBQUk7Z0NBQUEsQ0FBQzs7d0JBRXBCLENBQUM7d0JBQ0RDLEtBQUssRUFBRSxRQUFRLENBQVBOLE9BQU8sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBSyxDQUFDOzRCQUN0Q2QscUVBQWlCLENBQ2ZhLEtBQUssRUFDTCxDQUFDRTtnQ0FBQUEsS0FBSyxFQUFDaEIsMERBQVU7NEJBQUEsQ0FBQyxFQUNsQlksT0FBTyxFQUNQLFFBQVEsQ0FBUE8sTUFBTSxFQUFFSCxLQUFLLEVBQUssQ0FBQztnQ0FDaEIsRUFBRSxFQUFFRyxNQUFNLENBQUNELEtBQUssQ0FBQ0UsTUFBTSxFQUFDLENBQUM7b0NBQ3ZCLE1BQU0sQ0FBQ0osS0FBSztnQ0FDZCxDQUFDLE1BQU0sQ0FBQztvQ0FDTixNQUFNLEVBQUM7d0NBQ0xDLEVBQUUsRUFBRUUsTUFBTSxDQUFDRCxLQUFLLENBQUNHLElBQUk7b0NBQ3ZCLENBQUM7Z0NBQ0gsQ0FBQzs0QkFDSCxDQUFDO3dCQUVQLENBQUM7d0JBQ0RDLFFBQVEsRUFBRSxRQUFRLENBQVBWLE9BQU8sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBSyxDQUFDOzRCQUN6Q2QscUVBQWlCLENBQ2ZhLEtBQUssRUFDTCxDQUFDRTtnQ0FBQUEsS0FBSyxFQUFDaEIsMERBQVU7NEJBQUEsQ0FBQyxFQUNsQlksT0FBTyxFQUNQLFFBQVEsQ0FBUE8sTUFBTSxFQUFFSCxLQUFLLEVBQUssQ0FBQztnQ0FDaEIsRUFBRSxFQUFFRyxNQUFNLENBQUNHLFFBQVEsQ0FBQ0YsTUFBTSxFQUFDLENBQUM7b0NBQzFCLE1BQU0sQ0FBQ0osS0FBSztnQ0FDZCxDQUFDLE1BQU0sQ0FBQztvQ0FDTixNQUFNLEVBQUM7d0NBQ0xDLEVBQUUsRUFBRUUsTUFBTSxDQUFDRyxRQUFRLENBQUNELElBQUk7b0NBQzFCLENBQUM7Z0NBQ0gsQ0FBQzs0QkFDSCxDQUFDO3dCQUVQLENBQUM7b0JBQ0gsQ0FBQztnQkFDSCxDQUFDO1lBQ0gsQ0FBQztZQUNBbEIsV0FBVztZQUNYTCwrQ0FBYTtRQUNkLENBQUM7SUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy91dGlscy9jcmVhdGVVcnFsQ2xpZW50LnRzPzkyNmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgIGRlZHVwRXhjaGFuZ2UsIGZldGNoRXhjaGFuZ2UgfSBmcm9tIFwidXJxbFwiXG5pbXBvcnQgeyBjYWNoZUV4Y2hhbmdlIH0gZnJvbSAnQHVycWwvZXhjaGFuZ2UtZ3JhcGhjYWNoZSc7XG5pbXBvcnQgeyBMb2dvdXRNdXRhdGlvbiwgTWVRdWVyeSwgTWVEb2N1bWVudCwgTG9naW5NdXRhdGlvbiwgUmVnaXN0ZXJNdXRhdGlvbiB9IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ3JhcGhxbFwiO1xuaW1wb3J0IHsgYmV0dGVyVXBkYXRlUXVlcnkgfSBmcm9tIFwiLi9iZXR0ZXJVcGRhdGVRdWVyeVwiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVXJxbENsaWVudCA9IChzc3JFeGNoYW5nZTogYW55KSA9PiAoe1xuICAgIHVybDogXCJodHRwOi8vbG9jYWxob3N0OjQwMDAvZ3JhcGhxbFwiLFxuICAgIGZldGNoT3B0aW9uczoge1xuICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiICBhcyBjb25zdCAsXG4gICAgICBoZWFkZXJzOiB7IFwiWC1Gb3J3YXJkZWQtUHJvdG9cIjogXCJodHRwc1wiIH0sXG4gICAgfSxcbiAgICBleGNoYW5nZXM6W2RlZHVwRXhjaGFuZ2UsIGNhY2hlRXhjaGFuZ2Uoe1xuICAgICAgdXBkYXRlczoge1xuICAgICAgICBNdXRhdGlvbjoge1xuICAgICAgICAgIGxvZ291dDogKF9yZXN1bHQsIGFyZ3MsIGNhY2hlLCBpbmZvKSA9PiB7XG4gICAgICAgICAgICBiZXR0ZXJVcGRhdGVRdWVyeTxMb2dvdXRNdXRhdGlvbiwgTWVRdWVyeT4gKFxuICAgICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgICAgICAge3F1ZXJ5Ok1lRG9jdW1lbnR9LFxuICAgICAgICAgICAgICBfcmVzdWx0LFxuICAgICAgICAgICAgICAoKSA9PiAoe21lOm51bGx9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbG9naW46IChfcmVzdWx0LCBhcmdzLCBjYWNoZSwgaW5mbykgPT4ge1xuICAgICAgICAgICAgYmV0dGVyVXBkYXRlUXVlcnk8TG9naW5NdXRhdGlvbiwgTWVRdWVyeT4gKFxuICAgICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgICAgICAge3F1ZXJ5Ok1lRG9jdW1lbnR9LFxuICAgICAgICAgICAgICBfcmVzdWx0LFxuICAgICAgICAgICAgICAocmVzdWx0LCBxdWVyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sb2dpbi5lcnJvcnMpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybntcbiAgICAgICAgICAgICAgICAgICAgICBtZTogcmVzdWx0LmxvZ2luLnVzZXIsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlZ2lzdGVyOiAoX3Jlc3VsdCwgYXJncywgY2FjaGUsIGluZm8pID0+IHtcbiAgICAgICAgICAgIGJldHRlclVwZGF0ZVF1ZXJ5PFJlZ2lzdGVyTXV0YXRpb24sIE1lUXVlcnk+IChcbiAgICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgICAgIHtxdWVyeTpNZURvY3VtZW50fSxcbiAgICAgICAgICAgICAgX3Jlc3VsdCxcbiAgICAgICAgICAgICAgKHJlc3VsdCwgcXVlcnkpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVnaXN0ZXIuZXJyb3JzKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm57XG4gICAgICAgICAgICAgICAgICAgICAgbWU6IHJlc3VsdC5yZWdpc3Rlci51c2VyLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICAgc3NyRXhjaGFuZ2UsXG4gICAgIGZldGNoRXhjaGFuZ2UsXG4gICAgXSxcbn0pIDsiXSwibmFtZXMiOlsiZGVkdXBFeGNoYW5nZSIsImZldGNoRXhjaGFuZ2UiLCJjYWNoZUV4Y2hhbmdlIiwiTWVEb2N1bWVudCIsImJldHRlclVwZGF0ZVF1ZXJ5IiwiY3JlYXRlVXJxbENsaWVudCIsInNzckV4Y2hhbmdlIiwidXJsIiwiZmV0Y2hPcHRpb25zIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwiZXhjaGFuZ2VzIiwidXBkYXRlcyIsIk11dGF0aW9uIiwibG9nb3V0IiwiX3Jlc3VsdCIsImFyZ3MiLCJjYWNoZSIsImluZm8iLCJxdWVyeSIsIm1lIiwibG9naW4iLCJyZXN1bHQiLCJlcnJvcnMiLCJ1c2VyIiwicmVnaXN0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/createUrqlClient.ts\n");

/***/ }),

/***/ "./node_modules/next-urql/dist/next-urql.es.js":
/*!*****************************************************!*\
  !*** ./node_modules/next-urql/dist/next-urql.es.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initUrqlClient\": function() { return /* binding */ initUrqlClient; },\n/* harmony export */   \"withUrqlClient\": function() { return /* binding */ withUrqlClient; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_ssr_prepass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-ssr-prepass */ \"./node_modules/react-ssr-prepass/dist/react-ssr-prepass.es.js\");\n/* harmony import */ var urql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! urql */ \"./node_modules/urql/dist/urql.es.js\");\n\n\n\n\n\n\nfunction _extends() {\n  return (_extends = Object.assign || function(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n      for (var r in n) {\n        if (Object.prototype.hasOwnProperty.call(n, r)) {\n          e[r] = n[r];\n        }\n      }\n    }\n    return e;\n  }).apply(this, arguments);\n}\n\nvar p = null;\n\nfunction resetClient() {\n  p = null;\n}\n\nfunction initUrqlClient(e, t) {\n  var n = \"undefined\" == typeof window;\n  if (n || !p) {\n    (p = (0,urql__WEBPACK_IMPORTED_MODULE_1__.createClient)(_extends({}, e, {\n      suspense: t && (n || e.suspense)\n    }))).toJSON = function() {\n      return null;\n    };\n  }\n  return p;\n}\n\nvar v;\n\nfunction withUrqlClient(a, p) {\n  if (!p) {\n    p = {};\n  }\n  return function(c) {\n    var d = Boolean((c.getInitialProps || p.ssr) && !p.neverSuspend);\n    var WithUrql = function(i) {\n      var h = i.pageProps;\n      var m = i.urqlClient;\n      var q = i.urqlState;\n      var C = function objectWithoutProperties(e, t) {\n        var n = {};\n        for (var r in e) {\n          if (Object.prototype.hasOwnProperty.call(e, r) && -1 === t.indexOf(r)) {\n            n[r] = e[r];\n          }\n        }\n        return n;\n      }(i, [ \"pageProps\", \"urqlClient\", \"urqlState\" ]);\n      var g = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((function(e) {\n        return e + 1;\n      }), 0);\n      var x = g[0];\n      var P = g[1];\n      var y = h && h.urqlState || q;\n      var w = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function() {\n        if (m && !x) {\n          return m;\n        }\n        if (!v || \"undefined\" == typeof window) {\n          v = (0,urql__WEBPACK_IMPORTED_MODULE_1__.ssrExchange)({\n            initialState: y,\n            isClient: !0,\n            staleWhileRevalidate: \"undefined\" != typeof window ? p.staleWhileRevalidate : void 0\n          });\n        } else if (!x) {\n          v.restoreData(y);\n        }\n        var e = a(v);\n        if (!e.exchanges) {\n          e.exchanges = [ urql__WEBPACK_IMPORTED_MODULE_1__.dedupExchange, urql__WEBPACK_IMPORTED_MODULE_1__.cacheExchange, v, urql__WEBPACK_IMPORTED_MODULE_1__.fetchExchange ];\n        }\n        return initUrqlClient(e, d);\n      }), [ m, y, x ]);\n      var _ = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function() {\n        resetClient();\n        v = (0,urql__WEBPACK_IMPORTED_MODULE_1__.ssrExchange)({\n          initialState: void 0\n        });\n        P();\n      }), []);\n      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(urql__WEBPACK_IMPORTED_MODULE_1__.Provider, {\n        value: w\n      }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c, _extends({}, C, {\n        pageProps: h,\n        urqlClient: w,\n        resetUrqlClient: _\n      })));\n    };\n    WithUrql.displayName = \"withUrqlClient(\" + (c.displayName || c.name || \"Component\") + \")\";\n    if (c.getLayout) {\n      WithUrql.getLayout = c.getLayout;\n    }\n    if (c.getInitialProps || p.ssr) {\n      WithUrql.getInitialProps = function(e) {\n        try {\n          let q = !1;\n          function _temp4(e) {\n            if (q) {\n              return e;\n            }\n            function _temp2() {\n              return _extends({}, m, {\n                urqlState: v ? v.extractData() : void 0,\n                urqlClient: h\n              });\n            }\n            if (\"undefined\" != typeof window) {\n              return _extends({}, m, {\n                urqlClient: h\n              });\n            }\n            var a = _extends({}, m, {\n              urqlClient: h\n            });\n            var o = n ? a : {\n              pageProps: a\n            };\n            const l = function() {\n              if (!p.neverSuspend) {\n                return Promise.resolve((0,react_ssr_prepass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(t, o))).then((function() {}));\n              }\n            }();\n            return l && l.then ? l.then(_temp2) : _temp2();\n          }\n          var t = e.AppTree;\n          var n = !!e.Component;\n          var f = n ? e.ctx : e;\n          var v = (0,urql__WEBPACK_IMPORTED_MODULE_1__.ssrExchange)({\n            initialState: void 0\n          });\n          var d = a(v, f);\n          if (!d.exchanges) {\n            d.exchanges = [ urql__WEBPACK_IMPORTED_MODULE_1__.dedupExchange, urql__WEBPACK_IMPORTED_MODULE_1__.cacheExchange, v, urql__WEBPACK_IMPORTED_MODULE_1__.fetchExchange ];\n          }\n          var h = initUrqlClient(d, !p.neverSuspend);\n          if (h) {\n            f.urqlClient = h;\n          }\n          var m = {};\n          const C = function() {\n            if (c.getInitialProps) {\n              return Promise.resolve(c.getInitialProps(e)).then((function(e) {\n                m = e;\n                if (f.res && (f.res.writableEnded || f.res.finished)) {\n                  q = !0;\n                  return _extends({}, m, {\n                    urqlClient: h\n                  });\n                }\n              }));\n            }\n          }();\n          return Promise.resolve(C && C.then ? C.then(_temp4) : _temp4(C));\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      };\n    }\n    return WithUrql;\n  };\n}\n\n\n//# sourceMappingURL=next-urql.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC11cnFsL2Rpc3QvbmV4dC11cnFsLmVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE0Rjs7QUFFMUQ7O0FBRW9HOztBQUV0STtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtEQUFDLFlBQVk7QUFDdEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsY0FBYyxpREFBQztBQUNmO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOENBQUM7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaURBQUM7QUFDZjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtDQUFDLEVBQUUsK0NBQUMsS0FBSywrQ0FBQztBQUNwQztBQUNBO0FBQ0EsT0FBTztBQUNQLGNBQWMsa0RBQUM7QUFDZjtBQUNBLFlBQVksaURBQUM7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUCxhQUFhLG9EQUFDLENBQUMsMENBQUM7QUFDaEI7QUFDQSxPQUFPLEVBQUUsb0RBQUMsZUFBZTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSxlQUFlO0FBQ2Y7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw2REFBQyxDQUFDLG9EQUFDLDRCQUE0QjtBQUN0RTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlEQUFDO0FBQ25CO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSw0QkFBNEIsK0NBQUMsRUFBRSwrQ0FBQyxLQUFLLCtDQUFDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMEM7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQtdXJxbC9kaXN0L25leHQtdXJxbC5lcy5qcz84MWRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZHVjZXIgYXMgZSwgdXNlTWVtbyBhcyB0LCB1c2VDYWxsYmFjayBhcyBuLCBjcmVhdGVFbGVtZW50IGFzIHIgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IGkgZnJvbSBcInJlYWN0LXNzci1wcmVwYXNzXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCBhcyBhLCBzc3JFeGNoYW5nZSBhcyBvLCBkZWR1cEV4Y2hhbmdlIGFzIGwsIGNhY2hlRXhjaGFuZ2UgYXMgdSwgZmV0Y2hFeGNoYW5nZSBhcyBzLCBQcm92aWRlciBhcyBmIH0gZnJvbSBcInVycWxcIjtcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIHJldHVybiAoX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKGUpIHtcbiAgICBmb3IgKHZhciB0ID0gMTsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykge1xuICAgICAgdmFyIG4gPSBhcmd1bWVudHNbdF07XG4gICAgICBmb3IgKHZhciByIGluIG4pIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCByKSkge1xuICAgICAgICAgIGVbcl0gPSBuW3JdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgcCA9IG51bGw7XG5cbmZ1bmN0aW9uIHJlc2V0Q2xpZW50KCkge1xuICBwID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaW5pdFVycWxDbGllbnQoZSwgdCkge1xuICB2YXIgbiA9IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIHdpbmRvdztcbiAgaWYgKG4gfHwgIXApIHtcbiAgICAocCA9IGEoX2V4dGVuZHMoe30sIGUsIHtcbiAgICAgIHN1c3BlbnNlOiB0ICYmIChuIHx8IGUuc3VzcGVuc2UpXG4gICAgfSkpKS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHA7XG59XG5cbnZhciB2O1xuXG5mdW5jdGlvbiB3aXRoVXJxbENsaWVudChhLCBwKSB7XG4gIGlmICghcCkge1xuICAgIHAgPSB7fTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oYykge1xuICAgIHZhciBkID0gQm9vbGVhbigoYy5nZXRJbml0aWFsUHJvcHMgfHwgcC5zc3IpICYmICFwLm5ldmVyU3VzcGVuZCk7XG4gICAgdmFyIFdpdGhVcnFsID0gZnVuY3Rpb24oaSkge1xuICAgICAgdmFyIGggPSBpLnBhZ2VQcm9wcztcbiAgICAgIHZhciBtID0gaS51cnFsQ2xpZW50O1xuICAgICAgdmFyIHEgPSBpLnVycWxTdGF0ZTtcbiAgICAgIHZhciBDID0gZnVuY3Rpb24gb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZSwgdCkge1xuICAgICAgICB2YXIgbiA9IHt9O1xuICAgICAgICBmb3IgKHZhciByIGluIGUpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIHIpICYmIC0xID09PSB0LmluZGV4T2YocikpIHtcbiAgICAgICAgICAgIG5bcl0gPSBlW3JdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0oaSwgWyBcInBhZ2VQcm9wc1wiLCBcInVycWxDbGllbnRcIiwgXCJ1cnFsU3RhdGVcIiBdKTtcbiAgICAgIHZhciBnID0gZSgoZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4gZSArIDE7XG4gICAgICB9KSwgMCk7XG4gICAgICB2YXIgeCA9IGdbMF07XG4gICAgICB2YXIgUCA9IGdbMV07XG4gICAgICB2YXIgeSA9IGggJiYgaC51cnFsU3RhdGUgfHwgcTtcbiAgICAgIHZhciB3ID0gdCgoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChtICYmICF4KSB7XG4gICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2IHx8IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIHdpbmRvdykge1xuICAgICAgICAgIHYgPSBvKHtcbiAgICAgICAgICAgIGluaXRpYWxTdGF0ZTogeSxcbiAgICAgICAgICAgIGlzQ2xpZW50OiAhMCxcbiAgICAgICAgICAgIHN0YWxlV2hpbGVSZXZhbGlkYXRlOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyBwLnN0YWxlV2hpbGVSZXZhbGlkYXRlIDogdm9pZCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXgpIHtcbiAgICAgICAgICB2LnJlc3RvcmVEYXRhKHkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlID0gYSh2KTtcbiAgICAgICAgaWYgKCFlLmV4Y2hhbmdlcykge1xuICAgICAgICAgIGUuZXhjaGFuZ2VzID0gWyBsLCB1LCB2LCBzIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluaXRVcnFsQ2xpZW50KGUsIGQpO1xuICAgICAgfSksIFsgbSwgeSwgeCBdKTtcbiAgICAgIHZhciBfID0gbigoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc2V0Q2xpZW50KCk7XG4gICAgICAgIHYgPSBvKHtcbiAgICAgICAgICBpbml0aWFsU3RhdGU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgUCgpO1xuICAgICAgfSksIFtdKTtcbiAgICAgIHJldHVybiByKGYsIHtcbiAgICAgICAgdmFsdWU6IHdcbiAgICAgIH0sIHIoYywgX2V4dGVuZHMoe30sIEMsIHtcbiAgICAgICAgcGFnZVByb3BzOiBoLFxuICAgICAgICB1cnFsQ2xpZW50OiB3LFxuICAgICAgICByZXNldFVycWxDbGllbnQ6IF9cbiAgICAgIH0pKSk7XG4gICAgfTtcbiAgICBXaXRoVXJxbC5kaXNwbGF5TmFtZSA9IFwid2l0aFVycWxDbGllbnQoXCIgKyAoYy5kaXNwbGF5TmFtZSB8fCBjLm5hbWUgfHwgXCJDb21wb25lbnRcIikgKyBcIilcIjtcbiAgICBpZiAoYy5nZXRMYXlvdXQpIHtcbiAgICAgIFdpdGhVcnFsLmdldExheW91dCA9IGMuZ2V0TGF5b3V0O1xuICAgIH1cbiAgICBpZiAoYy5nZXRJbml0aWFsUHJvcHMgfHwgcC5zc3IpIHtcbiAgICAgIFdpdGhVcnFsLmdldEluaXRpYWxQcm9wcyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcSA9ICExO1xuICAgICAgICAgIGZ1bmN0aW9uIF90ZW1wNChlKSB7XG4gICAgICAgICAgICBpZiAocSkge1xuICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIF90ZW1wMigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBtLCB7XG4gICAgICAgICAgICAgICAgdXJxbFN0YXRlOiB2ID8gdi5leHRyYWN0RGF0YSgpIDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIHVycWxDbGllbnQ6IGhcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93KSB7XG4gICAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbSwge1xuICAgICAgICAgICAgICAgIHVycWxDbGllbnQ6IGhcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYSA9IF9leHRlbmRzKHt9LCBtLCB7XG4gICAgICAgICAgICAgIHVycWxDbGllbnQ6IGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG8gPSBuID8gYSA6IHtcbiAgICAgICAgICAgICAgcGFnZVByb3BzOiBhXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXAubmV2ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpKHIodCwgbykpKS50aGVuKChmdW5jdGlvbigpIHt9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0oKTtcbiAgICAgICAgICAgIHJldHVybiBsICYmIGwudGhlbiA/IGwudGhlbihfdGVtcDIpIDogX3RlbXAyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB0ID0gZS5BcHBUcmVlO1xuICAgICAgICAgIHZhciBuID0gISFlLkNvbXBvbmVudDtcbiAgICAgICAgICB2YXIgZiA9IG4gPyBlLmN0eCA6IGU7XG4gICAgICAgICAgdmFyIHYgPSBvKHtcbiAgICAgICAgICAgIGluaXRpYWxTdGF0ZTogdm9pZCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGQgPSBhKHYsIGYpO1xuICAgICAgICAgIGlmICghZC5leGNoYW5nZXMpIHtcbiAgICAgICAgICAgIGQuZXhjaGFuZ2VzID0gWyBsLCB1LCB2LCBzIF07XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBoID0gaW5pdFVycWxDbGllbnQoZCwgIXAubmV2ZXJTdXNwZW5kKTtcbiAgICAgICAgICBpZiAoaCkge1xuICAgICAgICAgICAgZi51cnFsQ2xpZW50ID0gaDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG0gPSB7fTtcbiAgICAgICAgICBjb25zdCBDID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoYy5nZXRJbml0aWFsUHJvcHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjLmdldEluaXRpYWxQcm9wcyhlKSkudGhlbigoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIG0gPSBlO1xuICAgICAgICAgICAgICAgIGlmIChmLnJlcyAmJiAoZi5yZXMud3JpdGFibGVFbmRlZCB8fCBmLnJlcy5maW5pc2hlZCkpIHtcbiAgICAgICAgICAgICAgICAgIHEgPSAhMDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbSwge1xuICAgICAgICAgICAgICAgICAgICB1cnFsQ2xpZW50OiBoXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KCk7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShDICYmIEMudGhlbiA/IEMudGhlbihfdGVtcDQpIDogX3RlbXA0KEMpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIFdpdGhVcnFsO1xuICB9O1xufVxuXG5leHBvcnQgeyBpbml0VXJxbENsaWVudCwgd2l0aFVycWxDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5leHQtdXJxbC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next-urql/dist/next-urql.es.js\n");

/***/ }),

/***/ "./node_modules/react-ssr-prepass/dist/react-ssr-prepass.es.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-ssr-prepass/dist/react-ssr-prepass.es.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ renderPrepass; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction _extends() {\n  _extends = Object.assign || function(e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var t = arguments[r];\n      for (var n in t) {\n        if (Object.prototype.hasOwnProperty.call(t, n)) {\n          e[n] = t[n];\n        }\n      }\n    }\n    return e;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar n = 60103;\n\nvar u = 60106;\n\nvar o = 60107;\n\nvar a = 60108;\n\nvar i = 60114;\n\nvar c = 60109;\n\nvar l = 60110;\n\nvar f = 60111;\n\nvar s = 60112;\n\nvar v = 60113;\n\nvar p = 60115;\n\nvar d = 60116;\n\nif (\"function\" == typeof Symbol && Symbol.for) {\n  var m = Symbol.for;\n  n = m(\"react.element\");\n  u = m(\"react.portal\");\n  o = m(\"react.fragment\");\n  a = m(\"react.strict_mode\");\n  i = m(\"react.profiler\");\n  c = m(\"react.provider\");\n  l = m(\"react.context\");\n  f = Symbol.for(\"react.concurrent_mode\");\n  s = m(\"react.forward_ref\");\n  v = m(\"react.suspense\");\n  p = m(\"react.memo\");\n  d = m(\"react.lazy\");\n}\n\nvar h = n;\n\nvar y = u;\n\nvar _ = o;\n\nvar S = a;\n\nvar x = i;\n\nvar b = c;\n\nvar M = l;\n\nvar g = f;\n\nvar k = s;\n\nvar w = v;\n\nvar F = p;\n\nvar I = d;\n\nvar q = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray;\n\nvar isAbstractElement = function(e) {\n  return null !== e && \"object\" == typeof e;\n};\n\nvar getChildrenArray = function(e) {\n  return q(e).filter(isAbstractElement);\n};\n\nvar computeProps = function(e, r) {\n  return \"object\" == typeof r ? _extends({}, r, e) : e;\n};\n\nvar E = new Map;\n\nvar C = {};\n\nvar D = void 0;\n\nvar P = void 0;\n\nvar getCurrentContextMap = function() {\n  return _extends({}, C);\n};\n\nvar getCurrentContextStore = function() {\n  return new Map(E);\n};\n\nvar flushPrevContextMap = function() {\n  var e = D;\n  D = void 0;\n  return e;\n};\n\nvar flushPrevContextStore = function() {\n  var e = P;\n  P = void 0;\n  return e;\n};\n\nvar restoreContextMap = function(e) {\n  if (void 0 !== e) {\n    _extends(C, e);\n  }\n};\n\nvar restoreContextStore = function(e) {\n  if (void 0 !== e) {\n    E.set(e[0], e[1]);\n  }\n};\n\nvar setCurrentContextMap = function(e) {\n  D = void 0;\n  C = e;\n};\n\nvar setCurrentContextStore = function(e) {\n  P = void 0;\n  E = e;\n};\n\nvar readContextValue = function(e) {\n  var r = E.get(e);\n  if (void 0 !== r) {\n    return r;\n  }\n  return e._currentValue;\n};\n\nvar R = {};\n\nvar maskContext = function(e) {\n  var r = e.contextType;\n  var t = e.contextTypes;\n  if (r) {\n    return readContextValue(r);\n  } else if (!t) {\n    return R;\n  }\n  var n = {};\n  for (var u in t) {\n    n[u] = C[u];\n  }\n  return n;\n};\n\nvar z = null;\n\nvar getCurrentErrorFrame = function() {\n  return z;\n};\n\nvar setCurrentErrorFrame = function(e) {\n  z = e || null;\n};\n\nvar O = {\n  current: {\n    uniqueID: 0\n  }\n};\n\nvar W = \"function\" == typeof Object.is ? Object.is : function is(e, r) {\n  return e === r && (0 !== e || 1 / e == 1 / r) || e != e && r != r;\n};\n\nvar j = null;\n\nvar setCurrentIdentity = function(e) {\n  j = e;\n};\n\nvar getCurrentIdentity = function() {\n  if (null === j) {\n    throw new Error(\"[react-ssr-prepass] Hooks can only be called inside the body of a function component. (https://fb.me/react-invalid-hook-call)\");\n  }\n  return j;\n};\n\nvar H = null;\n\nvar T = null;\n\nvar U = !1;\n\nvar $ = null;\n\nvar A = 0;\n\nvar setFirstHook = function(e) {\n  H = e;\n};\n\nfunction createWorkInProgressHook() {\n  if (null === T) {\n    if (null === H) {\n      return H = T = {\n        memoizedState: null,\n        queue: null,\n        next: null\n      };\n    } else {\n      return T = H;\n    }\n  } else if (null === T.next) {\n    return T = T.next = {\n      memoizedState: null,\n      queue: null,\n      next: null\n    };\n  } else {\n    return T = T.next;\n  }\n}\n\nfunction basicStateReducer(e, r) {\n  return \"function\" == typeof r ? r(e) : r;\n}\n\nfunction useReducer(e, r, t) {\n  var n = getCurrentIdentity();\n  if (null === (T = createWorkInProgressHook()).queue) {\n    var u;\n    if (e === basicStateReducer) {\n      u = \"function\" == typeof r ? r() : r;\n    } else {\n      u = void 0 !== t ? t(r) : r;\n    }\n    T.memoizedState = u;\n  }\n  var o = T.queue || (T.queue = {\n    last: null,\n    dispatch: null\n  });\n  var a = o.dispatch || (o.dispatch = dispatchAction.bind(null, n, o));\n  if (null !== $) {\n    var i = $.get(o);\n    if (void 0 !== i) {\n      $.delete(o);\n      var c = T.memoizedState;\n      var l = i;\n      do {\n        c = e(c, l.action);\n        l = l.next;\n      } while (null !== l);\n      T.memoizedState = c;\n    }\n  }\n  return [ T.memoizedState, a ];\n}\n\nfunction useMemo(e, r) {\n  getCurrentIdentity();\n  var t = void 0 === r ? null : r;\n  var n = (T = createWorkInProgressHook()).memoizedState;\n  if (null !== n && null !== t) {\n    if (function areHookInputsEqual(e, r) {\n      if (null === r) {\n        return !1;\n      }\n      for (var t = 0; t < r.length && t < e.length; t++) {\n        if (!W(e[t], r[t])) {\n          return !1;\n        }\n      }\n      return !0;\n    }(t, n[1])) {\n      return n[0];\n    }\n  }\n  var u = e();\n  T.memoizedState = [ u, t ];\n  return u;\n}\n\nfunction useOpaqueIdentifier() {\n  getCurrentIdentity();\n  if (!(T = createWorkInProgressHook()).memoizedState) {\n    T.memoizedState = \"R:\" + (O.current.uniqueID++).toString(36);\n  }\n  return T.memoizedState;\n}\n\nfunction dispatchAction(e, r, t) {\n  if (e === j) {\n    U = !0;\n    var n = {\n      action: t,\n      next: null\n    };\n    if (null === $) {\n      $ = new Map;\n    }\n    var u = $.get(r);\n    if (void 0 === u) {\n      $.set(r, n);\n    } else {\n      var o = u;\n      while (null !== o.next) {\n        o = o.next;\n      }\n      o.next = n;\n    }\n  }\n}\n\nfunction noop() {}\n\nfunction _ref$2(e) {\n  e();\n}\n\nvar N = {\n  readContext: function readContext(e, r) {\n    return readContextValue(e);\n  },\n  useSyncExternalStore: function useSyncExternalStore(e, r, t) {\n    return r();\n  },\n  useContext: function useContext(e, r) {\n    getCurrentIdentity();\n    return readContextValue(e);\n  },\n  useMemo: useMemo,\n  useReducer: useReducer,\n  useRef: function useRef(e) {\n    getCurrentIdentity();\n    var r = (T = createWorkInProgressHook()).memoizedState;\n    if (null === r) {\n      var t = {\n        current: e\n      };\n      T.memoizedState = t;\n      return t;\n    } else {\n      return r;\n    }\n  },\n  useState: function useState(e) {\n    return useReducer(basicStateReducer, e);\n  },\n  useCallback: function useCallback(e, r) {\n    return useMemo((function() {\n      return e;\n    }), r);\n  },\n  useMutableSource: function useMutableSource(e, r, t) {\n    getCurrentIdentity();\n    return r(e._source);\n  },\n  useTransition: function useTransition() {\n    return [ _ref$2, !1 ];\n  },\n  useDeferredValue: function useDeferredValue(e) {\n    return e;\n  },\n  useOpaqueIdentifier: useOpaqueIdentifier,\n  useId: useOpaqueIdentifier,\n  unstable_useId: useOpaqueIdentifier,\n  unstable_useOpaqueIdentifier: useOpaqueIdentifier,\n  useLayoutEffect: noop,\n  useImperativeHandle: noop,\n  useEffect: noop,\n  useDebugValue: noop\n};\n\nvar resolve = function(e) {\n  var r = e._payload || e;\n  if (0 === r._status) {\n    return r._result;\n  } else if (1 === r._status) {\n    return Promise.resolve(r._result);\n  } else if (2 === r._status) {\n    return Promise.reject(r._result);\n  }\n  r._status = 0;\n  return r._result = (r._ctor || r._result)().then((function(e) {\n    r._result = e;\n    if (\"function\" == typeof e) {\n      r._status = 1;\n    } else if (null !== e && \"object\" == typeof e && \"function\" == typeof e.default) {\n      r._result = e.default;\n      r._status = 1;\n    } else {\n      r._status = 2;\n    }\n  })).catch((function(e) {\n    r._status = 2;\n    r._result = e;\n    return Promise.reject(e);\n  }));\n};\n\nvar render$3 = function(e, r, n) {\n  var u = e._payload || e;\n  if (1 === u._status) {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u._result, r);\n  }\n  return null;\n};\n\nvar makeFrame$1 = function(e, r, t) {\n  return {\n    contextMap: getCurrentContextMap(),\n    contextStore: getCurrentContextStore(),\n    id: getCurrentIdentity(),\n    hook: H,\n    kind: \"frame.hooks\",\n    errorFrame: getCurrentErrorFrame(),\n    thenable: t,\n    props: r,\n    type: e\n  };\n};\n\nvar render$2 = function(e, r, t) {\n  try {\n    return function renderWithHooks(e, r, t) {\n      T = null;\n      var n = e(r, t);\n      while (A < 25 && U) {\n        U = !1;\n        A += 1;\n        T = null;\n        n = e(r, t);\n      }\n      A = 0;\n      $ = null;\n      T = null;\n      return n;\n    }(e, computeProps(r, e.defaultProps), maskContext(e));\n  } catch (n) {\n    if (\"function\" != typeof n.then) {\n      throw n;\n    }\n    t.push(makeFrame$1(e, r, n));\n    return null;\n  }\n};\n\nfunction _ref$1() {\n  return !1;\n}\n\nfunction _ref2() {\n  return null;\n}\n\nvar createInstance = function(e, r) {\n  var t = {\n    _thrown: 0,\n    queue: n = [],\n    isMounted: _ref$1,\n    enqueueForceUpdate: _ref2,\n    enqueueReplaceState: function(e, r) {\n      if (e._isMounted) {\n        n.length = 0;\n        n.push(r);\n      }\n    },\n    enqueueSetState: function(e, r) {\n      if (e._isMounted) {\n        n.push(r);\n      }\n    }\n  };\n  var n;\n  var u = computeProps(r, e.defaultProps);\n  var o = maskContext(e);\n  var a = new e(u, o, t);\n  a.props = u;\n  a.context = o;\n  a.updater = t;\n  a._isMounted = !0;\n  if (void 0 === a.state) {\n    a.state = null;\n  }\n  if (\"function\" == typeof a.componentDidCatch || \"function\" == typeof e.getDerivedStateFromError) {\n    var i = makeFrame(e, a, null);\n    i.errorFrame = i;\n    setCurrentErrorFrame(i);\n  }\n  if (\"function\" == typeof e.getDerivedStateFromProps) {\n    var c = (0, e.getDerivedStateFromProps)(a.props, a.state);\n    if (null != c) {\n      a.state = _extends({}, a.state, c);\n    }\n  } else if (\"function\" == typeof a.componentWillMount) {\n    a.componentWillMount();\n  } else if (\"function\" == typeof a.UNSAFE_componentWillMount) {\n    a.UNSAFE_componentWillMount();\n  }\n  return a;\n};\n\nvar makeFrame = function(e, r, t) {\n  return {\n    contextMap: getCurrentContextMap(),\n    contextStore: getCurrentContextStore(),\n    errorFrame: getCurrentErrorFrame(),\n    thenable: t,\n    kind: \"frame.class\",\n    error: null,\n    instance: r,\n    type: e\n  };\n};\n\nvar render$1 = function(e, r, t) {\n  !function(e) {\n    var r = e.updater.queue;\n    if (r.length > 0) {\n      var t = _extends({}, e.state);\n      for (var n = 0, u = r.length; n < u; n++) {\n        var o = r[n];\n        var a = \"function\" == typeof o ? o.call(e, t, e.props, e.context) : o;\n        if (null !== a) {\n          _extends(t, a);\n        }\n      }\n      e.state = t;\n      r.length = 0;\n    }\n  }(r);\n  var n = null;\n  try {\n    n = r.render();\n  } catch (n) {\n    if (\"function\" != typeof n.then) {\n      throw n;\n    }\n    t.push(makeFrame(e, r, n));\n    return null;\n  }\n  if (void 0 !== e.childContextTypes && \"function\" == typeof r.getChildContext) {\n    var u = r.getChildContext();\n    if (null !== u && \"object\" == typeof u) {\n      !function(e) {\n        D = {};\n        for (var r in e) {\n          D[r] = C[r];\n          C[r] = e[r];\n        }\n      }(u);\n    }\n  }\n  if (\"function\" != typeof r.getDerivedStateFromProps && (\"function\" == typeof r.componentWillMount || \"function\" == typeof r.UNSAFE_componentWillMount) && \"function\" == typeof r.componentWillUnmount) {\n    try {\n      r.componentWillUnmount();\n    } catch (e) {}\n  }\n  r._isMounted = !1;\n  return n;\n};\n\nvar L = (react__WEBPACK_IMPORTED_MODULE_0___default().__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher);\n\nvar V = \"function\" == typeof setImmediate;\n\nvar render = function(e, r, t, n, u) {\n  return (o = e).prototype && o.prototype.isReactComponent ? function(e, r, t, n, u) {\n    setCurrentIdentity(null);\n    var o = createInstance(e, r);\n    var a = n(u, o);\n    if (a) {\n      t.push(makeFrame(e, o, a));\n      return null;\n    }\n    return render$1(e, o, t);\n  }(e, r, t, n, u) : function(e, r, t, n, u) {\n    setFirstHook(null);\n    setCurrentIdentity({});\n    var o = n(u);\n    if (o) {\n      t.push(makeFrame$1(e, r, o));\n      return null;\n    }\n    return render$2(e, r, t);\n  }(e, r, t, n, u);\n  var o;\n};\n\nvar visitElement = function(e, r, n) {\n  switch (function(e) {\n    switch (e.$$typeof) {\n     case y:\n      return y;\n\n     case h:\n      switch (e.type) {\n       case g:\n        return g;\n\n       case _:\n        return _;\n\n       case x:\n        return x;\n\n       case S:\n        return S;\n\n       case w:\n        return w;\n\n       default:\n        switch (e.type && e.type.$$typeof) {\n         case I:\n          return I;\n\n         case F:\n          return F;\n\n         case M:\n          return M;\n\n         case b:\n          return b;\n\n         case k:\n          return k;\n\n         default:\n          return h;\n        }\n      }\n\n     default:\n      return;\n    }\n  }(e)) {\n   case w:\n   case S:\n   case g:\n   case x:\n   case _:\n    return getChildrenArray(e.props.children);\n\n   case b:\n    var u = e.props;\n    var o = u.children;\n    !function(e, r) {\n      P = [ e, E.get(e) ];\n      E.set(e, r);\n    }(e.type._context, u.value);\n    return getChildrenArray(o);\n\n   case M:\n    var a = e.props.children;\n    if (\"function\" == typeof a) {\n      var i = e.type;\n      var c = readContextValue(\"object\" == typeof i._context ? i._context : i);\n      return getChildrenArray(a(c));\n    } else {\n      return [];\n    }\n\n   case I:\n    var l = function(e, r, t) {\n      if ((e._payload || e)._status <= 0) {\n        t.push({\n          kind: \"frame.lazy\",\n          contextMap: getCurrentContextMap(),\n          contextStore: getCurrentContextStore(),\n          errorFrame: getCurrentErrorFrame(),\n          thenable: resolve(e),\n          props: r,\n          type: e\n        });\n        return null;\n      }\n      return render$3(e, r);\n    }(e.type, e.props, r);\n    return getChildrenArray(l);\n\n   case F:\n    var f = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(e.type.type, e.props);\n    return getChildrenArray(f);\n\n   case k:\n    var s = e.type;\n    var v = s.render;\n    var p = computeProps(e.props, s.defaultProps);\n    var d = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(v, p);\n    return getChildrenArray(d);\n\n   case h:\n    if (\"string\" == typeof e.type) {\n      return getChildrenArray(e.props.children);\n    } else {\n      var m = render(e.type, e.props, r, n, e);\n      return getChildrenArray(m);\n    }\n\n   default:\n    return [];\n  }\n};\n\nvar visitLoop = function(e, r, t, n, u, o) {\n  var a = L.current;\n  var i = Date.now();\n  try {\n    L.current = N;\n    while (e.length > 0) {\n      var c = e[e.length - 1].shift();\n      if (void 0 !== c) {\n        var l = visitElement(c, u, o);\n        e.push(l);\n        r.push(flushPrevContextMap());\n        t.push(flushPrevContextStore());\n        n.push(getCurrentErrorFrame());\n      } else {\n        e.pop();\n        restoreContextMap(r.pop());\n        restoreContextStore(t.pop());\n        setCurrentErrorFrame(n.pop());\n      }\n      if (V && Date.now() - i > 5) {\n        return !0;\n      }\n    }\n    return !1;\n  } catch (e) {\n    var f = getCurrentErrorFrame();\n    if (!f) {\n      throw e;\n    }\n    f.error = e;\n    u.unshift(f);\n    return !1;\n  } finally {\n    L.current = a;\n  }\n};\n\nvar makeYieldFrame = function(e, r, t, n) {\n  return {\n    contextMap: getCurrentContextMap(),\n    contextStore: getCurrentContextStore(),\n    errorFrame: getCurrentErrorFrame(),\n    thenable: null,\n    kind: \"frame.yield\",\n    traversalChildren: e,\n    traversalMap: r,\n    traversalStore: t,\n    traversalErrorFrame: n\n  };\n};\n\nvar visit = function(e, r, t) {\n  var n = [ e ];\n  var u = [ flushPrevContextMap() ];\n  var o = [ flushPrevContextStore() ];\n  var a = [ getCurrentErrorFrame() ];\n  if (visitLoop(n, u, o, a, r, t)) {\n    r.unshift(makeYieldFrame(n, u, o, a));\n  }\n};\n\nvar update = function(e, r, t) {\n  if (\"frame.yield\" === e.kind) {\n    setCurrentIdentity(null);\n    setCurrentContextMap(e.contextMap);\n    setCurrentContextStore(e.contextStore);\n    setCurrentErrorFrame(e.errorFrame);\n    if (visitLoop(e.traversalChildren, e.traversalMap, e.traversalStore, e.traversalErrorFrame, r, t)) {\n      r.unshift(makeYieldFrame(e.traversalChildren, e.traversalMap, e.traversalStore, e.traversalErrorFrame));\n    }\n  } else {\n    var n = L.current;\n    var u = null;\n    L.current = N;\n    try {\n      if (\"frame.class\" === e.kind) {\n        u = function(e, r) {\n          setCurrentIdentity(null);\n          setCurrentContextMap(r.contextMap);\n          setCurrentContextStore(r.contextStore);\n          setCurrentErrorFrame(r.errorFrame);\n          if (r.error) {\n            if (++r.instance.updater._thrown >= 25) {\n              return null;\n            }\n            r.instance._isMounted = !0;\n            if (\"function\" == typeof r.instance.componentDidCatch) {\n              r.instance.componentDidCatch(r.error);\n            }\n            if (\"function\" == typeof r.type.getDerivedStateFromError) {\n              r.instance.updater.enqueueSetState(r.instance, r.type.getDerivedStateFromError(r.error));\n            }\n          }\n          return render$1(r.type, r.instance, e);\n        }(r, e);\n      } else if (\"frame.hooks\" === e.kind) {\n        u = function(e, r) {\n          setFirstHook(r.hook);\n          setCurrentIdentity(r.id);\n          setCurrentContextMap(r.contextMap);\n          setCurrentContextStore(r.contextStore);\n          setCurrentErrorFrame(r.errorFrame);\n          return render$2(r.type, r.props, e);\n        }(r, e);\n      } else if (\"frame.lazy\" === e.kind) {\n        u = function(e, r) {\n          setCurrentIdentity(null);\n          setCurrentContextMap(r.contextMap);\n          setCurrentContextStore(r.contextStore);\n          setCurrentErrorFrame(r.errorFrame);\n          return render$3(r.type, r.props);\n        }(0, e);\n      }\n    } catch (e) {\n      var o = getCurrentErrorFrame();\n      if (!o) {\n        throw e;\n      }\n      o.error = e;\n      r.unshift(o);\n      u = null;\n    } finally {\n      L.current = n;\n    }\n    visit(getChildrenArray(u), r, t);\n  }\n};\n\nfunction _ref(e, r) {\n  setImmediate(e);\n}\n\nvar flushFrames = function(e, r, t) {\n  var n = e.shift();\n  if (!n) {\n    return Promise.resolve();\n  }\n  if (V && \"frame.yield\" === n.kind) {\n    n.thenable = new Promise(_ref);\n  }\n  return Promise.resolve(n.thenable).then((function() {\n    !function(e) {\n      O.current = e;\n    }(t);\n    update(n, e, r);\n    return flushFrames(e, r, t);\n  }), (function(t) {\n    if (!n.errorFrame) {\n      throw t;\n    }\n    n.errorFrame.error = t;\n    update(n.errorFrame, e, r);\n  }));\n};\n\nvar defaultVisitor = function() {\n  return;\n};\n\nvar renderPrepass = function(e, r) {\n  if (!r) {\n    r = defaultVisitor;\n  }\n  var t = [];\n  var n = O.current = {\n    uniqueID: 0\n  };\n  setCurrentContextMap({});\n  setCurrentContextStore(new Map);\n  setCurrentErrorFrame(null);\n  try {\n    visit(getChildrenArray(e), t, r);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n  return flushFrames(t, r, n);\n};\n\n\n//# sourceMappingURL=react-ssr-prepass.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtc3NyLXByZXBhc3MvZGlzdC9yZWFjdC1zc3ItcHJlcGFzcy5lcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkQ7O0FBRTdEO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLFFBQVEsbURBQVM7O0FBRWpCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0M7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxvQkFBb0I7QUFDcEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOEJBQThCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9EQUFDO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsd0hBQTJFOztBQUVuRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFlBQVksb0RBQUM7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQUM7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRW9DO0FBQ3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1zc3ItcHJlcGFzcy9kaXN0L3JlYWN0LXNzci1wcmVwYXNzLmVzLmpzP2FiZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGUsIHsgQ2hpbGRyZW4gYXMgciwgY3JlYXRlRWxlbWVudCBhcyB0IH0gZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24oZSkge1xuICAgIGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7XG4gICAgICB2YXIgdCA9IGFyZ3VtZW50c1tyXTtcbiAgICAgIGZvciAodmFyIG4gaW4gdCkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIG4pKSB7XG4gICAgICAgICAgZVtuXSA9IHRbbl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgbiA9IDYwMTAzO1xuXG52YXIgdSA9IDYwMTA2O1xuXG52YXIgbyA9IDYwMTA3O1xuXG52YXIgYSA9IDYwMTA4O1xuXG52YXIgaSA9IDYwMTE0O1xuXG52YXIgYyA9IDYwMTA5O1xuXG52YXIgbCA9IDYwMTEwO1xuXG52YXIgZiA9IDYwMTExO1xuXG52YXIgcyA9IDYwMTEyO1xuXG52YXIgdiA9IDYwMTEzO1xuXG52YXIgcCA9IDYwMTE1O1xuXG52YXIgZCA9IDYwMTE2O1xuXG5pZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLmZvcikge1xuICB2YXIgbSA9IFN5bWJvbC5mb3I7XG4gIG4gPSBtKFwicmVhY3QuZWxlbWVudFwiKTtcbiAgdSA9IG0oXCJyZWFjdC5wb3J0YWxcIik7XG4gIG8gPSBtKFwicmVhY3QuZnJhZ21lbnRcIik7XG4gIGEgPSBtKFwicmVhY3Quc3RyaWN0X21vZGVcIik7XG4gIGkgPSBtKFwicmVhY3QucHJvZmlsZXJcIik7XG4gIGMgPSBtKFwicmVhY3QucHJvdmlkZXJcIik7XG4gIGwgPSBtKFwicmVhY3QuY29udGV4dFwiKTtcbiAgZiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIik7XG4gIHMgPSBtKFwicmVhY3QuZm9yd2FyZF9yZWZcIik7XG4gIHYgPSBtKFwicmVhY3Quc3VzcGVuc2VcIik7XG4gIHAgPSBtKFwicmVhY3QubWVtb1wiKTtcbiAgZCA9IG0oXCJyZWFjdC5sYXp5XCIpO1xufVxuXG52YXIgaCA9IG47XG5cbnZhciB5ID0gdTtcblxudmFyIF8gPSBvO1xuXG52YXIgUyA9IGE7XG5cbnZhciB4ID0gaTtcblxudmFyIGIgPSBjO1xuXG52YXIgTSA9IGw7XG5cbnZhciBnID0gZjtcblxudmFyIGsgPSBzO1xuXG52YXIgdyA9IHY7XG5cbnZhciBGID0gcDtcblxudmFyIEkgPSBkO1xuXG52YXIgcSA9IHIudG9BcnJheTtcblxudmFyIGlzQWJzdHJhY3RFbGVtZW50ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gbnVsbCAhPT0gZSAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBlO1xufTtcblxudmFyIGdldENoaWxkcmVuQXJyYXkgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBxKGUpLmZpbHRlcihpc0Fic3RyYWN0RWxlbWVudCk7XG59O1xuXG52YXIgY29tcHV0ZVByb3BzID0gZnVuY3Rpb24oZSwgcikge1xuICByZXR1cm4gXCJvYmplY3RcIiA9PSB0eXBlb2YgciA/IF9leHRlbmRzKHt9LCByLCBlKSA6IGU7XG59O1xuXG52YXIgRSA9IG5ldyBNYXA7XG5cbnZhciBDID0ge307XG5cbnZhciBEID0gdm9pZCAwO1xuXG52YXIgUCA9IHZvaWQgMDtcblxudmFyIGdldEN1cnJlbnRDb250ZXh0TWFwID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgQyk7XG59O1xuXG52YXIgZ2V0Q3VycmVudENvbnRleHRTdG9yZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IE1hcChFKTtcbn07XG5cbnZhciBmbHVzaFByZXZDb250ZXh0TWFwID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gRDtcbiAgRCA9IHZvaWQgMDtcbiAgcmV0dXJuIGU7XG59O1xuXG52YXIgZmx1c2hQcmV2Q29udGV4dFN0b3JlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gUDtcbiAgUCA9IHZvaWQgMDtcbiAgcmV0dXJuIGU7XG59O1xuXG52YXIgcmVzdG9yZUNvbnRleHRNYXAgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh2b2lkIDAgIT09IGUpIHtcbiAgICBfZXh0ZW5kcyhDLCBlKTtcbiAgfVxufTtcblxudmFyIHJlc3RvcmVDb250ZXh0U3RvcmUgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh2b2lkIDAgIT09IGUpIHtcbiAgICBFLnNldChlWzBdLCBlWzFdKTtcbiAgfVxufTtcblxudmFyIHNldEN1cnJlbnRDb250ZXh0TWFwID0gZnVuY3Rpb24oZSkge1xuICBEID0gdm9pZCAwO1xuICBDID0gZTtcbn07XG5cbnZhciBzZXRDdXJyZW50Q29udGV4dFN0b3JlID0gZnVuY3Rpb24oZSkge1xuICBQID0gdm9pZCAwO1xuICBFID0gZTtcbn07XG5cbnZhciByZWFkQ29udGV4dFZhbHVlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgciA9IEUuZ2V0KGUpO1xuICBpZiAodm9pZCAwICE9PSByKSB7XG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgcmV0dXJuIGUuX2N1cnJlbnRWYWx1ZTtcbn07XG5cbnZhciBSID0ge307XG5cbnZhciBtYXNrQ29udGV4dCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHIgPSBlLmNvbnRleHRUeXBlO1xuICB2YXIgdCA9IGUuY29udGV4dFR5cGVzO1xuICBpZiAocikge1xuICAgIHJldHVybiByZWFkQ29udGV4dFZhbHVlKHIpO1xuICB9IGVsc2UgaWYgKCF0KSB7XG4gICAgcmV0dXJuIFI7XG4gIH1cbiAgdmFyIG4gPSB7fTtcbiAgZm9yICh2YXIgdSBpbiB0KSB7XG4gICAgblt1XSA9IENbdV07XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuXG52YXIgeiA9IG51bGw7XG5cbnZhciBnZXRDdXJyZW50RXJyb3JGcmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gejtcbn07XG5cbnZhciBzZXRDdXJyZW50RXJyb3JGcmFtZSA9IGZ1bmN0aW9uKGUpIHtcbiAgeiA9IGUgfHwgbnVsbDtcbn07XG5cbnZhciBPID0ge1xuICBjdXJyZW50OiB7XG4gICAgdW5pcXVlSUQ6IDBcbiAgfVxufTtcblxudmFyIFcgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5pcyA/IE9iamVjdC5pcyA6IGZ1bmN0aW9uIGlzKGUsIHIpIHtcbiAgcmV0dXJuIGUgPT09IHIgJiYgKDAgIT09IGUgfHwgMSAvIGUgPT0gMSAvIHIpIHx8IGUgIT0gZSAmJiByICE9IHI7XG59O1xuXG52YXIgaiA9IG51bGw7XG5cbnZhciBzZXRDdXJyZW50SWRlbnRpdHkgPSBmdW5jdGlvbihlKSB7XG4gIGogPSBlO1xufTtcblxudmFyIGdldEN1cnJlbnRJZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuICBpZiAobnVsbCA9PT0gaikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIltyZWFjdC1zc3ItcHJlcGFzc10gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gKGh0dHBzOi8vZmIubWUvcmVhY3QtaW52YWxpZC1ob29rLWNhbGwpXCIpO1xuICB9XG4gIHJldHVybiBqO1xufTtcblxudmFyIEggPSBudWxsO1xuXG52YXIgVCA9IG51bGw7XG5cbnZhciBVID0gITE7XG5cbnZhciAkID0gbnVsbDtcblxudmFyIEEgPSAwO1xuXG52YXIgc2V0Rmlyc3RIb29rID0gZnVuY3Rpb24oZSkge1xuICBIID0gZTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVdvcmtJblByb2dyZXNzSG9vaygpIHtcbiAgaWYgKG51bGwgPT09IFQpIHtcbiAgICBpZiAobnVsbCA9PT0gSCkge1xuICAgICAgcmV0dXJuIEggPSBUID0ge1xuICAgICAgICBtZW1vaXplZFN0YXRlOiBudWxsLFxuICAgICAgICBxdWV1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFQgPSBIO1xuICAgIH1cbiAgfSBlbHNlIGlmIChudWxsID09PSBULm5leHQpIHtcbiAgICByZXR1cm4gVCA9IFQubmV4dCA9IHtcbiAgICAgIG1lbW9pemVkU3RhdGU6IG51bGwsXG4gICAgICBxdWV1ZTogbnVsbCxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBUID0gVC5uZXh0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2ljU3RhdGVSZWR1Y2VyKGUsIHIpIHtcbiAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgciA/IHIoZSkgOiByO1xufVxuXG5mdW5jdGlvbiB1c2VSZWR1Y2VyKGUsIHIsIHQpIHtcbiAgdmFyIG4gPSBnZXRDdXJyZW50SWRlbnRpdHkoKTtcbiAgaWYgKG51bGwgPT09IChUID0gY3JlYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkpLnF1ZXVlKSB7XG4gICAgdmFyIHU7XG4gICAgaWYgKGUgPT09IGJhc2ljU3RhdGVSZWR1Y2VyKSB7XG4gICAgICB1ID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiByID8gcigpIDogcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdSA9IHZvaWQgMCAhPT0gdCA/IHQocikgOiByO1xuICAgIH1cbiAgICBULm1lbW9pemVkU3RhdGUgPSB1O1xuICB9XG4gIHZhciBvID0gVC5xdWV1ZSB8fCAoVC5xdWV1ZSA9IHtcbiAgICBsYXN0OiBudWxsLFxuICAgIGRpc3BhdGNoOiBudWxsXG4gIH0pO1xuICB2YXIgYSA9IG8uZGlzcGF0Y2ggfHwgKG8uZGlzcGF0Y2ggPSBkaXNwYXRjaEFjdGlvbi5iaW5kKG51bGwsIG4sIG8pKTtcbiAgaWYgKG51bGwgIT09ICQpIHtcbiAgICB2YXIgaSA9ICQuZ2V0KG8pO1xuICAgIGlmICh2b2lkIDAgIT09IGkpIHtcbiAgICAgICQuZGVsZXRlKG8pO1xuICAgICAgdmFyIGMgPSBULm1lbW9pemVkU3RhdGU7XG4gICAgICB2YXIgbCA9IGk7XG4gICAgICBkbyB7XG4gICAgICAgIGMgPSBlKGMsIGwuYWN0aW9uKTtcbiAgICAgICAgbCA9IGwubmV4dDtcbiAgICAgIH0gd2hpbGUgKG51bGwgIT09IGwpO1xuICAgICAgVC5tZW1vaXplZFN0YXRlID0gYztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFsgVC5tZW1vaXplZFN0YXRlLCBhIF07XG59XG5cbmZ1bmN0aW9uIHVzZU1lbW8oZSwgcikge1xuICBnZXRDdXJyZW50SWRlbnRpdHkoKTtcbiAgdmFyIHQgPSB2b2lkIDAgPT09IHIgPyBudWxsIDogcjtcbiAgdmFyIG4gPSAoVCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzSG9vaygpKS5tZW1vaXplZFN0YXRlO1xuICBpZiAobnVsbCAhPT0gbiAmJiBudWxsICE9PSB0KSB7XG4gICAgaWYgKGZ1bmN0aW9uIGFyZUhvb2tJbnB1dHNFcXVhbChlLCByKSB7XG4gICAgICBpZiAobnVsbCA9PT0gcikge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoICYmIHQgPCBlLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgIGlmICghVyhlW3RdLCByW3RdKSkge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH0odCwgblsxXSkpIHtcbiAgICAgIHJldHVybiBuWzBdO1xuICAgIH1cbiAgfVxuICB2YXIgdSA9IGUoKTtcbiAgVC5tZW1vaXplZFN0YXRlID0gWyB1LCB0IF07XG4gIHJldHVybiB1O1xufVxuXG5mdW5jdGlvbiB1c2VPcGFxdWVJZGVudGlmaWVyKCkge1xuICBnZXRDdXJyZW50SWRlbnRpdHkoKTtcbiAgaWYgKCEoVCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzSG9vaygpKS5tZW1vaXplZFN0YXRlKSB7XG4gICAgVC5tZW1vaXplZFN0YXRlID0gXCJSOlwiICsgKE8uY3VycmVudC51bmlxdWVJRCsrKS50b1N0cmluZygzNik7XG4gIH1cbiAgcmV0dXJuIFQubWVtb2l6ZWRTdGF0ZTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hBY3Rpb24oZSwgciwgdCkge1xuICBpZiAoZSA9PT0gaikge1xuICAgIFUgPSAhMDtcbiAgICB2YXIgbiA9IHtcbiAgICAgIGFjdGlvbjogdCxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGlmIChudWxsID09PSAkKSB7XG4gICAgICAkID0gbmV3IE1hcDtcbiAgICB9XG4gICAgdmFyIHUgPSAkLmdldChyKTtcbiAgICBpZiAodm9pZCAwID09PSB1KSB7XG4gICAgICAkLnNldChyLCBuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG8gPSB1O1xuICAgICAgd2hpbGUgKG51bGwgIT09IG8ubmV4dCkge1xuICAgICAgICBvID0gby5uZXh0O1xuICAgICAgfVxuICAgICAgby5uZXh0ID0gbjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIF9yZWYkMihlKSB7XG4gIGUoKTtcbn1cblxudmFyIE4gPSB7XG4gIHJlYWRDb250ZXh0OiBmdW5jdGlvbiByZWFkQ29udGV4dChlLCByKSB7XG4gICAgcmV0dXJuIHJlYWRDb250ZXh0VmFsdWUoZSk7XG4gIH0sXG4gIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiB1c2VTeW5jRXh0ZXJuYWxTdG9yZShlLCByLCB0KSB7XG4gICAgcmV0dXJuIHIoKTtcbiAgfSxcbiAgdXNlQ29udGV4dDogZnVuY3Rpb24gdXNlQ29udGV4dChlLCByKSB7XG4gICAgZ2V0Q3VycmVudElkZW50aXR5KCk7XG4gICAgcmV0dXJuIHJlYWRDb250ZXh0VmFsdWUoZSk7XG4gIH0sXG4gIHVzZU1lbW86IHVzZU1lbW8sXG4gIHVzZVJlZHVjZXI6IHVzZVJlZHVjZXIsXG4gIHVzZVJlZjogZnVuY3Rpb24gdXNlUmVmKGUpIHtcbiAgICBnZXRDdXJyZW50SWRlbnRpdHkoKTtcbiAgICB2YXIgciA9IChUID0gY3JlYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkpLm1lbW9pemVkU3RhdGU7XG4gICAgaWYgKG51bGwgPT09IHIpIHtcbiAgICAgIHZhciB0ID0ge1xuICAgICAgICBjdXJyZW50OiBlXG4gICAgICB9O1xuICAgICAgVC5tZW1vaXplZFN0YXRlID0gdDtcbiAgICAgIHJldHVybiB0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gIH0sXG4gIHVzZVN0YXRlOiBmdW5jdGlvbiB1c2VTdGF0ZShlKSB7XG4gICAgcmV0dXJuIHVzZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIsIGUpO1xuICB9LFxuICB1c2VDYWxsYmFjazogZnVuY3Rpb24gdXNlQ2FsbGJhY2soZSwgcikge1xuICAgIHJldHVybiB1c2VNZW1vKChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBlO1xuICAgIH0pLCByKTtcbiAgfSxcbiAgdXNlTXV0YWJsZVNvdXJjZTogZnVuY3Rpb24gdXNlTXV0YWJsZVNvdXJjZShlLCByLCB0KSB7XG4gICAgZ2V0Q3VycmVudElkZW50aXR5KCk7XG4gICAgcmV0dXJuIHIoZS5fc291cmNlKTtcbiAgfSxcbiAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gdXNlVHJhbnNpdGlvbigpIHtcbiAgICByZXR1cm4gWyBfcmVmJDIsICExIF07XG4gIH0sXG4gIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uIHVzZURlZmVycmVkVmFsdWUoZSkge1xuICAgIHJldHVybiBlO1xuICB9LFxuICB1c2VPcGFxdWVJZGVudGlmaWVyOiB1c2VPcGFxdWVJZGVudGlmaWVyLFxuICB1c2VJZDogdXNlT3BhcXVlSWRlbnRpZmllcixcbiAgdW5zdGFibGVfdXNlSWQ6IHVzZU9wYXF1ZUlkZW50aWZpZXIsXG4gIHVuc3RhYmxlX3VzZU9wYXF1ZUlkZW50aWZpZXI6IHVzZU9wYXF1ZUlkZW50aWZpZXIsXG4gIHVzZUxheW91dEVmZmVjdDogbm9vcCxcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogbm9vcCxcbiAgdXNlRWZmZWN0OiBub29wLFxuICB1c2VEZWJ1Z1ZhbHVlOiBub29wXG59O1xuXG52YXIgcmVzb2x2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHIgPSBlLl9wYXlsb2FkIHx8IGU7XG4gIGlmICgwID09PSByLl9zdGF0dXMpIHtcbiAgICByZXR1cm4gci5fcmVzdWx0O1xuICB9IGVsc2UgaWYgKDEgPT09IHIuX3N0YXR1cykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoci5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICgyID09PSByLl9zdGF0dXMpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoci5fcmVzdWx0KTtcbiAgfVxuICByLl9zdGF0dXMgPSAwO1xuICByZXR1cm4gci5fcmVzdWx0ID0gKHIuX2N0b3IgfHwgci5fcmVzdWx0KSgpLnRoZW4oKGZ1bmN0aW9uKGUpIHtcbiAgICByLl9yZXN1bHQgPSBlO1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpIHtcbiAgICAgIHIuX3N0YXR1cyA9IDE7XG4gICAgfSBlbHNlIGlmIChudWxsICE9PSBlICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIGUgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmRlZmF1bHQpIHtcbiAgICAgIHIuX3Jlc3VsdCA9IGUuZGVmYXVsdDtcbiAgICAgIHIuX3N0YXR1cyA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHIuX3N0YXR1cyA9IDI7XG4gICAgfVxuICB9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpIHtcbiAgICByLl9zdGF0dXMgPSAyO1xuICAgIHIuX3Jlc3VsdCA9IGU7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICB9KSk7XG59O1xuXG52YXIgcmVuZGVyJDMgPSBmdW5jdGlvbihlLCByLCBuKSB7XG4gIHZhciB1ID0gZS5fcGF5bG9hZCB8fCBlO1xuICBpZiAoMSA9PT0gdS5fc3RhdHVzKSB7XG4gICAgcmV0dXJuIHQodS5fcmVzdWx0LCByKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBtYWtlRnJhbWUkMSA9IGZ1bmN0aW9uKGUsIHIsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0TWFwOiBnZXRDdXJyZW50Q29udGV4dE1hcCgpLFxuICAgIGNvbnRleHRTdG9yZTogZ2V0Q3VycmVudENvbnRleHRTdG9yZSgpLFxuICAgIGlkOiBnZXRDdXJyZW50SWRlbnRpdHkoKSxcbiAgICBob29rOiBILFxuICAgIGtpbmQ6IFwiZnJhbWUuaG9va3NcIixcbiAgICBlcnJvckZyYW1lOiBnZXRDdXJyZW50RXJyb3JGcmFtZSgpLFxuICAgIHRoZW5hYmxlOiB0LFxuICAgIHByb3BzOiByLFxuICAgIHR5cGU6IGVcbiAgfTtcbn07XG5cbnZhciByZW5kZXIkMiA9IGZ1bmN0aW9uKGUsIHIsIHQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVuZGVyV2l0aEhvb2tzKGUsIHIsIHQpIHtcbiAgICAgIFQgPSBudWxsO1xuICAgICAgdmFyIG4gPSBlKHIsIHQpO1xuICAgICAgd2hpbGUgKEEgPCAyNSAmJiBVKSB7XG4gICAgICAgIFUgPSAhMTtcbiAgICAgICAgQSArPSAxO1xuICAgICAgICBUID0gbnVsbDtcbiAgICAgICAgbiA9IGUociwgdCk7XG4gICAgICB9XG4gICAgICBBID0gMDtcbiAgICAgICQgPSBudWxsO1xuICAgICAgVCA9IG51bGw7XG4gICAgICByZXR1cm4gbjtcbiAgICB9KGUsIGNvbXB1dGVQcm9wcyhyLCBlLmRlZmF1bHRQcm9wcyksIG1hc2tDb250ZXh0KGUpKTtcbiAgfSBjYXRjaCAobikge1xuICAgIGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG4udGhlbikge1xuICAgICAgdGhyb3cgbjtcbiAgICB9XG4gICAgdC5wdXNoKG1ha2VGcmFtZSQxKGUsIHIsIG4pKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZnVuY3Rpb24gX3JlZiQxKCkge1xuICByZXR1cm4gITE7XG59XG5cbmZ1bmN0aW9uIF9yZWYyKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIGNyZWF0ZUluc3RhbmNlID0gZnVuY3Rpb24oZSwgcikge1xuICB2YXIgdCA9IHtcbiAgICBfdGhyb3duOiAwLFxuICAgIHF1ZXVlOiBuID0gW10sXG4gICAgaXNNb3VudGVkOiBfcmVmJDEsXG4gICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBfcmVmMixcbiAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbihlLCByKSB7XG4gICAgICBpZiAoZS5faXNNb3VudGVkKSB7XG4gICAgICAgIG4ubGVuZ3RoID0gMDtcbiAgICAgICAgbi5wdXNoKHIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbihlLCByKSB7XG4gICAgICBpZiAoZS5faXNNb3VudGVkKSB7XG4gICAgICAgIG4ucHVzaChyKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBuO1xuICB2YXIgdSA9IGNvbXB1dGVQcm9wcyhyLCBlLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBvID0gbWFza0NvbnRleHQoZSk7XG4gIHZhciBhID0gbmV3IGUodSwgbywgdCk7XG4gIGEucHJvcHMgPSB1O1xuICBhLmNvbnRleHQgPSBvO1xuICBhLnVwZGF0ZXIgPSB0O1xuICBhLl9pc01vdW50ZWQgPSAhMDtcbiAgaWYgKHZvaWQgMCA9PT0gYS5zdGF0ZSkge1xuICAgIGEuc3RhdGUgPSBudWxsO1xuICB9XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGEuY29tcG9uZW50RGlkQ2F0Y2ggfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcikge1xuICAgIHZhciBpID0gbWFrZUZyYW1lKGUsIGEsIG51bGwpO1xuICAgIGkuZXJyb3JGcmFtZSA9IGk7XG4gICAgc2V0Q3VycmVudEVycm9yRnJhbWUoaSk7XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpIHtcbiAgICB2YXIgYyA9ICgwLCBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcykoYS5wcm9wcywgYS5zdGF0ZSk7XG4gICAgaWYgKG51bGwgIT0gYykge1xuICAgICAgYS5zdGF0ZSA9IF9leHRlbmRzKHt9LCBhLnN0YXRlLCBjKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLmNvbXBvbmVudFdpbGxNb3VudCkge1xuICAgIGEuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gIH0gZWxzZSBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQpIHtcbiAgICBhLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgfVxuICByZXR1cm4gYTtcbn07XG5cbnZhciBtYWtlRnJhbWUgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gIHJldHVybiB7XG4gICAgY29udGV4dE1hcDogZ2V0Q3VycmVudENvbnRleHRNYXAoKSxcbiAgICBjb250ZXh0U3RvcmU6IGdldEN1cnJlbnRDb250ZXh0U3RvcmUoKSxcbiAgICBlcnJvckZyYW1lOiBnZXRDdXJyZW50RXJyb3JGcmFtZSgpLFxuICAgIHRoZW5hYmxlOiB0LFxuICAgIGtpbmQ6IFwiZnJhbWUuY2xhc3NcIixcbiAgICBlcnJvcjogbnVsbCxcbiAgICBpbnN0YW5jZTogcixcbiAgICB0eXBlOiBlXG4gIH07XG59O1xuXG52YXIgcmVuZGVyJDEgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gICFmdW5jdGlvbihlKSB7XG4gICAgdmFyIHIgPSBlLnVwZGF0ZXIucXVldWU7XG4gICAgaWYgKHIubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIHQgPSBfZXh0ZW5kcyh7fSwgZS5zdGF0ZSk7XG4gICAgICBmb3IgKHZhciBuID0gMCwgdSA9IHIubGVuZ3RoOyBuIDwgdTsgbisrKSB7XG4gICAgICAgIHZhciBvID0gcltuXTtcbiAgICAgICAgdmFyIGEgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG8gPyBvLmNhbGwoZSwgdCwgZS5wcm9wcywgZS5jb250ZXh0KSA6IG87XG4gICAgICAgIGlmIChudWxsICE9PSBhKSB7XG4gICAgICAgICAgX2V4dGVuZHModCwgYSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGUuc3RhdGUgPSB0O1xuICAgICAgci5sZW5ndGggPSAwO1xuICAgIH1cbiAgfShyKTtcbiAgdmFyIG4gPSBudWxsO1xuICB0cnkge1xuICAgIG4gPSByLnJlbmRlcigpO1xuICB9IGNhdGNoIChuKSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2Ygbi50aGVuKSB7XG4gICAgICB0aHJvdyBuO1xuICAgIH1cbiAgICB0LnB1c2gobWFrZUZyYW1lKGUsIHIsIG4pKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodm9pZCAwICE9PSBlLmNoaWxkQ29udGV4dFR5cGVzICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5nZXRDaGlsZENvbnRleHQpIHtcbiAgICB2YXIgdSA9IHIuZ2V0Q2hpbGRDb250ZXh0KCk7XG4gICAgaWYgKG51bGwgIT09IHUgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgdSkge1xuICAgICAgIWZ1bmN0aW9uKGUpIHtcbiAgICAgICAgRCA9IHt9O1xuICAgICAgICBmb3IgKHZhciByIGluIGUpIHtcbiAgICAgICAgICBEW3JdID0gQ1tyXTtcbiAgICAgICAgICBDW3JdID0gZVtyXTtcbiAgICAgICAgfVxuICAgICAgfSh1KTtcbiAgICB9XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2Ygci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5jb21wb25lbnRXaWxsTW91bnQgfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiByLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQpICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5jb21wb25lbnRXaWxsVW5tb3VudCkge1xuICAgIHRyeSB7XG4gICAgICByLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByLl9pc01vdW50ZWQgPSAhMTtcbiAgcmV0dXJuIG47XG59O1xuXG52YXIgTCA9IGUuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcjtcblxudmFyIFYgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHNldEltbWVkaWF0ZTtcblxudmFyIHJlbmRlciA9IGZ1bmN0aW9uKGUsIHIsIHQsIG4sIHUpIHtcbiAgcmV0dXJuIChvID0gZSkucHJvdG90eXBlICYmIG8ucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPyBmdW5jdGlvbihlLCByLCB0LCBuLCB1KSB7XG4gICAgc2V0Q3VycmVudElkZW50aXR5KG51bGwpO1xuICAgIHZhciBvID0gY3JlYXRlSW5zdGFuY2UoZSwgcik7XG4gICAgdmFyIGEgPSBuKHUsIG8pO1xuICAgIGlmIChhKSB7XG4gICAgICB0LnB1c2gobWFrZUZyYW1lKGUsIG8sIGEpKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyJDEoZSwgbywgdCk7XG4gIH0oZSwgciwgdCwgbiwgdSkgOiBmdW5jdGlvbihlLCByLCB0LCBuLCB1KSB7XG4gICAgc2V0Rmlyc3RIb29rKG51bGwpO1xuICAgIHNldEN1cnJlbnRJZGVudGl0eSh7fSk7XG4gICAgdmFyIG8gPSBuKHUpO1xuICAgIGlmIChvKSB7XG4gICAgICB0LnB1c2gobWFrZUZyYW1lJDEoZSwgciwgbykpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXIkMihlLCByLCB0KTtcbiAgfShlLCByLCB0LCBuLCB1KTtcbiAgdmFyIG87XG59O1xuXG52YXIgdmlzaXRFbGVtZW50ID0gZnVuY3Rpb24oZSwgciwgbikge1xuICBzd2l0Y2ggKGZ1bmN0aW9uKGUpIHtcbiAgICBzd2l0Y2ggKGUuJCR0eXBlb2YpIHtcbiAgICAgY2FzZSB5OlxuICAgICAgcmV0dXJuIHk7XG5cbiAgICAgY2FzZSBoOlxuICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICBjYXNlIGc6XG4gICAgICAgIHJldHVybiBnO1xuXG4gICAgICAgY2FzZSBfOlxuICAgICAgICByZXR1cm4gXztcblxuICAgICAgIGNhc2UgeDpcbiAgICAgICAgcmV0dXJuIHg7XG5cbiAgICAgICBjYXNlIFM6XG4gICAgICAgIHJldHVybiBTO1xuXG4gICAgICAgY2FzZSB3OlxuICAgICAgICByZXR1cm4gdztcblxuICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHN3aXRjaCAoZS50eXBlICYmIGUudHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgY2FzZSBJOlxuICAgICAgICAgIHJldHVybiBJO1xuXG4gICAgICAgICBjYXNlIEY6XG4gICAgICAgICAgcmV0dXJuIEY7XG5cbiAgICAgICAgIGNhc2UgTTpcbiAgICAgICAgICByZXR1cm4gTTtcblxuICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgIHJldHVybiBiO1xuXG4gICAgICAgICBjYXNlIGs6XG4gICAgICAgICAgcmV0dXJuIGs7XG5cbiAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfShlKSkge1xuICAgY2FzZSB3OlxuICAgY2FzZSBTOlxuICAgY2FzZSBnOlxuICAgY2FzZSB4OlxuICAgY2FzZSBfOlxuICAgIHJldHVybiBnZXRDaGlsZHJlbkFycmF5KGUucHJvcHMuY2hpbGRyZW4pO1xuXG4gICBjYXNlIGI6XG4gICAgdmFyIHUgPSBlLnByb3BzO1xuICAgIHZhciBvID0gdS5jaGlsZHJlbjtcbiAgICAhZnVuY3Rpb24oZSwgcikge1xuICAgICAgUCA9IFsgZSwgRS5nZXQoZSkgXTtcbiAgICAgIEUuc2V0KGUsIHIpO1xuICAgIH0oZS50eXBlLl9jb250ZXh0LCB1LnZhbHVlKTtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW5BcnJheShvKTtcblxuICAgY2FzZSBNOlxuICAgIHZhciBhID0gZS5wcm9wcy5jaGlsZHJlbjtcbiAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBhKSB7XG4gICAgICB2YXIgaSA9IGUudHlwZTtcbiAgICAgIHZhciBjID0gcmVhZENvbnRleHRWYWx1ZShcIm9iamVjdFwiID09IHR5cGVvZiBpLl9jb250ZXh0ID8gaS5fY29udGV4dCA6IGkpO1xuICAgICAgcmV0dXJuIGdldENoaWxkcmVuQXJyYXkoYShjKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgIGNhc2UgSTpcbiAgICB2YXIgbCA9IGZ1bmN0aW9uKGUsIHIsIHQpIHtcbiAgICAgIGlmICgoZS5fcGF5bG9hZCB8fCBlKS5fc3RhdHVzIDw9IDApIHtcbiAgICAgICAgdC5wdXNoKHtcbiAgICAgICAgICBraW5kOiBcImZyYW1lLmxhenlcIixcbiAgICAgICAgICBjb250ZXh0TWFwOiBnZXRDdXJyZW50Q29udGV4dE1hcCgpLFxuICAgICAgICAgIGNvbnRleHRTdG9yZTogZ2V0Q3VycmVudENvbnRleHRTdG9yZSgpLFxuICAgICAgICAgIGVycm9yRnJhbWU6IGdldEN1cnJlbnRFcnJvckZyYW1lKCksXG4gICAgICAgICAgdGhlbmFibGU6IHJlc29sdmUoZSksXG4gICAgICAgICAgcHJvcHM6IHIsXG4gICAgICAgICAgdHlwZTogZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVuZGVyJDMoZSwgcik7XG4gICAgfShlLnR5cGUsIGUucHJvcHMsIHIpO1xuICAgIHJldHVybiBnZXRDaGlsZHJlbkFycmF5KGwpO1xuXG4gICBjYXNlIEY6XG4gICAgdmFyIGYgPSB0KGUudHlwZS50eXBlLCBlLnByb3BzKTtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW5BcnJheShmKTtcblxuICAgY2FzZSBrOlxuICAgIHZhciBzID0gZS50eXBlO1xuICAgIHZhciB2ID0gcy5yZW5kZXI7XG4gICAgdmFyIHAgPSBjb21wdXRlUHJvcHMoZS5wcm9wcywgcy5kZWZhdWx0UHJvcHMpO1xuICAgIHZhciBkID0gdCh2LCBwKTtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW5BcnJheShkKTtcblxuICAgY2FzZSBoOlxuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBlLnR5cGUpIHtcbiAgICAgIHJldHVybiBnZXRDaGlsZHJlbkFycmF5KGUucHJvcHMuY2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbSA9IHJlbmRlcihlLnR5cGUsIGUucHJvcHMsIHIsIG4sIGUpO1xuICAgICAgcmV0dXJuIGdldENoaWxkcmVuQXJyYXkobSk7XG4gICAgfVxuXG4gICBkZWZhdWx0OlxuICAgIHJldHVybiBbXTtcbiAgfVxufTtcblxudmFyIHZpc2l0TG9vcCA9IGZ1bmN0aW9uKGUsIHIsIHQsIG4sIHUsIG8pIHtcbiAgdmFyIGEgPSBMLmN1cnJlbnQ7XG4gIHZhciBpID0gRGF0ZS5ub3coKTtcbiAgdHJ5IHtcbiAgICBMLmN1cnJlbnQgPSBOO1xuICAgIHdoaWxlIChlLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBjID0gZVtlLmxlbmd0aCAtIDFdLnNoaWZ0KCk7XG4gICAgICBpZiAodm9pZCAwICE9PSBjKSB7XG4gICAgICAgIHZhciBsID0gdmlzaXRFbGVtZW50KGMsIHUsIG8pO1xuICAgICAgICBlLnB1c2gobCk7XG4gICAgICAgIHIucHVzaChmbHVzaFByZXZDb250ZXh0TWFwKCkpO1xuICAgICAgICB0LnB1c2goZmx1c2hQcmV2Q29udGV4dFN0b3JlKCkpO1xuICAgICAgICBuLnB1c2goZ2V0Q3VycmVudEVycm9yRnJhbWUoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlLnBvcCgpO1xuICAgICAgICByZXN0b3JlQ29udGV4dE1hcChyLnBvcCgpKTtcbiAgICAgICAgcmVzdG9yZUNvbnRleHRTdG9yZSh0LnBvcCgpKTtcbiAgICAgICAgc2V0Q3VycmVudEVycm9yRnJhbWUobi5wb3AoKSk7XG4gICAgICB9XG4gICAgICBpZiAoViAmJiBEYXRlLm5vdygpIC0gaSA+IDUpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgZiA9IGdldEN1cnJlbnRFcnJvckZyYW1lKCk7XG4gICAgaWYgKCFmKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBmLmVycm9yID0gZTtcbiAgICB1LnVuc2hpZnQoZik7XG4gICAgcmV0dXJuICExO1xuICB9IGZpbmFsbHkge1xuICAgIEwuY3VycmVudCA9IGE7XG4gIH1cbn07XG5cbnZhciBtYWtlWWllbGRGcmFtZSA9IGZ1bmN0aW9uKGUsIHIsIHQsIG4pIHtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0TWFwOiBnZXRDdXJyZW50Q29udGV4dE1hcCgpLFxuICAgIGNvbnRleHRTdG9yZTogZ2V0Q3VycmVudENvbnRleHRTdG9yZSgpLFxuICAgIGVycm9yRnJhbWU6IGdldEN1cnJlbnRFcnJvckZyYW1lKCksXG4gICAgdGhlbmFibGU6IG51bGwsXG4gICAga2luZDogXCJmcmFtZS55aWVsZFwiLFxuICAgIHRyYXZlcnNhbENoaWxkcmVuOiBlLFxuICAgIHRyYXZlcnNhbE1hcDogcixcbiAgICB0cmF2ZXJzYWxTdG9yZTogdCxcbiAgICB0cmF2ZXJzYWxFcnJvckZyYW1lOiBuXG4gIH07XG59O1xuXG52YXIgdmlzaXQgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gIHZhciBuID0gWyBlIF07XG4gIHZhciB1ID0gWyBmbHVzaFByZXZDb250ZXh0TWFwKCkgXTtcbiAgdmFyIG8gPSBbIGZsdXNoUHJldkNvbnRleHRTdG9yZSgpIF07XG4gIHZhciBhID0gWyBnZXRDdXJyZW50RXJyb3JGcmFtZSgpIF07XG4gIGlmICh2aXNpdExvb3AobiwgdSwgbywgYSwgciwgdCkpIHtcbiAgICByLnVuc2hpZnQobWFrZVlpZWxkRnJhbWUobiwgdSwgbywgYSkpO1xuICB9XG59O1xuXG52YXIgdXBkYXRlID0gZnVuY3Rpb24oZSwgciwgdCkge1xuICBpZiAoXCJmcmFtZS55aWVsZFwiID09PSBlLmtpbmQpIHtcbiAgICBzZXRDdXJyZW50SWRlbnRpdHkobnVsbCk7XG4gICAgc2V0Q3VycmVudENvbnRleHRNYXAoZS5jb250ZXh0TWFwKTtcbiAgICBzZXRDdXJyZW50Q29udGV4dFN0b3JlKGUuY29udGV4dFN0b3JlKTtcbiAgICBzZXRDdXJyZW50RXJyb3JGcmFtZShlLmVycm9yRnJhbWUpO1xuICAgIGlmICh2aXNpdExvb3AoZS50cmF2ZXJzYWxDaGlsZHJlbiwgZS50cmF2ZXJzYWxNYXAsIGUudHJhdmVyc2FsU3RvcmUsIGUudHJhdmVyc2FsRXJyb3JGcmFtZSwgciwgdCkpIHtcbiAgICAgIHIudW5zaGlmdChtYWtlWWllbGRGcmFtZShlLnRyYXZlcnNhbENoaWxkcmVuLCBlLnRyYXZlcnNhbE1hcCwgZS50cmF2ZXJzYWxTdG9yZSwgZS50cmF2ZXJzYWxFcnJvckZyYW1lKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBuID0gTC5jdXJyZW50O1xuICAgIHZhciB1ID0gbnVsbDtcbiAgICBMLmN1cnJlbnQgPSBOO1xuICAgIHRyeSB7XG4gICAgICBpZiAoXCJmcmFtZS5jbGFzc1wiID09PSBlLmtpbmQpIHtcbiAgICAgICAgdSA9IGZ1bmN0aW9uKGUsIHIpIHtcbiAgICAgICAgICBzZXRDdXJyZW50SWRlbnRpdHkobnVsbCk7XG4gICAgICAgICAgc2V0Q3VycmVudENvbnRleHRNYXAoci5jb250ZXh0TWFwKTtcbiAgICAgICAgICBzZXRDdXJyZW50Q29udGV4dFN0b3JlKHIuY29udGV4dFN0b3JlKTtcbiAgICAgICAgICBzZXRDdXJyZW50RXJyb3JGcmFtZShyLmVycm9yRnJhbWUpO1xuICAgICAgICAgIGlmIChyLmVycm9yKSB7XG4gICAgICAgICAgICBpZiAoKytyLmluc3RhbmNlLnVwZGF0ZXIuX3Rocm93biA+PSAyNSkge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIuaW5zdGFuY2UuX2lzTW91bnRlZCA9ICEwO1xuICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5pbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCkge1xuICAgICAgICAgICAgICByLmluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoKHIuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcikge1xuICAgICAgICAgICAgICByLmluc3RhbmNlLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHIuaW5zdGFuY2UsIHIudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3Ioci5lcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVuZGVyJDEoci50eXBlLCByLmluc3RhbmNlLCBlKTtcbiAgICAgICAgfShyLCBlKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJmcmFtZS5ob29rc1wiID09PSBlLmtpbmQpIHtcbiAgICAgICAgdSA9IGZ1bmN0aW9uKGUsIHIpIHtcbiAgICAgICAgICBzZXRGaXJzdEhvb2soci5ob29rKTtcbiAgICAgICAgICBzZXRDdXJyZW50SWRlbnRpdHkoci5pZCk7XG4gICAgICAgICAgc2V0Q3VycmVudENvbnRleHRNYXAoci5jb250ZXh0TWFwKTtcbiAgICAgICAgICBzZXRDdXJyZW50Q29udGV4dFN0b3JlKHIuY29udGV4dFN0b3JlKTtcbiAgICAgICAgICBzZXRDdXJyZW50RXJyb3JGcmFtZShyLmVycm9yRnJhbWUpO1xuICAgICAgICAgIHJldHVybiByZW5kZXIkMihyLnR5cGUsIHIucHJvcHMsIGUpO1xuICAgICAgICB9KHIsIGUpO1xuICAgICAgfSBlbHNlIGlmIChcImZyYW1lLmxhenlcIiA9PT0gZS5raW5kKSB7XG4gICAgICAgIHUgPSBmdW5jdGlvbihlLCByKSB7XG4gICAgICAgICAgc2V0Q3VycmVudElkZW50aXR5KG51bGwpO1xuICAgICAgICAgIHNldEN1cnJlbnRDb250ZXh0TWFwKHIuY29udGV4dE1hcCk7XG4gICAgICAgICAgc2V0Q3VycmVudENvbnRleHRTdG9yZShyLmNvbnRleHRTdG9yZSk7XG4gICAgICAgICAgc2V0Q3VycmVudEVycm9yRnJhbWUoci5lcnJvckZyYW1lKTtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyJDMoci50eXBlLCByLnByb3BzKTtcbiAgICAgICAgfSgwLCBlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB2YXIgbyA9IGdldEN1cnJlbnRFcnJvckZyYW1lKCk7XG4gICAgICBpZiAoIW8pIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICAgIG8uZXJyb3IgPSBlO1xuICAgICAgci51bnNoaWZ0KG8pO1xuICAgICAgdSA9IG51bGw7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIEwuY3VycmVudCA9IG47XG4gICAgfVxuICAgIHZpc2l0KGdldENoaWxkcmVuQXJyYXkodSksIHIsIHQpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfcmVmKGUsIHIpIHtcbiAgc2V0SW1tZWRpYXRlKGUpO1xufVxuXG52YXIgZmx1c2hGcmFtZXMgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gIHZhciBuID0gZS5zaGlmdCgpO1xuICBpZiAoIW4pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgaWYgKFYgJiYgXCJmcmFtZS55aWVsZFwiID09PSBuLmtpbmQpIHtcbiAgICBuLnRoZW5hYmxlID0gbmV3IFByb21pc2UoX3JlZik7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuLnRoZW5hYmxlKS50aGVuKChmdW5jdGlvbigpIHtcbiAgICAhZnVuY3Rpb24oZSkge1xuICAgICAgTy5jdXJyZW50ID0gZTtcbiAgICB9KHQpO1xuICAgIHVwZGF0ZShuLCBlLCByKTtcbiAgICByZXR1cm4gZmx1c2hGcmFtZXMoZSwgciwgdCk7XG4gIH0pLCAoZnVuY3Rpb24odCkge1xuICAgIGlmICghbi5lcnJvckZyYW1lKSB7XG4gICAgICB0aHJvdyB0O1xuICAgIH1cbiAgICBuLmVycm9yRnJhbWUuZXJyb3IgPSB0O1xuICAgIHVwZGF0ZShuLmVycm9yRnJhbWUsIGUsIHIpO1xuICB9KSk7XG59O1xuXG52YXIgZGVmYXVsdFZpc2l0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuO1xufTtcblxudmFyIHJlbmRlclByZXBhc3MgPSBmdW5jdGlvbihlLCByKSB7XG4gIGlmICghcikge1xuICAgIHIgPSBkZWZhdWx0VmlzaXRvcjtcbiAgfVxuICB2YXIgdCA9IFtdO1xuICB2YXIgbiA9IE8uY3VycmVudCA9IHtcbiAgICB1bmlxdWVJRDogMFxuICB9O1xuICBzZXRDdXJyZW50Q29udGV4dE1hcCh7fSk7XG4gIHNldEN1cnJlbnRDb250ZXh0U3RvcmUobmV3IE1hcCk7XG4gIHNldEN1cnJlbnRFcnJvckZyYW1lKG51bGwpO1xuICB0cnkge1xuICAgIHZpc2l0KGdldENoaWxkcmVuQXJyYXkoZSksIHQsIHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICB9XG4gIHJldHVybiBmbHVzaEZyYW1lcyh0LCByLCBuKTtcbn07XG5cbmV4cG9ydCB7IHJlbmRlclByZXBhc3MgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3NyLXByZXBhc3MuZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-ssr-prepass/dist/react-ssr-prepass.es.js\n");

/***/ }),

/***/ "./node_modules/@urql/exchange-graphcache/dist/5301ccd2.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@urql/exchange-graphcache/dist/5301ccd2.mjs ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_\": function() { return /* binding */ _extends; }\n/* harmony export */ });\nfunction _extends() {\n  return (_extends = Object.assign || function(t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var n = arguments[e];\n      for (var r in n) {\n        if (Object.prototype.hasOwnProperty.call(n, r)) {\n          t[r] = n[r];\n        }\n      }\n    }\n    return t;\n  }).apply(this, arguments);\n}\n\n\n//# sourceMappingURL=5301ccd2.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHVycWwvZXhjaGFuZ2UtZ3JhcGhjYWNoZS9kaXN0LzUzMDFjY2QyLm1qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B1cnFsL2V4Y2hhbmdlLWdyYXBoY2FjaGUvZGlzdC81MzAxY2NkMi5tanM/N2I2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgcmV0dXJuIChfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7XG4gICAgICB2YXIgbiA9IGFyZ3VtZW50c1tlXTtcbiAgICAgIGZvciAodmFyIHIgaW4gbikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIHIpKSB7XG4gICAgICAgICAgdFtyXSA9IG5bcl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCB7IF9leHRlbmRzIGFzIF8gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPTUzMDFjY2QyLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@urql/exchange-graphcache/dist/5301ccd2.mjs\n");

/***/ }),

/***/ "./node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Store\": function() { return /* binding */ Store; },\n/* harmony export */   \"cacheExchange\": function() { return /* binding */ cacheExchange; },\n/* harmony export */   \"offlineExchange\": function() { return /* binding */ offlineExchange; },\n/* harmony export */   \"query\": function() { return /* binding */ query; },\n/* harmony export */   \"write\": function() { return /* binding */ write; }\n/* harmony export */ });\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @urql/core */ \"./node_modules/@urql/core/dist/urql-core.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! wonka */ \"./node_modules/wonka/dist/wonka.mjs\");\n/* harmony import */ var _5301ccd2_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./5301ccd2.mjs */ \"./node_modules/@urql/exchange-graphcache/dist/5301ccd2.mjs\");\n/* harmony import */ var graphql_language_kinds_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql/language/kinds.mjs */ \"./node_modules/graphql/language/kinds.mjs\");\n/* harmony import */ var graphql_utilities_valueFromASTUntyped_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphql/utilities/valueFromASTUntyped.mjs */ \"./node_modules/graphql/utilities/valueFromASTUntyped.mjs\");\n/* harmony import */ var graphql_language_printer_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! graphql/language/printer.mjs */ \"./node_modules/graphql/language/printer.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getName(e) {\n  return e.name.value;\n}\n\nfunction getFragmentTypeName(e) {\n  return e.typeCondition.name.value;\n}\n\nfunction getFieldAlias(e) {\n  return e.alias ? e.alias.value : getName(e);\n}\n\nfunction getSelectionSet(e) {\n  return e.selectionSet ? e.selectionSet.selections : [];\n}\n\nfunction getTypeCondition(e) {\n  return e.typeCondition ? getName(e.typeCondition) : null;\n}\n\nfunction isFieldNode(e) {\n  return e.kind === graphql_language_kinds_mjs__WEBPACK_IMPORTED_MODULE_0__.Kind.FIELD;\n}\n\nfunction isInlineFragment(e) {\n  return e.kind === graphql_language_kinds_mjs__WEBPACK_IMPORTED_MODULE_0__.Kind.INLINE_FRAGMENT;\n}\n\nfunction getFieldArguments(e, t) {\n  var r = {};\n  var i = 0;\n  if (e.arguments && e.arguments.length) {\n    for (var n = 0, a = e.arguments.length; n < a; n++) {\n      var o = e.arguments[n];\n      var s = (0,graphql_utilities_valueFromASTUntyped_mjs__WEBPACK_IMPORTED_MODULE_1__.valueFromASTUntyped)(o.value, t);\n      if (null != s) {\n        r[getName(o)] = s;\n        i++;\n      }\n    }\n  }\n  return i > 0 ? r : null;\n}\n\nfunction filterVariables(e, t) {\n  if (!t || !e.variableDefinitions) {\n    return;\n  }\n  var r = {};\n  for (var i = 0, n = e.variableDefinitions.length; i < n; i++) {\n    var a = getName(e.variableDefinitions[i].variable);\n    r[a] = t[a];\n  }\n  return r;\n}\n\nfunction normalizeVariables(e, t) {\n  var r = {};\n  if (!t) {\n    return r;\n  }\n  if (e.variableDefinitions) {\n    for (var i = 0, n = e.variableDefinitions.length; i < n; i++) {\n      var a = e.variableDefinitions[i];\n      var o = getName(a.variable);\n      r[o] = void 0 === t[o] && a.defaultValue ? (0,graphql_utilities_valueFromASTUntyped_mjs__WEBPACK_IMPORTED_MODULE_1__.valueFromASTUntyped)(a.defaultValue, t) : t[o];\n    }\n  }\n  for (var s in t) {\n    if (!(s in r)) {\n      r[s] = t[s];\n    }\n  }\n  return r;\n}\n\nvar N = \"\\nhttps://bit.ly/2XbVrpR#\";\n\nvar k = new Set;\n\nvar O = [];\n\nfunction popDebugNode() {\n  return O.pop();\n}\n\nfunction pushDebugNode(e, t) {\n  var r = \"\";\n  if (t.kind === graphql_language_kinds_mjs__WEBPACK_IMPORTED_MODULE_0__.Kind.INLINE_FRAGMENT) {\n    r = e ? 'Inline Fragment on \"' + e + '\"' : \"Inline Fragment\";\n  } else if (t.kind === graphql_language_kinds_mjs__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n    r = (t.name ? '\"' + t.name.value + '\"' : \"Unnamed\") + \" \" + t.operation;\n  } else if (t.kind === graphql_language_kinds_mjs__WEBPACK_IMPORTED_MODULE_0__.Kind.FRAGMENT_DEFINITION) {\n    r = '\"' + t.name.value + '\" Fragment';\n  }\n  if (r) {\n    O.push(r);\n  }\n}\n\nfunction getDebugOutput() {\n  return O.length ? \"\\n(Caused At: \" + O.join(\", \") + \")\" : \"\";\n}\n\nfunction invariant(e, t, r) {\n  if (!e) {\n    var i = t || \"Minfied Error #\" + r + \"\\n\";\n    if (true) {\n      i += getDebugOutput();\n    }\n    var n = new Error(i + N + r);\n    n.name = \"Graphcache Error\";\n    throw n;\n  }\n}\n\nfunction warn(e, t) {\n  if (!k.has(e)) {\n    console.warn(e + getDebugOutput() + N + t);\n    k.add(e);\n  }\n}\n\nfunction getMainOperation(e) {\n  for (var t = 0; t < e.definitions.length; t++) {\n    if (e.definitions[t].kind === graphql_language_kinds_mjs__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return e.definitions[t];\n    }\n  }\n  invariant(!1,  true ? \"Invalid GraphQL document: All GraphQL documents must contain an OperationDefinitionnode for a query, subscription, or mutation.\" : 0, 1);\n}\n\nfunction getFragments(e) {\n  var t = {};\n  for (var r = 0; r < e.definitions.length; r++) {\n    var i = e.definitions[r];\n    if (i.kind === graphql_language_kinds_mjs__WEBPACK_IMPORTED_MODULE_0__.Kind.FRAGMENT_DEFINITION) {\n      t[getName(i)] = i;\n    }\n  }\n  return t;\n}\n\nfunction shouldInclude(e, t) {\n  for (var r = 0; e.directives && r < e.directives.length; r++) {\n    var i = e.directives[r];\n    var n = getName(i);\n    if ((\"include\" === n || \"skip\" === n) && i.arguments && i.arguments[0] && \"if\" === getName(i.arguments[0])) {\n      var a = (0,graphql_utilities_valueFromASTUntyped_mjs__WEBPACK_IMPORTED_MODULE_1__.valueFromASTUntyped)(i.arguments[0].value, t);\n      return \"include\" === n ? !!a : !a;\n    }\n  }\n  return !0;\n}\n\nfunction isDeferred(e, t) {\n  for (var r = 0; e.directives && r < e.directives.length; r++) {\n    var i = e.directives[r];\n    if (\"defer\" === getName(i)) {\n      for (var n = 0; i.arguments && n < i.arguments.length; n++) {\n        var a = i.arguments[r];\n        if (\"if\" === getName(a)) {\n          return !!(0,graphql_utilities_valueFromASTUntyped_mjs__WEBPACK_IMPORTED_MODULE_1__.valueFromASTUntyped)(a.value, t);\n        }\n      }\n      return !0;\n    }\n  }\n  return !1;\n}\n\nfunction isFieldNullable(e, t, r) {\n  var i = getField(e, t, r);\n  return !!i && \"NON_NULL\" !== i.type.kind;\n}\n\nfunction isListNullable(e, t, r) {\n  var i = getField(e, t, r);\n  if (!i) {\n    return !1;\n  }\n  var n = \"NON_NULL\" === i.type.kind ? i.type.ofType : i.type;\n  return \"LIST\" === n.kind && \"NON_NULL\" !== n.ofType.kind;\n}\n\nfunction isFieldAvailableOnType(e, t, r) {\n  return 0 === r.indexOf(\"__\") || 0 === t.indexOf(\"__\") || !!getField(e, t, r);\n}\n\nfunction isInterfaceOfType(e, t, r) {\n  if (!r) {\n    return !1;\n  }\n  var i = getTypeCondition(t);\n  if (!i || r === i) {\n    return !0;\n  } else if (e.types[i] && \"OBJECT\" === e.types[i].kind) {\n    return i === r;\n  }\n  !function expectAbstractType(e, t) {\n    invariant(e.types[t] && (\"INTERFACE\" === e.types[t].kind || \"UNION\" === e.types[t].kind),  true ? \"Invalid Abstract type: The type `\" + t + \"` is not an Interface or Union type in the defined schema, but a fragment in the GraphQL document is using it as a type condition.\" : 0, 5);\n  }(e, i);\n  expectObjectType(e, r);\n  return e.isSubType(i, r);\n}\n\nfunction getField(e, t, r) {\n  if (0 === r.indexOf(\"__\") || 0 === t.indexOf(\"__\")) {\n    return;\n  }\n  expectObjectType(e, t);\n  var i = e.types[t].fields[r];\n  if (true) {\n    if (!i) {\n      warn(\"Invalid field: The field `\" + r + \"` does not exist on `\" + t + \"`, but the GraphQL document expects it to exist.\\nTraversal will continue, however this may lead to undefined behavior!\", 4);\n    }\n  }\n  return i;\n}\n\nfunction expectObjectType(e, t) {\n  invariant(e.types[t] && \"OBJECT\" === e.types[t].kind,  true ? \"Invalid Object type: The type `\" + t + \"` is not an object in the defined schema, but the GraphQL document is traversing it.\" : 0, 3);\n}\n\nfunction warnAboutResolver(e) {\n   true && warn(\"Invalid resolver: `\" + e + \"` is not in the defined schema, but the `resolvers` option is referencing it.\", 23);\n}\n\nfunction keyOfField(t, r) {\n  return r ? t + \"(\" + (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.stringifyVariables)(r) + \")\" : t;\n}\n\nfunction joinKeys(e, t) {\n  return e + \".\" + t;\n}\n\nfunction fieldInfoOfKey(e) {\n  var t = e.indexOf(\"(\");\n  if (t > -1) {\n    return {\n      fieldKey: e,\n      fieldName: e.slice(0, t),\n      arguments: JSON.parse(e.slice(t + 1, -1))\n    };\n  } else {\n    return {\n      fieldKey: e,\n      fieldName: e,\n      arguments: null\n    };\n  }\n}\n\nfunction deserializeKeyInfo(e) {\n  var t = e.indexOf(\".\");\n  return {\n    entityKey: e.slice(0, t).replace(/%2e/g, \".\"),\n    fieldKey: e.slice(t + 1)\n  };\n}\n\nfunction makeDict() {\n  return Object.create(null);\n}\n\nvar _ = null;\n\nvar E = null;\n\nvar b = null;\n\nvar D = null;\n\nvar w = null;\n\nvar F = null;\n\nvar S = !1;\n\nfunction makeNodeMap() {\n  return {\n    optimistic: makeDict(),\n    base: new Map\n  };\n}\n\nfunction makeData(e) {\n  var t;\n  if (e) {\n    if (_.has(e)) {\n      return e;\n    }\n    t = E.get(e) || (0,_5301ccd2_mjs__WEBPACK_IMPORTED_MODULE_3__._)({}, e);\n    E.set(e, t);\n  } else {\n    t = {};\n  }\n  _.add(t);\n  return t;\n}\n\nfunction ownsData(e) {\n  return !!e && _.has(e);\n}\n\nfunction initDataState(e, t, r, i) {\n  _ = new Set;\n  E = new Map;\n  b = e;\n  D = t;\n  w = makeDict();\n  S = !!i;\n  if (true) {\n    O.length = 0;\n  }\n  if (!r) {\n    F = null;\n  } else if (i || t.optimisticOrder.length > 0) {\n    if (!i && !t.commutativeKeys.has(r)) {\n      reserveLayer(t, r);\n    } else if (i) {\n      t.commutativeKeys.delete(r);\n    }\n    F = r;\n    !function createLayer(e, t) {\n      if (-1 === e.optimisticOrder.indexOf(t)) {\n        e.optimisticOrder.unshift(t);\n      }\n      if (!e.refLock[t]) {\n        e.refLock[t] = makeDict();\n        e.links.optimistic[t] = new Map;\n        e.records.optimistic[t] = new Map;\n      }\n    }(t, r);\n  } else {\n    F = null;\n    deleteLayer(t, r);\n  }\n}\n\nfunction clearDataState() {\n  if (true) {\n    getCurrentDependencies();\n  }\n  var t = D;\n  var r = F;\n  S = !1;\n  F = null;\n  if (r && t.optimisticOrder.indexOf(r) > -1) {\n    var i = t.optimisticOrder.length;\n    while (--i >= 0 && t.refLock[t.optimisticOrder[i]] && t.commutativeKeys.has(t.optimisticOrder[i]) && !t.deferredKeys.has(t.optimisticOrder[i])) {\n      squashLayer(t.optimisticOrder[i]);\n    }\n  }\n  _ = null;\n  E = null;\n  b = null;\n  D = null;\n  w = null;\n  if (true) {\n    O.length = 0;\n  }\n  if ( true && !t.defer) {\n    t.defer = !0;\n    Promise.resolve().then((function() {\n      initDataState(\"read\", t, null);\n      !function gc() {\n        D.gc.forEach((function(e, t, r) {\n          if ((D.refCount[e] || 0) > 0) {\n            r.delete(e);\n            return;\n          }\n          for (var i in D.refLock) {\n            var n = D.refLock[i];\n            if ((n[e] || 0) > 0) {\n              return;\n            }\n            delete n[e];\n          }\n          delete D.refCount[e];\n          r.delete(e);\n          D.records.base.delete(e);\n          var a = D.links.base.get(e);\n          if (a) {\n            D.links.base.delete(e);\n            for (var o in a) {\n              updateRCForLink(r, D.refCount, a[o], -1);\n            }\n          }\n        }));\n      }();\n      !function persistData() {\n        if (D.storage) {\n          S = !0;\n          b = \"read\";\n          var t = makeDict();\n          D.persist.forEach((function(r) {\n            var i = deserializeKeyInfo(r);\n            var n = i.entityKey;\n            var a = i.fieldKey;\n            var o;\n            if (void 0 !== (o = readLink(n, a))) {\n              t[r] = \":\" + (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.stringifyVariables)(o);\n            } else if (void 0 !== (o = readRecord(n, a))) {\n              t[r] = (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.stringifyVariables)(o);\n            } else {\n              t[r] = void 0;\n            }\n          }));\n          S = !1;\n          D.storage.writeData(t);\n          D.persist.clear();\n        }\n      }();\n      clearDataState();\n      t.defer = !1;\n    }));\n  }\n}\n\nfunction noopDataState(e, t, r) {\n  if (t && !r) {\n    e.deferredKeys.delete(t);\n  }\n  initDataState(\"read\", e, t, r);\n  clearDataState();\n}\n\nfunction getCurrentOperation() {\n  invariant(null !== b,  true ? \"Invalid Cache call: The cache may only be accessed or mutated duringoperations like write or query, or as part of its resolvers, updaters, or optimistic configs.\" : 0, 2);\n  return b;\n}\n\nfunction getCurrentDependencies() {\n  invariant(null !== w,  true ? \"Invalid Cache call: The cache may only be accessed or mutated duringoperations like write or query, or as part of its resolvers, updaters, or optimistic configs.\" : 0, 2);\n  return w;\n}\n\nfunction setNode(e, t, r, i) {\n  var n = F ? e.optimistic[F] : e.base;\n  var a = n.get(t);\n  if (void 0 === a) {\n    n.set(t, a = makeDict());\n  }\n  if (void 0 === i && !F) {\n    delete a[r];\n  } else {\n    a[r] = i;\n  }\n}\n\nfunction getNode(e, t, r) {\n  var i;\n  var n = !S && \"read\" === b && F && D.commutativeKeys.has(F);\n  for (var a = 0, o = D.optimisticOrder.length; a < o; a++) {\n    var s = D.optimisticOrder[a];\n    var u = e.optimistic[s];\n    n = n && s !== F;\n    if (u && (!n || !D.commutativeKeys.has(s)) && (!S || \"write\" === b || D.commutativeKeys.has(s)) && void 0 !== (i = u.get(t)) && r in i) {\n      return i[r];\n    }\n  }\n  return void 0 !== (i = e.base.get(t)) ? i[r] : void 0;\n}\n\nfunction updateRCForEntity(e, t, r, i) {\n  var n = void 0 !== t[r] ? t[r] : 0;\n  var a = t[r] = n + i | 0;\n  if (void 0 !== e) {\n    if (a <= 0) {\n      e.add(r);\n    } else if (n <= 0 && a > 0) {\n      e.delete(r);\n    }\n  }\n}\n\nfunction updateRCForLink(e, t, r, i) {\n  if (\"string\" == typeof r) {\n    updateRCForEntity(e, t, r, i);\n  } else if (Array.isArray(r)) {\n    for (var n = 0, a = r.length; n < a; n++) {\n      if (Array.isArray(r[n])) {\n        updateRCForLink(e, t, r[n], i);\n      } else if (r[n]) {\n        updateRCForEntity(e, t, r[n], i);\n      }\n    }\n  }\n}\n\nfunction extractNodeFields(e, t, r) {\n  if (void 0 !== r) {\n    for (var i in r) {\n      if (!t.has(i)) {\n        e.push(fieldInfoOfKey(i));\n        t.add(i);\n      }\n    }\n  }\n}\n\nfunction extractNodeMapFields(e, t, r, i) {\n  extractNodeFields(e, t, i.base.get(r));\n  for (var n = 0, a = D.optimisticOrder.length; n < a; n++) {\n    var o = i.optimistic[D.optimisticOrder[n]];\n    if (void 0 !== o) {\n      extractNodeFields(e, t, o.get(r));\n    }\n  }\n}\n\nfunction updateDependencies(e, t) {\n  if (\"__typename\" !== t) {\n    if (e !== D.queryRootKey) {\n      w[e] = !0;\n    } else if (void 0 !== t) {\n      w[joinKeys(e, t)] = !0;\n    }\n  }\n}\n\nfunction updatePersist(e, t) {\n  if (!S && D.storage) {\n    D.persist.add(function serializeKeys(e, t) {\n      return e.replace(/\\./g, \"%2e\") + \".\" + t;\n    }(e, t));\n  }\n}\n\nfunction readRecord(e, t) {\n  updateDependencies(e, t);\n  return getNode(D.records, e, t);\n}\n\nfunction readLink(e, t) {\n  updateDependencies(e, t);\n  return getNode(D.links, e, t);\n}\n\nfunction writeRecord(e, t, r) {\n  updateDependencies(e, t);\n  updatePersist(e, t);\n  setNode(D.records, e, t, r);\n}\n\nfunction writeLink(e, t, r) {\n  var i = D;\n  var n;\n  var a;\n  var o;\n  if (F) {\n    n = i.refLock[F] || (i.refLock[F] = makeDict());\n    a = i.links.optimistic[F];\n  } else {\n    n = i.refCount;\n    a = i.links.base;\n    o = i.gc;\n  }\n  var s = a && a.get(e);\n  var u = s && s[t];\n  updateDependencies(e, t);\n  updatePersist(e, t);\n  setNode(i.links, e, t, r);\n  updateRCForLink(o, n, u, -1);\n  updateRCForLink(o, n, r, 1);\n}\n\nfunction reserveLayer(e, t, r) {\n  var i = e.optimisticOrder.indexOf(t);\n  if (-1 === i) {\n    e.optimisticOrder.unshift(t);\n  } else if (!e.commutativeKeys.has(t)) {\n    clearLayer(e, t);\n    e.optimisticOrder.splice(i, 1);\n    e.optimisticOrder.unshift(t);\n  }\n  if (r) {\n    e.deferredKeys.add(t);\n  } else {\n    e.deferredKeys.delete(t);\n  }\n  e.commutativeKeys.add(t);\n}\n\nfunction clearLayer(e, t) {\n  if (e.refLock[t]) {\n    delete e.refLock[t];\n    delete e.records.optimistic[t];\n    delete e.links.optimistic[t];\n    e.deferredKeys.delete(t);\n  }\n}\n\nfunction deleteLayer(e, t) {\n  var r = e.optimisticOrder.indexOf(t);\n  if (r > -1) {\n    e.optimisticOrder.splice(r, 1);\n    e.commutativeKeys.delete(t);\n  }\n  clearLayer(e, t);\n}\n\nfunction squashLayer(e) {\n  var t = w;\n  w = makeDict();\n  var r = D.links.optimistic[e];\n  if (r) {\n    r.forEach((function(e, t) {\n      for (var r in e) {\n        writeLink(t, r, e[r]);\n      }\n    }));\n  }\n  var i = D.records.optimistic[e];\n  if (i) {\n    i.forEach((function(e, t) {\n      for (var r in e) {\n        writeRecord(t, r, e[r]);\n      }\n    }));\n  }\n  w = t;\n  deleteLayer(D, e);\n}\n\nfunction inspectFields(e) {\n  var t = D.links;\n  var r = D.records;\n  var i = [];\n  var n = new Set;\n  updateDependencies(e);\n  extractNodeMapFields(i, n, e, t);\n  extractNodeMapFields(i, n, e, r);\n  return i;\n}\n\nvar L = {\n  current: null\n};\n\nvar x = {\n  current: !1\n};\n\nfunction getFieldError(e) {\n  return e.__internal.path.length > 0 && e.__internal.errorMap ? e.__internal.errorMap[e.__internal.path.join(\".\")] : void 0;\n}\n\nfunction makeContext(e, t, r, i, n, a, o) {\n  var s = {\n    store: e,\n    variables: t,\n    fragments: r,\n    parent: {\n      __typename: i\n    },\n    parentTypeName: i,\n    parentKey: n,\n    parentFieldKey: \"\",\n    fieldName: \"\",\n    error: void 0,\n    partial: !1,\n    optimistic: !!a,\n    __internal: {\n      path: [],\n      errorMap: void 0\n    }\n  };\n  if (o && o.graphQLErrors) {\n    for (var u = 0; u < o.graphQLErrors.length; u++) {\n      var c = o.graphQLErrors[u];\n      if (c.path && c.path.length) {\n        if (!s.__internal.errorMap) {\n          s.__internal.errorMap = Object.create(null);\n        }\n        s.__internal.errorMap[c.path.join(\".\")] = c;\n      }\n    }\n  }\n  return s;\n}\n\nfunction updateContext(e, t, r, i, n, a) {\n  L.current = e;\n  e.parent = t;\n  e.parentTypeName = r;\n  e.parentKey = i;\n  e.parentFieldKey = n;\n  e.fieldName = a;\n  e.error = getFieldError(e);\n}\n\nfunction isFragmentHeuristicallyMatching(e, t, r, i) {\n  if (!t) {\n    return !1;\n  }\n  var n = getTypeCondition(e);\n  if (!n || t === n) {\n    return !0;\n  }\n   true && warn(\"Heuristic Fragment Matching: A fragment is trying to match against the `\" + t + \"` type, but the type condition is `\" + n + \"`. Since GraphQL allows for interfaces `\" + n + \"` may be aninterface.\\nA schema needs to be defined for this match to be deterministic, otherwise the fragment will be matched heuristically!\", 16);\n  return !getSelectionSet(e).some((function(e) {\n    if (!isFieldNode(e)) {\n      return !1;\n    }\n    var t = keyOfField(getName(e), getFieldArguments(e, i));\n    return !function hasField(e, t) {\n      return void 0 !== readRecord(e, t) || void 0 !== readLink(e, t);\n    }(r, t);\n  }));\n}\n\nfunction makeSelectionIterator(e, t, r, i) {\n  var n = !1;\n  var a;\n  var o = 0;\n  return function next() {\n    if (!x.current && n) {\n      x.current = n;\n    }\n    if (a) {\n      var s = a();\n      if (null != s) {\n        return s;\n      }\n      a = void 0;\n      n = !1;\n      if (true) {\n        popDebugNode();\n      }\n    }\n    while (o < r.length) {\n      var u = r[o++];\n      if (!shouldInclude(u, i.variables)) {\n        continue;\n      } else if (!isFieldNode(u)) {\n        var c = !isInlineFragment(u) ? i.fragments[getName(u)] : u;\n        if (void 0 !== c) {\n          if (i.store.schema ? isInterfaceOfType(i.store.schema, c, e) : isFragmentHeuristicallyMatching(c, e, t, i.variables)) {\n            if (true) {\n              pushDebugNode(e, c);\n            }\n            n = !!isDeferred(u, i.variables);\n            if (!x.current && n) {\n              x.current = n;\n            }\n            return (a = makeSelectionIterator(e, t, getSelectionSet(c), i))();\n          }\n        }\n      } else {\n        return u;\n      }\n    }\n  };\n}\n\nfunction ensureData(e) {\n  return null == e ? null : e;\n}\n\nfunction ensureLink(e, t) {\n  if (null == t) {\n    return t;\n  } else if (Array.isArray(t)) {\n    var r = new Array(t.length);\n    for (var i = 0, n = r.length; i < n; i++) {\n      r[i] = ensureLink(e, t[i]);\n    }\n    return r;\n  }\n  var a = e.keyOfEntity(t);\n  if (true) {\n    if (!a && t && \"object\" == typeof t) {\n      warn(\"Can't generate a key for link(...) item.\\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `\" + t.__typename + \"`.\", 12);\n    }\n  }\n  return a;\n}\n\nfunction write(e, t, r, i, n) {\n  initDataState(\"write\", e.data, n || null);\n  var a = startWrite(e, t, r, i);\n  clearDataState();\n  return a;\n}\n\nfunction startWrite(e, t, r, i, n) {\n  var a = getMainOperation(t.query);\n  var o = {\n    data: r,\n    dependencies: getCurrentDependencies()\n  };\n  var s = e.rootFields[a.operation];\n  var u = makeContext(e, normalizeVariables(a, t.variables), getFragments(t.query), s, s, !!n, i);\n  if (true) {\n    pushDebugNode(s, a);\n  }\n  writeSelection(u, s, getSelectionSet(a), r);\n  if (true) {\n    popDebugNode();\n  }\n  return o;\n}\n\nfunction writeSelection(e, t, r, i) {\n  var n = t === e.store.rootFields.query;\n  var a = !n && !!e.store.rootNames[t];\n  var o = a || n ? t : i.__typename;\n  if (!o) {\n     true && warn(\"Couldn't find __typename when writing.\\nIf you're writing to the cache manually have to pass a `__typename` property on each entity in your data.\", 14);\n    return;\n  } else if (!a && !n && t) {\n    writeRecord(t, \"__typename\", o);\n  }\n  var s = makeSelectionIterator(o, t || o, r, e);\n  var u;\n  while (u = s()) {\n    var c = getName(u);\n    var l = getFieldArguments(u, e.variables);\n    var d = keyOfField(c, l);\n    var f = getFieldAlias(u);\n    var p = i[f];\n    if (true) {\n      if (!a && void 0 === p && !x.current) {\n         true && warn(\"Invalid undefined: The field at `\" + d + \"` is `undefined`, but the GraphQL query expects a \" + (void 0 === u.selectionSet ? \"scalar (number, boolean, etc)\" : \"selection set\") + \" for this field.\" + (e.optimistic ? \"\\nYour optimistic result may be missing a field!\" : \"\"), 13);\n        continue;\n      } else if (e.store.schema && o && \"__typename\" !== c) {\n        isFieldAvailableOnType(e.store.schema, o, c);\n      }\n    }\n    if (\"__typename\" === c || void 0 === p && x.current) {\n      continue;\n    }\n    e.__internal.path.push(f);\n    if (e.optimistic && a) {\n      var v = e.store.optimisticMutations[c];\n      if (!v) {\n        continue;\n      }\n      updateContext(e, i, o, o, d, c);\n      p = i[f] = ensureData(v(l || {}, e.store, e));\n    }\n    if (u.selectionSet) {\n      if (t && !a) {\n        var y = joinKeys(t, d);\n        writeLink(t || o, d, writeField(e, getSelectionSet(u), ensureData(p), y));\n      } else {\n        writeField(e, getSelectionSet(u), ensureData(p));\n      }\n    } else if (t && !a) {\n      writeRecord(t || o, d, null !== p || !getFieldError(e) ? p : void 0);\n    }\n    if (a) {\n      var m = e.store.updates[o][c];\n      if (m) {\n        updateContext(e, i, o, o, joinKeys(o, d), c);\n        i[c] = p;\n        m(i, l || {}, e.store, e);\n      }\n    }\n    e.__internal.path.pop();\n  }\n}\n\nvar q = /^__|PageInfo|(Connection|Edge)$/;\n\nfunction writeField(e, t, r, i) {\n  if (Array.isArray(r)) {\n    var n = new Array(r.length);\n    for (var a = 0, o = r.length; a < o; a++) {\n      e.__internal.path.push(a);\n      var s = i ? joinKeys(i, \"\" + a) : void 0;\n      var u = writeField(e, t, r[a], s);\n      n[a] = u;\n      e.__internal.path.pop();\n    }\n    return n;\n  } else if (null === r) {\n    return getFieldError(e) ? void 0 : null;\n  }\n  var c = e.store.keyOfEntity(r);\n  var l = r.__typename;\n  if (true) {\n    if (i && !e.store.keys[r.__typename] && null === c && \"string\" == typeof l && !q.test(l)) {\n      warn(\"Invalid key: The GraphQL query at the field at `\" + i + \"` has a selection set, but no key could be generated for the data at this field.\\nYou have to request `id` or `_id` fields for all selection sets or create a custom `keys` config for `\" + l + \"`.\\nEntities without keys will be embedded directly on the parent entity. If this is intentional, create a `keys` config for `\" + l + \"` that always returns null.\", 15);\n    }\n  }\n  var d = c || i;\n  writeSelection(e, d, t, r);\n  return d || null;\n}\n\nfunction Store(e) {\n  var t, r;\n  this.keyOfField = keyOfField;\n  this.resolveFieldByKey = this.resolve;\n  if (!e) {\n    e = {};\n  }\n  this.resolvers = e.resolvers || {};\n  this.optimisticMutations = e.optimistic || {};\n  this.keys = e.keys || {};\n  var i = \"Query\";\n  var n = \"Mutation\";\n  var a = \"Subscription\";\n  if (e.schema) {\n    var o = function buildClientSchema(e) {\n      var t = e.__schema;\n      var r = {};\n      function buildNameMap(e) {\n        var t = {};\n        for (var r = 0; r < e.length; r++) {\n          t[e[r].name] = e[r];\n        }\n        return t;\n      }\n      function buildType(e) {\n        switch (e.kind) {\n         case \"OBJECT\":\n         case \"INTERFACE\":\n          return {\n            name: e.name,\n            kind: e.kind,\n            interfaces: buildNameMap(e.interfaces || []),\n            fields: buildNameMap(e.fields.map((function(e) {\n              return {\n                name: e.name,\n                type: e.type,\n                args: buildNameMap(e.args)\n              };\n            })))\n          };\n\n         case \"UNION\":\n          return {\n            name: e.name,\n            kind: e.kind,\n            types: buildNameMap(e.possibleTypes || [])\n          };\n        }\n      }\n      var i = {\n        query: t.queryType ? t.queryType.name : null,\n        mutation: t.mutationType ? t.mutationType.name : null,\n        subscription: t.subscriptionType ? t.subscriptionType.name : null,\n        types: void 0,\n        isSubType: function isSubType(e, t) {\n          var i = r[e];\n          var n = r[t];\n          if (!i || !n) {\n            return !1;\n          } else if (\"UNION\" === i.kind) {\n            return !!i.types[t];\n          } else if (\"OBJECT\" !== i.kind && \"OBJECT\" === n.kind) {\n            return !!n.interfaces[e];\n          } else {\n            return e === t;\n          }\n        }\n      };\n      if (t.types) {\n        i.types = r;\n        for (var n = 0; n < t.types.length; n++) {\n          var a = t.types[n];\n          if (a && a.name) {\n            var o = buildType(a);\n            if (o) {\n              r[a.name] = o;\n            }\n          }\n        }\n      }\n      return i;\n    }(e.schema);\n    i = o.query || i;\n    n = o.mutation || n;\n    a = o.subscription || a;\n    if (o.types) {\n      this.schema = o;\n    }\n  }\n  this.updates = ((t = {})[n] = e.updates && e.updates.Mutation || {}, t[a] = e.updates && e.updates.Subscription || {}, \n  t);\n  this.rootFields = {\n    query: i,\n    mutation: n,\n    subscription: a\n  };\n  this.rootNames = ((r = {})[i] = \"query\", r[n] = \"mutation\", r[a] = \"subscription\", \n  r);\n  this.data = function make(e) {\n    return {\n      defer: !1,\n      gc: new Set,\n      persist: new Set,\n      queryRootKey: e,\n      refCount: makeDict(),\n      refLock: makeDict(),\n      links: makeNodeMap(),\n      records: makeNodeMap(),\n      deferredKeys: new Set,\n      commutativeKeys: new Set,\n      optimisticOrder: [],\n      storage: null\n    };\n  }(i);\n  if (this.schema && \"production\" !== \"development\") {\n    !function expectValidKeyingConfig(e, t) {\n      if (true) {\n        for (var r in t) {\n          if (true) {\n            if (!e.types[r]) {\n              warn(\"Invalid Object type: The type `\" + r + \"` is not an object in the defined schema, but the `keys` option is referencing it.\", 20);\n            }\n          }\n        }\n      }\n    }(this.schema, this.keys);\n    !function expectValidUpdatesConfig(e, t) {\n      if (false) {}\n      if (e.mutation) {\n        var r = e.types[e.mutation].fields;\n        var i = t[e.mutation] || {};\n        for (var n in i) {\n          if (true) {\n            if (void 0 === r[n]) {\n              warn(\"Invalid mutation field: `\" + n + \"` is not in the defined schema, but the `updates.Mutation` option is referencing it.\", 21);\n            }\n          }\n        }\n      }\n      if (e.subscription) {\n        var a = e.types[e.subscription].fields;\n        var o = t[e.subscription] || {};\n        for (var s in o) {\n          if (true) {\n            if (void 0 === a[s]) {\n              warn(\"Invalid subscription field: `\" + s + \"` is not in the defined schema, but the `updates.Subscription` option is referencing it.\", 22);\n            }\n          }\n        }\n      }\n    }(this.schema, this.updates);\n    !function expectValidResolversConfig(e, t) {\n      if (false) {}\n      for (var r in t) {\n        if (\"Query\" === r) {\n          if (e.query) {\n            var i = e.types[e.query].fields;\n            for (var n in t.Query) {\n              if (!i[n]) {\n                warnAboutResolver(\"Query.\" + n);\n              }\n            }\n          } else {\n            warnAboutResolver(\"Query\");\n          }\n        } else if (!e.types[r]) {\n          warnAboutResolver(r);\n        } else if (\"INTERFACE\" === e.types[r].kind || \"UNION\" === e.types[r].kind) {\n          s = r, u = e.types[r].kind,  true && warn(\"Invalid resolver: `\" + s + \"` does not match to a concrete type in the schema, but the `resolvers` option is referencing it. Implement the resolver for the types that \" + (\"UNION\" === u ? \"make up the union\" : \"implement the interface\") + \" instead.\", 26);\n        } else {\n          var a = e.types[r].fields;\n          for (var o in t[r]) {\n            if (!a[o]) {\n              warnAboutResolver(r + \".\" + o);\n            }\n          }\n        }\n      }\n      var s, u;\n    }(this.schema, this.resolvers);\n    !function expectValidOptimisticMutationsConfig(e, t) {\n      if (false) {}\n      if (e.mutation) {\n        var r = e.types[e.mutation].fields;\n        for (var i in t) {\n          if (true) {\n            if (!r[i]) {\n              warn(\"Invalid optimistic mutation field: `\" + i + \"` is not a mutation field in the defined schema, but the `optimistic` option is referencing it.\", 24);\n            }\n          }\n        }\n      }\n    }(this.schema, this.optimisticMutations);\n  }\n}\n\nStore.prototype.keyOfEntity = function keyOfEntity(e) {\n  if (L.current && e === L.current.parent) {\n    return L.current.parentKey;\n  }\n  if (null == e || \"string\" == typeof e) {\n    return e || null;\n  }\n  if (!e.__typename) {\n    return null;\n  }\n  if (this.rootNames[e.__typename]) {\n    return e.__typename;\n  }\n  var t;\n  if (this.keys[e.__typename]) {\n    t = this.keys[e.__typename](e);\n  } else if (null != e.id) {\n    t = \"\" + e.id;\n  } else if (null != e._id) {\n    t = \"\" + e._id;\n  }\n  return t ? e.__typename + \":\" + t : null;\n};\n\nStore.prototype.resolve = function resolve(e, t, r) {\n  var i = keyOfField(t, r);\n  var n = this.keyOfEntity(e);\n  if (!n) {\n    return null;\n  }\n  var a = readRecord(n, i);\n  if (void 0 !== a) {\n    return a;\n  }\n  return readLink(n, i) || null;\n};\n\nStore.prototype.invalidate = function invalidate(e, t, r) {\n  var i = this.keyOfEntity(e);\n  invariant(i,  true ? \"Can't generate a key for invalidate(...).\\nYou have to pass an id or _id field or create a custom `keys` field for `\" + typeof e == \"object\" ? e.__typename : e + \"`.\" : 0, 19);\n  !function invalidateEntity(e, t, r) {\n    var i = t ? [ {\n      fieldKey: keyOfField(t, r)\n    } ] : inspectFields(e);\n    for (var n = 0, a = i.length; n < a; n++) {\n      var o = i[n].fieldKey;\n      if (void 0 !== readLink(e, o)) {\n        writeLink(e, o, void 0);\n      } else {\n        writeRecord(e, o, void 0);\n      }\n    }\n  }(i, t, r);\n};\n\nStore.prototype.inspectFields = function inspectFields$1(e) {\n  var t = this.keyOfEntity(e);\n  return t ? inspectFields(t) : [];\n};\n\nStore.prototype.updateQuery = function updateQuery(e, i) {\n  var n = (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.createRequest)(e.query, e.variables);\n  n.query = (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.formatDocument)(n.query);\n  var a = i(this.readQuery(n));\n  if (null !== a) {\n    startWrite(this, n, a);\n  }\n};\n\nStore.prototype.readQuery = function readQuery(e) {\n  var i = (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.createRequest)(e.query, e.variables);\n  i.query = (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.formatDocument)(i.query);\n  return read(this, i).data;\n};\n\nStore.prototype.readFragment = function readFragment$1(e, t, i) {\n  return function readFragment(e, t, r, i) {\n    var n = getFragments(t);\n    var a = Object.keys(n);\n    var o = n[a[0]];\n    if (!o) {\n       true && warn(\"readFragment(...) was called with an empty fragment.\\nYou have to call it with at least one fragment in your GraphQL document.\", 6);\n      return null;\n    }\n    var s = getFragmentTypeName(o);\n    if (\"string\" != typeof r && !r.__typename) {\n      r.__typename = s;\n    }\n    var u = e.keyOfEntity(r);\n    if (!u) {\n       true && warn(\"Can't generate a key for readFragment(...).\\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `\" + s + \"`.\", 7);\n      return null;\n    }\n    if (true) {\n      pushDebugNode(s, o);\n    }\n    var c = readSelection(makeContext(e, i || {}, n, s, u), u, getSelectionSet(o), makeData()) || null;\n    if (true) {\n      popDebugNode();\n    }\n    return c;\n  }(this, (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.formatDocument)(e), t, i);\n};\n\nStore.prototype.writeFragment = function writeFragment$1(e, t, i) {\n  !function writeFragment(e, t, r, i) {\n    var n = getFragments(t);\n    var a = n[Object.keys(n)[0]];\n    if (!a) {\n      return  true ? warn(\"writeFragment(...) was called with an empty fragment.\\nYou have to call it with at least one fragment in your GraphQL document.\", 11) : 0;\n    }\n    var o = getFragmentTypeName(a);\n    var s = (0,_5301ccd2_mjs__WEBPACK_IMPORTED_MODULE_3__._)({}, {\n      __typename: o\n    }, r);\n    var u = e.keyOfEntity(s);\n    if (!u) {\n      return  true ? warn(\"Can't generate a key for writeFragment(...) data.\\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `\" + o + \"`.\", 12) : 0;\n    }\n    if (true) {\n      pushDebugNode(o, a);\n    }\n    writeSelection(makeContext(e, i || {}, n, o, u, void 0), u, getSelectionSet(a), s);\n    if (true) {\n      popDebugNode();\n    }\n  }(this, (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.formatDocument)(e), t, i);\n};\n\nStore.prototype.link = function link(e, t, r, i) {\n  var n = void 0 !== i ? r : null;\n  var link = void 0 !== i ? i : r;\n  var a = ensureLink(this, e);\n  if (\"string\" == typeof a) {\n    writeLink(a, keyOfField(t, n), ensureLink(this, link));\n  }\n};\n\nfunction query(e, t, r, i, n) {\n  initDataState(\"read\", e.data, n);\n  var a = read(e, t, r, i);\n  clearDataState();\n  return a;\n}\n\nfunction read(e, t, r, i) {\n  var n = getMainOperation(t.query);\n  var a = e.rootFields[n.operation];\n  var o = getSelectionSet(n);\n  var s = makeContext(e, normalizeVariables(n, t.variables), getFragments(t.query), a, a, !1, i);\n  if (true) {\n    pushDebugNode(a, n);\n  }\n  if (!r) {\n    r = makeData();\n  }\n  var u = a !== s.store.rootFields.query ? readRoot(s, a, o, r) : readSelection(s, a, o, r);\n  if (true) {\n    popDebugNode();\n  }\n  return {\n    dependencies: getCurrentDependencies(),\n    partial: s.partial || !u,\n    data: u || null\n  };\n}\n\nfunction readRoot(e, t, r, i) {\n  if (\"string\" != typeof (e.store.rootNames[t] ? t : i.__typename)) {\n    return i;\n  }\n  var n = makeSelectionIterator(t, t, r, e);\n  var a;\n  var o = !1;\n  var s = makeData(i);\n  while (a = n()) {\n    var u = getFieldAlias(a);\n    var c = i[u];\n    e.__internal.path.push(u);\n    var l = void 0;\n    if (a.selectionSet && null !== c) {\n      l = readRootField(e, getSelectionSet(a), ensureData(c));\n    } else {\n      l = c;\n    }\n    o = o || l !== c;\n    if (void 0 !== l) {\n      s[u] = l;\n    }\n    e.__internal.path.pop();\n  }\n  return o ? s : i;\n}\n\nfunction readRootField(e, t, r) {\n  if (Array.isArray(r)) {\n    var i = new Array(r.length);\n    var n = !1;\n    for (var a = 0, o = r.length; a < o; a++) {\n      e.__internal.path.push(a);\n      i[a] = readRootField(e, t, r[a]);\n      n = n || i[a] !== r[a];\n      e.__internal.path.pop();\n    }\n    return n ? i : r;\n  } else if (null === r) {\n    return null;\n  }\n  var s = e.store.keyOfEntity(r);\n  if (null !== s) {\n    return readSelection(e, s, t, r) || null;\n  } else {\n    return readRoot(e, r.__typename, t, r);\n  }\n}\n\nfunction readSelection(e, t, r, i, n) {\n  var a = e.store;\n  var o = t === a.rootFields.query;\n  var s = n && a.keyOfEntity(n) || t;\n  if (true) {\n    if (!o && e.store.rootNames[s]) {\n      warn(\"Invalid root traversal: A selection was being read on `\" + s + \"` which is an uncached root type.\\nThe `\" + e.store.rootFields.mutation + \"` and `\" + e.store.rootFields.subscription + \"` types are special Operation Root Types and cannot be read back from the cache.\", 25);\n    }\n  }\n  var u = !o ? readRecord(s, \"__typename\") || n && n.__typename : t;\n  if (\"string\" != typeof u) {\n    return;\n  } else if (n && u !== n.__typename) {\n     true && warn(\"Invalid resolver data: The resolver at `\" + s + \"` returned an invalid typename that could not be reconciled with the cache.\", 8);\n    return;\n  }\n  var c = makeSelectionIterator(u, s, r, e);\n  var l = !1;\n  var d = !1;\n  var f = u !== i.__typename;\n  var p;\n  var v = makeData(i);\n  while (void 0 !== (p = c())) {\n    var y = getName(p);\n    var m = getFieldArguments(p, e.variables);\n    var h = getFieldAlias(p);\n    var g = keyOfField(y, m);\n    var N = joinKeys(s, g);\n    var k = readRecord(s, g);\n    var O = n ? n[y] : void 0;\n    var _ = a.resolvers[u];\n    if ( true && a.schema && u) {\n      isFieldAvailableOnType(a.schema, u, y);\n    }\n    e.__internal.path.push(h);\n    var E = void 0;\n    if (\"__typename\" === y) {\n      E = u;\n    } else if (void 0 !== O && void 0 === p.selectionSet) {\n      E = O;\n    } else if (\"read\" === getCurrentOperation() && _ && \"function\" == typeof _[y]) {\n      updateContext(e, v, u, s, N, y);\n      if (void 0 !== k) {\n        v[h] = k;\n      }\n      E = _[y](v, m || {}, a, e);\n      if (p.selectionSet) {\n        E = resolveResolverResult(e, u, y, N, getSelectionSet(p), void 0 !== v[h] ? v[h] : i[h], E, ownsData(i));\n      }\n      if (a.schema && null === E && !isFieldNullable(a.schema, u, y)) {\n        return;\n      }\n    } else if (!p.selectionSet) {\n      E = k;\n    } else if (void 0 !== O) {\n      E = resolveResolverResult(e, u, y, N, getSelectionSet(p), void 0 !== v[h] ? v[h] : i[h], O, ownsData(i));\n    } else {\n      var b = readLink(s, g);\n      if (void 0 !== b) {\n        E = resolveLink(e, b, u, y, getSelectionSet(p), void 0 !== v[h] ? v[h] : i[h], ownsData(i));\n      } else if (\"object\" == typeof k && null !== k) {\n        E = k;\n      }\n    }\n    if (void 0 === E && x.current) {\n      l = !0;\n    } else if (void 0 === E && (a.schema && isFieldNullable(a.schema, u, y) || getFieldError(e))) {\n      d = !0;\n      E = null;\n    } else if (void 0 === E) {\n      e.__internal.path.pop();\n      return;\n    } else {\n      l = l || \"__typename\" !== y;\n    }\n    e.__internal.path.pop();\n    f = f || E !== i[h];\n    if (void 0 !== E) {\n      v[h] = E;\n    }\n  }\n  e.partial = e.partial || d;\n  return o && d && !l ? void 0 : f ? v : i;\n}\n\nfunction resolveResolverResult(e, t, r, i, n, a, o, s) {\n  if (Array.isArray(o)) {\n    var u = e.store;\n    var c = u.schema ? isListNullable(u.schema, t, r) : !1;\n    var l = new Array(o.length);\n    var d = !Array.isArray(a) || o.length !== a.length;\n    for (var f = 0, p = o.length; f < p; f++) {\n      e.__internal.path.push(f);\n      var v = resolveResolverResult(e, t, r, joinKeys(i, \"\" + f), n, null != a ? a[f] : void 0, o[f], s);\n      e.__internal.path.pop();\n      if (void 0 === v && !c) {\n        return;\n      } else {\n        e.partial = e.partial || void 0 === v && c;\n        l[f] = null != v ? v : null;\n        d = d || l[f] !== a[f];\n      }\n    }\n    return d ? l : a;\n  } else if (null == o) {\n    return o;\n  } else if (s && null === a) {\n    return null;\n  } else if (function isDataOrKey(e) {\n    return \"string\" == typeof e || \"object\" == typeof e && \"string\" == typeof e.__typename;\n  }(o)) {\n    var y = a || makeData();\n    return \"string\" == typeof o ? readSelection(e, o, n, y) : readSelection(e, i, n, y, o);\n  } else {\n     true && warn(\"Invalid resolver value: The field at `\" + i + \"` is a scalar (number, boolean, etc), but the GraphQL query expects a selection set for this field.\", 9);\n    return;\n  }\n}\n\nfunction resolveLink(e, t, r, i, n, a, o) {\n  if (Array.isArray(t)) {\n    var s = e.store;\n    var u = s.schema ? isListNullable(s.schema, r, i) : !1;\n    var c = new Array(t.length);\n    var l = !Array.isArray(a) || c.length !== a.length;\n    for (var d = 0, f = t.length; d < f; d++) {\n      e.__internal.path.push(d);\n      var p = resolveLink(e, t[d], r, i, n, null != a ? a[d] : void 0, o);\n      e.__internal.path.pop();\n      if (void 0 === p && !u) {\n        return;\n      } else {\n        e.partial = e.partial || void 0 === p && u;\n        c[d] = p || null;\n        l = l || c[d] !== a[d];\n      }\n    }\n    return l ? c : a;\n  } else if (null === t || null === a && o) {\n    return null;\n  }\n  return readSelection(e, t, n, a || makeData());\n}\n\nfunction addCacheOutcome(e, t) {\n  return (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.makeOperation)(e.kind, e, (0,_5301ccd2_mjs__WEBPACK_IMPORTED_MODULE_3__._)({}, e.context, {\n    meta: (0,_5301ccd2_mjs__WEBPACK_IMPORTED_MODULE_3__._)({}, e.context.meta, {\n      cacheOutcome: t\n    })\n  }));\n}\n\nfunction toRequestPolicy(e, t) {\n  return (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.makeOperation)(e.kind, e, (0,_5301ccd2_mjs__WEBPACK_IMPORTED_MODULE_3__._)({}, e.context, {\n    requestPolicy: t\n  }));\n}\n\nfunction cacheExchange(e) {\n  return function(t) {\n    var v = t.forward;\n    var y = t.client;\n    var m = t.dispatchDebug;\n    var h = new Store(e);\n    var g;\n    if (e && e.storage) {\n      g = e.storage.readData().then((function(t) {\n        !function hydrateData(e, t, r) {\n          initDataState(\"write\", e, null);\n          for (var i in r) {\n            var n = r[i];\n            if (void 0 !== n) {\n              var a = deserializeKeyInfo(i);\n              var o = a.entityKey;\n              var s = a.fieldKey;\n              if (\":\" === n[0]) {\n                writeLink(o, s, JSON.parse(n.slice(1)));\n              } else {\n                writeRecord(o, s, JSON.parse(n));\n              }\n            }\n          }\n          clearDataState();\n          e.storage = t;\n        }(h.data, e.storage, t);\n      }));\n    }\n    var N = new Map;\n    var k = [];\n    var O = new Map;\n    var _ = new Map;\n    var E = makeDict();\n    var b = new Set;\n    var D = makeDict();\n    function isBlockedByOptimisticUpdate(e) {\n      for (var t in e) {\n        if (E[t]) {\n          return !0;\n        }\n      }\n      return !1;\n    }\n    function collectPendingOperations(e, t) {\n      if (t) {\n        for (var r in t) {\n          var i = D[r];\n          if (i) {\n            D[r] = [];\n            for (var n = 0, a = i.length; n < a; n++) {\n              e.add(i[n]);\n            }\n          }\n        }\n      }\n    }\n    function executePendingOperations(e, t) {\n      t.forEach((function(t) {\n        if (t !== e.key) {\n          var r = O.get(t);\n          if (r) {\n            O.delete(t);\n            var i = \"cache-first\";\n            if (b.has(t)) {\n              b.delete(t);\n              i = \"cache-and-network\";\n            }\n            y.reexecuteOperation(toRequestPolicy(r, i));\n          }\n        }\n      }));\n    }\n    function prepareForwardedOperation(e) {\n      if (\"query\" === e.kind) {\n        reserveLayer(h.data, e.key);\n      } else if (\"teardown\" === e.kind) {\n        O.delete(e.key);\n        _.delete(e.key);\n        noopDataState(h.data, e.key);\n      } else if (\"mutation\" === e.kind && \"network-only\" !== e.context.requestPolicy) {\n        var t = function writeOptimistic(e, t, r) {\n          if (true) {\n            invariant(\"mutation\" === getMainOperation(t.query).operation,  true ? \"writeOptimistic(...) was called with an operation that is not a mutation.\\nThis case is unsupported and should never occur.\" : 0, 10);\n          }\n          initDataState(\"write\", e.data, r, !0);\n          var i = startWrite(e, t, {}, void 0, !0);\n          clearDataState();\n          return i;\n        }(h, e, e.key).dependencies;\n        if (!function isDictEmpty(e) {\n          for (var t in e) {\n            return !1;\n          }\n          return !0;\n        }(t)) {\n          for (var n in t) {\n            E[n] = !0;\n          }\n          N.set(e.key, t);\n          var a = new Set;\n          collectPendingOperations(a, t);\n          executePendingOperations(e, a);\n        }\n      }\n      return (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.makeOperation)(e.kind, {\n        key: e.key,\n        query: (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.formatDocument)(e.query),\n        variables: e.variables ? filterVariables(getMainOperation(e.query), e.variables) : e.variables\n      }, e.context);\n    }\n    function updateDependencies(e, t) {\n      for (var r in t) {\n        (D[r] || (D[r] = [])).push(e.key);\n        O.set(e.key, e);\n      }\n    }\n    function operationResultFromCache(e) {\n      var t = query(h, e, _.get(e.key));\n      var r = t.data ? !t.partial ? \"hit\" : \"partial\" : \"miss\";\n      _.set(e.key, t.data);\n      updateDependencies(e, t.dependencies);\n      return {\n        outcome: r,\n        operation: e,\n        data: t.data,\n        dependencies: t.dependencies\n      };\n    }\n    function updateCacheWithResult(e, t) {\n      var r = e.operation;\n      var i = e.error;\n      var n = e.extensions;\n      var a = r.key;\n      if (\"mutation\" === r.kind) {\n        collectPendingOperations(t, N.get(a));\n        N.delete(a);\n      }\n      reserveLayer(h.data, r.key, e.hasNext);\n      var o;\n      var s = e.data;\n      if (s) {\n        collectPendingOperations(t, write(h, r, s, e.error, a).dependencies);\n        var u = query(h, r, \"query\" === r.kind ? _.get(r.key) || s : s, e.error, a);\n        s = u.data;\n        if (\"query\" === r.kind) {\n          collectPendingOperations(t, o = u.dependencies);\n          _.set(r.key, e.data);\n        }\n      } else {\n        noopDataState(h.data, r.key);\n      }\n      if (o) {\n        updateDependencies(e.operation, o);\n      }\n      return {\n        data: s,\n        error: i,\n        extensions: n,\n        operation: r\n      };\n    }\n    return function(e) {\n      var t = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.share)(e);\n      var r = g ? (0,wonka__WEBPACK_IMPORTED_MODULE_4__.share)((0,wonka__WEBPACK_IMPORTED_MODULE_4__.merge)([ (0,wonka__WEBPACK_IMPORTED_MODULE_4__.mergeMap)(wonka__WEBPACK_IMPORTED_MODULE_4__.fromArray)((0,wonka__WEBPACK_IMPORTED_MODULE_4__.buffer)((0,wonka__WEBPACK_IMPORTED_MODULE_4__.fromPromise)(g))(t)), (0,wonka__WEBPACK_IMPORTED_MODULE_4__.skipUntil)((0,wonka__WEBPACK_IMPORTED_MODULE_4__.fromPromise)(g))(t) ])) : t;\n      var i = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.share)((0,wonka__WEBPACK_IMPORTED_MODULE_4__.map)(operationResultFromCache)((0,wonka__WEBPACK_IMPORTED_MODULE_4__.filter)((function(e) {\n        return \"query\" === e.kind && \"network-only\" !== e.context.requestPolicy;\n      }))(r)));\n      var O = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.filter)((function(e) {\n        return \"query\" !== e.kind || \"network-only\" === e.context.requestPolicy;\n      }))(r);\n      var _ = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.map)((function(e) {\n         true && m({\n          type: \"cacheMiss\",\n          message: \"The result could not be retrieved from the cache\",\n          operation: e.operation,\n          source: \"cacheExchange\"\n        });\n        return addCacheOutcome(e.operation, \"miss\");\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_4__.filter)((function(e) {\n        return \"miss\" === e.outcome && \"cache-only\" !== e.operation.context.requestPolicy && !isBlockedByOptimisticUpdate(e.dependencies);\n      }))(i));\n      var D = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.map)((function(e) {\n        var t = e.operation;\n        var r = e.outcome;\n        var i = e.dependencies;\n        var n = {\n          operation: addCacheOutcome(t, r),\n          data: e.data,\n          error: e.error,\n          extensions: e.extensions\n        };\n        if (\"cache-and-network\" === t.context.requestPolicy || \"cache-first\" === t.context.requestPolicy && \"partial\" === r) {\n          n.stale = !0;\n          if (!isBlockedByOptimisticUpdate(i)) {\n            y.reexecuteOperation(toRequestPolicy(t, \"network-only\"));\n          } else if (\"cache-and-network\" === t.context.requestPolicy) {\n            b.add(t.key);\n          }\n        }\n         true && m({\n          type: \"cacheHit\",\n          message: \"A requested operation was found and returned from the cache.\",\n          operation: e.operation,\n          data: {\n            value: n\n          },\n          source: \"cacheExchange\"\n        });\n        return n;\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_4__.filter)((function(e) {\n        return \"miss\" !== e.outcome || \"cache-only\" === e.operation.context.requestPolicy;\n      }))(i));\n      var w = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.share)(v((0,wonka__WEBPACK_IMPORTED_MODULE_4__.map)(prepareForwardedOperation)((0,wonka__WEBPACK_IMPORTED_MODULE_4__.merge)([ O, _ ]))));\n      var F = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.map)((function(e) {\n        var t = new Set;\n        var r = updateCacheWithResult(e, t);\n        executePendingOperations(e.operation, t);\n        return r;\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_4__.filter)((function(e) {\n        return !N.has(e.operation.key);\n      }))(w));\n      var S = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.mergeMap)((function(e) {\n        if (k.push(e) < N.size) {\n          return wonka__WEBPACK_IMPORTED_MODULE_4__.empty;\n        }\n        for (var t = 0; t < k.length; t++) {\n          reserveLayer(h.data, k[t].operation.key);\n        }\n        for (var r in E) {\n          delete E[r];\n        }\n        var i = [];\n        var n = new Set;\n        var a;\n        while (a = k.shift()) {\n          i.push(updateCacheWithResult(a, n));\n        }\n        executePendingOperations(e.operation, n);\n        return (0,wonka__WEBPACK_IMPORTED_MODULE_4__.fromArray)(i);\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_4__.filter)((function(e) {\n        return N.has(e.operation.key);\n      }))(w));\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_4__.merge)([ F, S, D ]);\n    };\n  };\n}\n\nfunction isOfflineError(e) {\n  return e && e.networkError && !e.response && (\"undefined\" != typeof navigator && !1 === navigator.onLine || /request failed|failed to fetch|network\\s?error/i.test(e.networkError.message));\n}\n\nfunction offlineExchange(e) {\n  return function(r) {\n    var o = e.storage;\n    if (o && o.onOnline && o.readMetadata && o.writeMetadata) {\n      var s = r.forward;\n      var u = r.client;\n      var c = r.dispatchDebug;\n      var l = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.makeSubject)();\n      var d = l.source;\n      var p = l.next;\n      var y = e.optimistic || {};\n      var m = [];\n      var updateMetadata = function() {\n        var e = [];\n        for (var t = 0; t < m.length; t++) {\n          var r = m[t];\n          if (\"mutation\" === r.kind) {\n            e.push({\n              query: (0,graphql_language_printer_mjs__WEBPACK_IMPORTED_MODULE_5__.print)(r.query),\n              variables: r.variables\n            });\n          }\n        }\n        o.writeMetadata(e);\n      };\n      var h = !1;\n      var flushQueue = function() {\n        if (!h) {\n          h = !0;\n          for (var e = 0; e < m.length; e++) {\n            var t = m[e];\n            if (\"mutation\" === t.kind) {\n              p((0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.makeOperation)(\"teardown\", t));\n            }\n          }\n          for (var r = 0; r < m.length; r++) {\n            u.reexecuteOperation(m[r]);\n          }\n          m.length = 0;\n          h = !1;\n          updateMetadata();\n        }\n      };\n      o.onOnline(flushQueue);\n      o.readMetadata().then((function(e) {\n        if (e) {\n          for (var r = 0; r < e.length; r++) {\n            m.push(u.createRequestOperation(\"mutation\", (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.createRequest)(e[r].query, e[r].variables)));\n          }\n          flushQueue();\n        }\n      }));\n      var N = cacheExchange(e)({\n        client: u,\n        dispatchDebug: c,\n        forward: function(e) {\n          return (0,wonka__WEBPACK_IMPORTED_MODULE_4__.filter)((function(e) {\n            if (\"mutation\" === e.operation.kind && isOfflineError(e.error) && function isOptimisticMutation(e, t) {\n              var r = t.variables || makeDict();\n              var i = getFragments(t.query);\n              var n = [].concat(getSelectionSet(getMainOperation(t.query)));\n              var a;\n              while (a = n.pop()) {\n                if (!shouldInclude(a, r)) {\n                  continue;\n                } else if (!isFieldNode(a)) {\n                  var o = !isInlineFragment(a) ? i[getName(a)] : a;\n                  if (o) {\n                    n.push.apply(n, getSelectionSet(o));\n                  }\n                } else if (e[getName(a)]) {\n                  return !0;\n                }\n              }\n              return !1;\n            }(y, e.operation)) {\n              m.push(e.operation);\n              updateMetadata();\n              return !1;\n            }\n            return !0;\n          }))(s(e));\n        }\n      });\n      return function(e) {\n        var t = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.share)(e);\n        var r = (0,wonka__WEBPACK_IMPORTED_MODULE_4__.merge)([ d, t ]);\n        return (0,wonka__WEBPACK_IMPORTED_MODULE_4__.filter)((function(e) {\n          if (\"query\" === e.operation.kind && isOfflineError(e.error)) {\n            p(toRequestPolicy(e.operation, \"cache-only\"));\n            m.push(e.operation);\n            return !1;\n          }\n          return !0;\n        }))(N(r));\n      };\n    }\n    return cacheExchange(e)(r);\n  };\n}\n\n\n//# sourceMappingURL=urql-exchange-graphcache.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHVycWwvZXhjaGFuZ2UtZ3JhcGhjYWNoZS9kaXN0L3VycWwtZXhjaGFuZ2UtZ3JhcGhjYWNoZS5tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBa0g7O0FBRWdFOztBQUUxSTs7QUFFZTs7QUFFOEI7O0FBRTNCOztBQUUxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLGtFQUFPO0FBQzNCOztBQUVBO0FBQ0Esb0JBQW9CLDRFQUFpQjtBQUNyQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0EsY0FBYyw4RkFBQztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxPQUFPO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELE9BQU87QUFDN0Q7QUFDQTtBQUNBLGlEQUFpRCw4RkFBQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsNEVBQWlCO0FBQ2xDO0FBQ0EsSUFBSSxvQkFBb0IsaUZBQXNCO0FBQzlDO0FBQ0EsSUFBSSxvQkFBb0IsZ0ZBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVD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Q0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1FQUFDO0FBQ3RCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYztBQUN4QztBQUNBO0FBQ0EsZ0JBQWdCLHlEQUFDO0FBQ2pCO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDLHdEQUF3RCx5REFBQztBQUN6RDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkNBQUM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0EsZ0JBQWdCLDRDQUFDO0FBQ2pCLGdCQUFnQiw0Q0FBQztBQUNqQixlQUFlLDZDQUFDO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrRDtBQUMvRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHVycWwvZXhjaGFuZ2UtZ3JhcGhjYWNoZS9kaXN0L3VycWwtZXhjaGFuZ2UtZ3JhcGhjYWNoZS5tanM/M2ZiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpbmdpZnlWYXJpYWJsZXMgYXMgZSwgY3JlYXRlUmVxdWVzdCBhcyB0LCBmb3JtYXREb2N1bWVudCBhcyByLCBtYWtlT3BlcmF0aW9uIGFzIGkgfSBmcm9tIFwiQHVycWwvY29yZVwiO1xuXG5pbXBvcnQgeyBzaGFyZSBhcyBuLCBtZXJnZSBhcyBhLCBtZXJnZU1hcCBhcyBvLCBmcm9tQXJyYXkgYXMgcywgYnVmZmVyIGFzIHUsIGZyb21Qcm9taXNlIGFzIGMsIHNraXBVbnRpbCBhcyBsLCBtYXAgYXMgZCwgZmlsdGVyIGFzIGYsIGVtcHR5IGFzIHAsIG1ha2VTdWJqZWN0IGFzIHYgfSBmcm9tIFwid29ua2FcIjtcblxuaW1wb3J0IHsgXyBhcyB5IH0gZnJvbSBcIi4vNTMwMWNjZDIubWpzXCI7XG5cbmltcG9ydCB7IEtpbmQgYXMgbSB9IGZyb20gXCJncmFwaHFsL2xhbmd1YWdlL2tpbmRzLm1qc1wiO1xuXG5pbXBvcnQgeyB2YWx1ZUZyb21BU1RVbnR5cGVkIGFzIGggfSBmcm9tIFwiZ3JhcGhxbC91dGlsaXRpZXMvdmFsdWVGcm9tQVNUVW50eXBlZC5tanNcIjtcblxuaW1wb3J0IHsgcHJpbnQgYXMgZyB9IGZyb20gXCJncmFwaHFsL2xhbmd1YWdlL3ByaW50ZXIubWpzXCI7XG5cbmZ1bmN0aW9uIGdldE5hbWUoZSkge1xuICByZXR1cm4gZS5uYW1lLnZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRGcmFnbWVudFR5cGVOYW1lKGUpIHtcbiAgcmV0dXJuIGUudHlwZUNvbmRpdGlvbi5uYW1lLnZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRGaWVsZEFsaWFzKGUpIHtcbiAgcmV0dXJuIGUuYWxpYXMgPyBlLmFsaWFzLnZhbHVlIDogZ2V0TmFtZShlKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uU2V0KGUpIHtcbiAgcmV0dXJuIGUuc2VsZWN0aW9uU2V0ID8gZS5zZWxlY3Rpb25TZXQuc2VsZWN0aW9ucyA6IFtdO1xufVxuXG5mdW5jdGlvbiBnZXRUeXBlQ29uZGl0aW9uKGUpIHtcbiAgcmV0dXJuIGUudHlwZUNvbmRpdGlvbiA/IGdldE5hbWUoZS50eXBlQ29uZGl0aW9uKSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzRmllbGROb2RlKGUpIHtcbiAgcmV0dXJuIGUua2luZCA9PT0gbS5GSUVMRDtcbn1cblxuZnVuY3Rpb24gaXNJbmxpbmVGcmFnbWVudChlKSB7XG4gIHJldHVybiBlLmtpbmQgPT09IG0uSU5MSU5FX0ZSQUdNRU5UO1xufVxuXG5mdW5jdGlvbiBnZXRGaWVsZEFyZ3VtZW50cyhlLCB0KSB7XG4gIHZhciByID0ge307XG4gIHZhciBpID0gMDtcbiAgaWYgKGUuYXJndW1lbnRzICYmIGUuYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGZvciAodmFyIG4gPSAwLCBhID0gZS5hcmd1bWVudHMubGVuZ3RoOyBuIDwgYTsgbisrKSB7XG4gICAgICB2YXIgbyA9IGUuYXJndW1lbnRzW25dO1xuICAgICAgdmFyIHMgPSBoKG8udmFsdWUsIHQpO1xuICAgICAgaWYgKG51bGwgIT0gcykge1xuICAgICAgICByW2dldE5hbWUobyldID0gcztcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gaSA+IDAgPyByIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gZmlsdGVyVmFyaWFibGVzKGUsIHQpIHtcbiAgaWYgKCF0IHx8ICFlLnZhcmlhYmxlRGVmaW5pdGlvbnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHIgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIG4gPSBlLnZhcmlhYmxlRGVmaW5pdGlvbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgdmFyIGEgPSBnZXROYW1lKGUudmFyaWFibGVEZWZpbml0aW9uc1tpXS52YXJpYWJsZSk7XG4gICAgclthXSA9IHRbYV07XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhcmlhYmxlcyhlLCB0KSB7XG4gIHZhciByID0ge307XG4gIGlmICghdCkge1xuICAgIHJldHVybiByO1xuICB9XG4gIGlmIChlLnZhcmlhYmxlRGVmaW5pdGlvbnMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IGUudmFyaWFibGVEZWZpbml0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHZhciBhID0gZS52YXJpYWJsZURlZmluaXRpb25zW2ldO1xuICAgICAgdmFyIG8gPSBnZXROYW1lKGEudmFyaWFibGUpO1xuICAgICAgcltvXSA9IHZvaWQgMCA9PT0gdFtvXSAmJiBhLmRlZmF1bHRWYWx1ZSA/IGgoYS5kZWZhdWx0VmFsdWUsIHQpIDogdFtvXTtcbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgcyBpbiB0KSB7XG4gICAgaWYgKCEocyBpbiByKSkge1xuICAgICAgcltzXSA9IHRbc107XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufVxuXG52YXIgTiA9IFwiXFxuaHR0cHM6Ly9iaXQubHkvMlhiVnJwUiNcIjtcblxudmFyIGsgPSBuZXcgU2V0O1xuXG52YXIgTyA9IFtdO1xuXG5mdW5jdGlvbiBwb3BEZWJ1Z05vZGUoKSB7XG4gIHJldHVybiBPLnBvcCgpO1xufVxuXG5mdW5jdGlvbiBwdXNoRGVidWdOb2RlKGUsIHQpIHtcbiAgdmFyIHIgPSBcIlwiO1xuICBpZiAodC5raW5kID09PSBtLklOTElORV9GUkFHTUVOVCkge1xuICAgIHIgPSBlID8gJ0lubGluZSBGcmFnbWVudCBvbiBcIicgKyBlICsgJ1wiJyA6IFwiSW5saW5lIEZyYWdtZW50XCI7XG4gIH0gZWxzZSBpZiAodC5raW5kID09PSBtLk9QRVJBVElPTl9ERUZJTklUSU9OKSB7XG4gICAgciA9ICh0Lm5hbWUgPyAnXCInICsgdC5uYW1lLnZhbHVlICsgJ1wiJyA6IFwiVW5uYW1lZFwiKSArIFwiIFwiICsgdC5vcGVyYXRpb247XG4gIH0gZWxzZSBpZiAodC5raW5kID09PSBtLkZSQUdNRU5UX0RFRklOSVRJT04pIHtcbiAgICByID0gJ1wiJyArIHQubmFtZS52YWx1ZSArICdcIiBGcmFnbWVudCc7XG4gIH1cbiAgaWYgKHIpIHtcbiAgICBPLnB1c2gocik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGVidWdPdXRwdXQoKSB7XG4gIHJldHVybiBPLmxlbmd0aCA/IFwiXFxuKENhdXNlZCBBdDogXCIgKyBPLmpvaW4oXCIsIFwiKSArIFwiKVwiIDogXCJcIjtcbn1cblxuZnVuY3Rpb24gaW52YXJpYW50KGUsIHQsIHIpIHtcbiAgaWYgKCFlKSB7XG4gICAgdmFyIGkgPSB0IHx8IFwiTWluZmllZCBFcnJvciAjXCIgKyByICsgXCJcXG5cIjtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICBpICs9IGdldERlYnVnT3V0cHV0KCk7XG4gICAgfVxuICAgIHZhciBuID0gbmV3IEVycm9yKGkgKyBOICsgcik7XG4gICAgbi5uYW1lID0gXCJHcmFwaGNhY2hlIEVycm9yXCI7XG4gICAgdGhyb3cgbjtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuKGUsIHQpIHtcbiAgaWYgKCFrLmhhcyhlKSkge1xuICAgIGNvbnNvbGUud2FybihlICsgZ2V0RGVidWdPdXRwdXQoKSArIE4gKyB0KTtcbiAgICBrLmFkZChlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRNYWluT3BlcmF0aW9uKGUpIHtcbiAgZm9yICh2YXIgdCA9IDA7IHQgPCBlLmRlZmluaXRpb25zLmxlbmd0aDsgdCsrKSB7XG4gICAgaWYgKGUuZGVmaW5pdGlvbnNbdF0ua2luZCA9PT0gbS5PUEVSQVRJT05fREVGSU5JVElPTikge1xuICAgICAgcmV0dXJuIGUuZGVmaW5pdGlvbnNbdF07XG4gICAgfVxuICB9XG4gIGludmFyaWFudCghMSwgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gXCJJbnZhbGlkIEdyYXBoUUwgZG9jdW1lbnQ6IEFsbCBHcmFwaFFMIGRvY3VtZW50cyBtdXN0IGNvbnRhaW4gYW4gT3BlcmF0aW9uRGVmaW5pdGlvbm5vZGUgZm9yIGEgcXVlcnksIHN1YnNjcmlwdGlvbiwgb3IgbXV0YXRpb24uXCIgOiBcIlwiLCAxKTtcbn1cblxuZnVuY3Rpb24gZ2V0RnJhZ21lbnRzKGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgciA9IDA7IHIgPCBlLmRlZmluaXRpb25zLmxlbmd0aDsgcisrKSB7XG4gICAgdmFyIGkgPSBlLmRlZmluaXRpb25zW3JdO1xuICAgIGlmIChpLmtpbmQgPT09IG0uRlJBR01FTlRfREVGSU5JVElPTikge1xuICAgICAgdFtnZXROYW1lKGkpXSA9IGk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBzaG91bGRJbmNsdWRlKGUsIHQpIHtcbiAgZm9yICh2YXIgciA9IDA7IGUuZGlyZWN0aXZlcyAmJiByIDwgZS5kaXJlY3RpdmVzLmxlbmd0aDsgcisrKSB7XG4gICAgdmFyIGkgPSBlLmRpcmVjdGl2ZXNbcl07XG4gICAgdmFyIG4gPSBnZXROYW1lKGkpO1xuICAgIGlmICgoXCJpbmNsdWRlXCIgPT09IG4gfHwgXCJza2lwXCIgPT09IG4pICYmIGkuYXJndW1lbnRzICYmIGkuYXJndW1lbnRzWzBdICYmIFwiaWZcIiA9PT0gZ2V0TmFtZShpLmFyZ3VtZW50c1swXSkpIHtcbiAgICAgIHZhciBhID0gaChpLmFyZ3VtZW50c1swXS52YWx1ZSwgdCk7XG4gICAgICByZXR1cm4gXCJpbmNsdWRlXCIgPT09IG4gPyAhIWEgOiAhYTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuXG5mdW5jdGlvbiBpc0RlZmVycmVkKGUsIHQpIHtcbiAgZm9yICh2YXIgciA9IDA7IGUuZGlyZWN0aXZlcyAmJiByIDwgZS5kaXJlY3RpdmVzLmxlbmd0aDsgcisrKSB7XG4gICAgdmFyIGkgPSBlLmRpcmVjdGl2ZXNbcl07XG4gICAgaWYgKFwiZGVmZXJcIiA9PT0gZ2V0TmFtZShpKSkge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IGkuYXJndW1lbnRzICYmIG4gPCBpLmFyZ3VtZW50cy5sZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgYSA9IGkuYXJndW1lbnRzW3JdO1xuICAgICAgICBpZiAoXCJpZlwiID09PSBnZXROYW1lKGEpKSB7XG4gICAgICAgICAgcmV0dXJuICEhaChhLnZhbHVlLCB0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59XG5cbmZ1bmN0aW9uIGlzRmllbGROdWxsYWJsZShlLCB0LCByKSB7XG4gIHZhciBpID0gZ2V0RmllbGQoZSwgdCwgcik7XG4gIHJldHVybiAhIWkgJiYgXCJOT05fTlVMTFwiICE9PSBpLnR5cGUua2luZDtcbn1cblxuZnVuY3Rpb24gaXNMaXN0TnVsbGFibGUoZSwgdCwgcikge1xuICB2YXIgaSA9IGdldEZpZWxkKGUsIHQsIHIpO1xuICBpZiAoIWkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIG4gPSBcIk5PTl9OVUxMXCIgPT09IGkudHlwZS5raW5kID8gaS50eXBlLm9mVHlwZSA6IGkudHlwZTtcbiAgcmV0dXJuIFwiTElTVFwiID09PSBuLmtpbmQgJiYgXCJOT05fTlVMTFwiICE9PSBuLm9mVHlwZS5raW5kO1xufVxuXG5mdW5jdGlvbiBpc0ZpZWxkQXZhaWxhYmxlT25UeXBlKGUsIHQsIHIpIHtcbiAgcmV0dXJuIDAgPT09IHIuaW5kZXhPZihcIl9fXCIpIHx8IDAgPT09IHQuaW5kZXhPZihcIl9fXCIpIHx8ICEhZ2V0RmllbGQoZSwgdCwgcik7XG59XG5cbmZ1bmN0aW9uIGlzSW50ZXJmYWNlT2ZUeXBlKGUsIHQsIHIpIHtcbiAgaWYgKCFyKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBpID0gZ2V0VHlwZUNvbmRpdGlvbih0KTtcbiAgaWYgKCFpIHx8IHIgPT09IGkpIHtcbiAgICByZXR1cm4gITA7XG4gIH0gZWxzZSBpZiAoZS50eXBlc1tpXSAmJiBcIk9CSkVDVFwiID09PSBlLnR5cGVzW2ldLmtpbmQpIHtcbiAgICByZXR1cm4gaSA9PT0gcjtcbiAgfVxuICAhZnVuY3Rpb24gZXhwZWN0QWJzdHJhY3RUeXBlKGUsIHQpIHtcbiAgICBpbnZhcmlhbnQoZS50eXBlc1t0XSAmJiAoXCJJTlRFUkZBQ0VcIiA9PT0gZS50eXBlc1t0XS5raW5kIHx8IFwiVU5JT05cIiA9PT0gZS50eXBlc1t0XS5raW5kKSwgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gXCJJbnZhbGlkIEFic3RyYWN0IHR5cGU6IFRoZSB0eXBlIGBcIiArIHQgKyBcImAgaXMgbm90IGFuIEludGVyZmFjZSBvciBVbmlvbiB0eXBlIGluIHRoZSBkZWZpbmVkIHNjaGVtYSwgYnV0IGEgZnJhZ21lbnQgaW4gdGhlIEdyYXBoUUwgZG9jdW1lbnQgaXMgdXNpbmcgaXQgYXMgYSB0eXBlIGNvbmRpdGlvbi5cIiA6IFwiXCIsIDUpO1xuICB9KGUsIGkpO1xuICBleHBlY3RPYmplY3RUeXBlKGUsIHIpO1xuICByZXR1cm4gZS5pc1N1YlR5cGUoaSwgcik7XG59XG5cbmZ1bmN0aW9uIGdldEZpZWxkKGUsIHQsIHIpIHtcbiAgaWYgKDAgPT09IHIuaW5kZXhPZihcIl9fXCIpIHx8IDAgPT09IHQuaW5kZXhPZihcIl9fXCIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGV4cGVjdE9iamVjdFR5cGUoZSwgdCk7XG4gIHZhciBpID0gZS50eXBlc1t0XS5maWVsZHNbcl07XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBpZiAoIWkpIHtcbiAgICAgIHdhcm4oXCJJbnZhbGlkIGZpZWxkOiBUaGUgZmllbGQgYFwiICsgciArIFwiYCBkb2VzIG5vdCBleGlzdCBvbiBgXCIgKyB0ICsgXCJgLCBidXQgdGhlIEdyYXBoUUwgZG9jdW1lbnQgZXhwZWN0cyBpdCB0byBleGlzdC5cXG5UcmF2ZXJzYWwgd2lsbCBjb250aW51ZSwgaG93ZXZlciB0aGlzIG1heSBsZWFkIHRvIHVuZGVmaW5lZCBiZWhhdmlvciFcIiwgNCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpO1xufVxuXG5mdW5jdGlvbiBleHBlY3RPYmplY3RUeXBlKGUsIHQpIHtcbiAgaW52YXJpYW50KGUudHlwZXNbdF0gJiYgXCJPQkpFQ1RcIiA9PT0gZS50eXBlc1t0XS5raW5kLCBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBcIkludmFsaWQgT2JqZWN0IHR5cGU6IFRoZSB0eXBlIGBcIiArIHQgKyBcImAgaXMgbm90IGFuIG9iamVjdCBpbiB0aGUgZGVmaW5lZCBzY2hlbWEsIGJ1dCB0aGUgR3JhcGhRTCBkb2N1bWVudCBpcyB0cmF2ZXJzaW5nIGl0LlwiIDogXCJcIiwgMyk7XG59XG5cbmZ1bmN0aW9uIHdhcm5BYm91dFJlc29sdmVyKGUpIHtcbiAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHdhcm4oXCJJbnZhbGlkIHJlc29sdmVyOiBgXCIgKyBlICsgXCJgIGlzIG5vdCBpbiB0aGUgZGVmaW5lZCBzY2hlbWEsIGJ1dCB0aGUgYHJlc29sdmVyc2Agb3B0aW9uIGlzIHJlZmVyZW5jaW5nIGl0LlwiLCAyMyk7XG59XG5cbmZ1bmN0aW9uIGtleU9mRmllbGQodCwgcikge1xuICByZXR1cm4gciA/IHQgKyBcIihcIiArIGUocikgKyBcIilcIiA6IHQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5LZXlzKGUsIHQpIHtcbiAgcmV0dXJuIGUgKyBcIi5cIiArIHQ7XG59XG5cbmZ1bmN0aW9uIGZpZWxkSW5mb09mS2V5KGUpIHtcbiAgdmFyIHQgPSBlLmluZGV4T2YoXCIoXCIpO1xuICBpZiAodCA+IC0xKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpZWxkS2V5OiBlLFxuICAgICAgZmllbGROYW1lOiBlLnNsaWNlKDAsIHQpLFxuICAgICAgYXJndW1lbnRzOiBKU09OLnBhcnNlKGUuc2xpY2UodCArIDEsIC0xKSlcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBmaWVsZEtleTogZSxcbiAgICAgIGZpZWxkTmFtZTogZSxcbiAgICAgIGFyZ3VtZW50czogbnVsbFxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVzZXJpYWxpemVLZXlJbmZvKGUpIHtcbiAgdmFyIHQgPSBlLmluZGV4T2YoXCIuXCIpO1xuICByZXR1cm4ge1xuICAgIGVudGl0eUtleTogZS5zbGljZSgwLCB0KS5yZXBsYWNlKC8lMmUvZywgXCIuXCIpLFxuICAgIGZpZWxkS2V5OiBlLnNsaWNlKHQgKyAxKVxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlRGljdCgpIHtcbiAgcmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbnZhciBfID0gbnVsbDtcblxudmFyIEUgPSBudWxsO1xuXG52YXIgYiA9IG51bGw7XG5cbnZhciBEID0gbnVsbDtcblxudmFyIHcgPSBudWxsO1xuXG52YXIgRiA9IG51bGw7XG5cbnZhciBTID0gITE7XG5cbmZ1bmN0aW9uIG1ha2VOb2RlTWFwKCkge1xuICByZXR1cm4ge1xuICAgIG9wdGltaXN0aWM6IG1ha2VEaWN0KCksXG4gICAgYmFzZTogbmV3IE1hcFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlRGF0YShlKSB7XG4gIHZhciB0O1xuICBpZiAoZSkge1xuICAgIGlmIChfLmhhcyhlKSkge1xuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHQgPSBFLmdldChlKSB8fCB5KHt9LCBlKTtcbiAgICBFLnNldChlLCB0KTtcbiAgfSBlbHNlIHtcbiAgICB0ID0ge307XG4gIH1cbiAgXy5hZGQodCk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBvd25zRGF0YShlKSB7XG4gIHJldHVybiAhIWUgJiYgXy5oYXMoZSk7XG59XG5cbmZ1bmN0aW9uIGluaXREYXRhU3RhdGUoZSwgdCwgciwgaSkge1xuICBfID0gbmV3IFNldDtcbiAgRSA9IG5ldyBNYXA7XG4gIGIgPSBlO1xuICBEID0gdDtcbiAgdyA9IG1ha2VEaWN0KCk7XG4gIFMgPSAhIWk7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBPLmxlbmd0aCA9IDA7XG4gIH1cbiAgaWYgKCFyKSB7XG4gICAgRiA9IG51bGw7XG4gIH0gZWxzZSBpZiAoaSB8fCB0Lm9wdGltaXN0aWNPcmRlci5sZW5ndGggPiAwKSB7XG4gICAgaWYgKCFpICYmICF0LmNvbW11dGF0aXZlS2V5cy5oYXMocikpIHtcbiAgICAgIHJlc2VydmVMYXllcih0LCByKTtcbiAgICB9IGVsc2UgaWYgKGkpIHtcbiAgICAgIHQuY29tbXV0YXRpdmVLZXlzLmRlbGV0ZShyKTtcbiAgICB9XG4gICAgRiA9IHI7XG4gICAgIWZ1bmN0aW9uIGNyZWF0ZUxheWVyKGUsIHQpIHtcbiAgICAgIGlmICgtMSA9PT0gZS5vcHRpbWlzdGljT3JkZXIuaW5kZXhPZih0KSkge1xuICAgICAgICBlLm9wdGltaXN0aWNPcmRlci51bnNoaWZ0KHQpO1xuICAgICAgfVxuICAgICAgaWYgKCFlLnJlZkxvY2tbdF0pIHtcbiAgICAgICAgZS5yZWZMb2NrW3RdID0gbWFrZURpY3QoKTtcbiAgICAgICAgZS5saW5rcy5vcHRpbWlzdGljW3RdID0gbmV3IE1hcDtcbiAgICAgICAgZS5yZWNvcmRzLm9wdGltaXN0aWNbdF0gPSBuZXcgTWFwO1xuICAgICAgfVxuICAgIH0odCwgcik7XG4gIH0gZWxzZSB7XG4gICAgRiA9IG51bGw7XG4gICAgZGVsZXRlTGF5ZXIodCwgcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJEYXRhU3RhdGUoKSB7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBnZXRDdXJyZW50RGVwZW5kZW5jaWVzKCk7XG4gIH1cbiAgdmFyIHQgPSBEO1xuICB2YXIgciA9IEY7XG4gIFMgPSAhMTtcbiAgRiA9IG51bGw7XG4gIGlmIChyICYmIHQub3B0aW1pc3RpY09yZGVyLmluZGV4T2YocikgPiAtMSkge1xuICAgIHZhciBpID0gdC5vcHRpbWlzdGljT3JkZXIubGVuZ3RoO1xuICAgIHdoaWxlICgtLWkgPj0gMCAmJiB0LnJlZkxvY2tbdC5vcHRpbWlzdGljT3JkZXJbaV1dICYmIHQuY29tbXV0YXRpdmVLZXlzLmhhcyh0Lm9wdGltaXN0aWNPcmRlcltpXSkgJiYgIXQuZGVmZXJyZWRLZXlzLmhhcyh0Lm9wdGltaXN0aWNPcmRlcltpXSkpIHtcbiAgICAgIHNxdWFzaExheWVyKHQub3B0aW1pc3RpY09yZGVyW2ldKTtcbiAgICB9XG4gIH1cbiAgXyA9IG51bGw7XG4gIEUgPSBudWxsO1xuICBiID0gbnVsbDtcbiAgRCA9IG51bGw7XG4gIHcgPSBudWxsO1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgTy5sZW5ndGggPSAwO1xuICB9XG4gIGlmIChcInRlc3RcIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgIXQuZGVmZXIpIHtcbiAgICB0LmRlZmVyID0gITA7XG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKSB7XG4gICAgICBpbml0RGF0YVN0YXRlKFwicmVhZFwiLCB0LCBudWxsKTtcbiAgICAgICFmdW5jdGlvbiBnYygpIHtcbiAgICAgICAgRC5nYy5mb3JFYWNoKChmdW5jdGlvbihlLCB0LCByKSB7XG4gICAgICAgICAgaWYgKChELnJlZkNvdW50W2VdIHx8IDApID4gMCkge1xuICAgICAgICAgICAgci5kZWxldGUoZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGkgaW4gRC5yZWZMb2NrKSB7XG4gICAgICAgICAgICB2YXIgbiA9IEQucmVmTG9ja1tpXTtcbiAgICAgICAgICAgIGlmICgobltlXSB8fCAwKSA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIG5bZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBELnJlZkNvdW50W2VdO1xuICAgICAgICAgIHIuZGVsZXRlKGUpO1xuICAgICAgICAgIEQucmVjb3Jkcy5iYXNlLmRlbGV0ZShlKTtcbiAgICAgICAgICB2YXIgYSA9IEQubGlua3MuYmFzZS5nZXQoZSk7XG4gICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgIEQubGlua3MuYmFzZS5kZWxldGUoZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBvIGluIGEpIHtcbiAgICAgICAgICAgICAgdXBkYXRlUkNGb3JMaW5rKHIsIEQucmVmQ291bnQsIGFbb10sIC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0oKTtcbiAgICAgICFmdW5jdGlvbiBwZXJzaXN0RGF0YSgpIHtcbiAgICAgICAgaWYgKEQuc3RvcmFnZSkge1xuICAgICAgICAgIFMgPSAhMDtcbiAgICAgICAgICBiID0gXCJyZWFkXCI7XG4gICAgICAgICAgdmFyIHQgPSBtYWtlRGljdCgpO1xuICAgICAgICAgIEQucGVyc2lzdC5mb3JFYWNoKChmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGRlc2VyaWFsaXplS2V5SW5mbyhyKTtcbiAgICAgICAgICAgIHZhciBuID0gaS5lbnRpdHlLZXk7XG4gICAgICAgICAgICB2YXIgYSA9IGkuZmllbGRLZXk7XG4gICAgICAgICAgICB2YXIgbztcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IChvID0gcmVhZExpbmsobiwgYSkpKSB7XG4gICAgICAgICAgICAgIHRbcl0gPSBcIjpcIiArIGUobyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gKG8gPSByZWFkUmVjb3JkKG4sIGEpKSkge1xuICAgICAgICAgICAgICB0W3JdID0gZShvKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRbcl0gPSB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIFMgPSAhMTtcbiAgICAgICAgICBELnN0b3JhZ2Uud3JpdGVEYXRhKHQpO1xuICAgICAgICAgIEQucGVyc2lzdC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICB9KCk7XG4gICAgICBjbGVhckRhdGFTdGF0ZSgpO1xuICAgICAgdC5kZWZlciA9ICExO1xuICAgIH0pKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub29wRGF0YVN0YXRlKGUsIHQsIHIpIHtcbiAgaWYgKHQgJiYgIXIpIHtcbiAgICBlLmRlZmVycmVkS2V5cy5kZWxldGUodCk7XG4gIH1cbiAgaW5pdERhdGFTdGF0ZShcInJlYWRcIiwgZSwgdCwgcik7XG4gIGNsZWFyRGF0YVN0YXRlKCk7XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRPcGVyYXRpb24oKSB7XG4gIGludmFyaWFudChudWxsICE9PSBiLCBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBcIkludmFsaWQgQ2FjaGUgY2FsbDogVGhlIGNhY2hlIG1heSBvbmx5IGJlIGFjY2Vzc2VkIG9yIG11dGF0ZWQgZHVyaW5nb3BlcmF0aW9ucyBsaWtlIHdyaXRlIG9yIHF1ZXJ5LCBvciBhcyBwYXJ0IG9mIGl0cyByZXNvbHZlcnMsIHVwZGF0ZXJzLCBvciBvcHRpbWlzdGljIGNvbmZpZ3MuXCIgOiBcIlwiLCAyKTtcbiAgcmV0dXJuIGI7XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnREZXBlbmRlbmNpZXMoKSB7XG4gIGludmFyaWFudChudWxsICE9PSB3LCBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBcIkludmFsaWQgQ2FjaGUgY2FsbDogVGhlIGNhY2hlIG1heSBvbmx5IGJlIGFjY2Vzc2VkIG9yIG11dGF0ZWQgZHVyaW5nb3BlcmF0aW9ucyBsaWtlIHdyaXRlIG9yIHF1ZXJ5LCBvciBhcyBwYXJ0IG9mIGl0cyByZXNvbHZlcnMsIHVwZGF0ZXJzLCBvciBvcHRpbWlzdGljIGNvbmZpZ3MuXCIgOiBcIlwiLCAyKTtcbiAgcmV0dXJuIHc7XG59XG5cbmZ1bmN0aW9uIHNldE5vZGUoZSwgdCwgciwgaSkge1xuICB2YXIgbiA9IEYgPyBlLm9wdGltaXN0aWNbRl0gOiBlLmJhc2U7XG4gIHZhciBhID0gbi5nZXQodCk7XG4gIGlmICh2b2lkIDAgPT09IGEpIHtcbiAgICBuLnNldCh0LCBhID0gbWFrZURpY3QoKSk7XG4gIH1cbiAgaWYgKHZvaWQgMCA9PT0gaSAmJiAhRikge1xuICAgIGRlbGV0ZSBhW3JdO1xuICB9IGVsc2Uge1xuICAgIGFbcl0gPSBpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE5vZGUoZSwgdCwgcikge1xuICB2YXIgaTtcbiAgdmFyIG4gPSAhUyAmJiBcInJlYWRcIiA9PT0gYiAmJiBGICYmIEQuY29tbXV0YXRpdmVLZXlzLmhhcyhGKTtcbiAgZm9yICh2YXIgYSA9IDAsIG8gPSBELm9wdGltaXN0aWNPcmRlci5sZW5ndGg7IGEgPCBvOyBhKyspIHtcbiAgICB2YXIgcyA9IEQub3B0aW1pc3RpY09yZGVyW2FdO1xuICAgIHZhciB1ID0gZS5vcHRpbWlzdGljW3NdO1xuICAgIG4gPSBuICYmIHMgIT09IEY7XG4gICAgaWYgKHUgJiYgKCFuIHx8ICFELmNvbW11dGF0aXZlS2V5cy5oYXMocykpICYmICghUyB8fCBcIndyaXRlXCIgPT09IGIgfHwgRC5jb21tdXRhdGl2ZUtleXMuaGFzKHMpKSAmJiB2b2lkIDAgIT09IChpID0gdS5nZXQodCkpICYmIHIgaW4gaSkge1xuICAgICAgcmV0dXJuIGlbcl07XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDAgIT09IChpID0gZS5iYXNlLmdldCh0KSkgPyBpW3JdIDogdm9pZCAwO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVSQ0ZvckVudGl0eShlLCB0LCByLCBpKSB7XG4gIHZhciBuID0gdm9pZCAwICE9PSB0W3JdID8gdFtyXSA6IDA7XG4gIHZhciBhID0gdFtyXSA9IG4gKyBpIHwgMDtcbiAgaWYgKHZvaWQgMCAhPT0gZSkge1xuICAgIGlmIChhIDw9IDApIHtcbiAgICAgIGUuYWRkKHIpO1xuICAgIH0gZWxzZSBpZiAobiA8PSAwICYmIGEgPiAwKSB7XG4gICAgICBlLmRlbGV0ZShyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlUkNGb3JMaW5rKGUsIHQsIHIsIGkpIHtcbiAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHtcbiAgICB1cGRhdGVSQ0ZvckVudGl0eShlLCB0LCByLCBpKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHIpKSB7XG4gICAgZm9yICh2YXIgbiA9IDAsIGEgPSByLmxlbmd0aDsgbiA8IGE7IG4rKykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocltuXSkpIHtcbiAgICAgICAgdXBkYXRlUkNGb3JMaW5rKGUsIHQsIHJbbl0sIGkpO1xuICAgICAgfSBlbHNlIGlmIChyW25dKSB7XG4gICAgICAgIHVwZGF0ZVJDRm9yRW50aXR5KGUsIHQsIHJbbl0sIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0Tm9kZUZpZWxkcyhlLCB0LCByKSB7XG4gIGlmICh2b2lkIDAgIT09IHIpIHtcbiAgICBmb3IgKHZhciBpIGluIHIpIHtcbiAgICAgIGlmICghdC5oYXMoaSkpIHtcbiAgICAgICAgZS5wdXNoKGZpZWxkSW5mb09mS2V5KGkpKTtcbiAgICAgICAgdC5hZGQoaSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3ROb2RlTWFwRmllbGRzKGUsIHQsIHIsIGkpIHtcbiAgZXh0cmFjdE5vZGVGaWVsZHMoZSwgdCwgaS5iYXNlLmdldChyKSk7XG4gIGZvciAodmFyIG4gPSAwLCBhID0gRC5vcHRpbWlzdGljT3JkZXIubGVuZ3RoOyBuIDwgYTsgbisrKSB7XG4gICAgdmFyIG8gPSBpLm9wdGltaXN0aWNbRC5vcHRpbWlzdGljT3JkZXJbbl1dO1xuICAgIGlmICh2b2lkIDAgIT09IG8pIHtcbiAgICAgIGV4dHJhY3ROb2RlRmllbGRzKGUsIHQsIG8uZ2V0KHIpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRGVwZW5kZW5jaWVzKGUsIHQpIHtcbiAgaWYgKFwiX190eXBlbmFtZVwiICE9PSB0KSB7XG4gICAgaWYgKGUgIT09IEQucXVlcnlSb290S2V5KSB7XG4gICAgICB3W2VdID0gITA7XG4gICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IHQpIHtcbiAgICAgIHdbam9pbktleXMoZSwgdCldID0gITA7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVBlcnNpc3QoZSwgdCkge1xuICBpZiAoIVMgJiYgRC5zdG9yYWdlKSB7XG4gICAgRC5wZXJzaXN0LmFkZChmdW5jdGlvbiBzZXJpYWxpemVLZXlzKGUsIHQpIHtcbiAgICAgIHJldHVybiBlLnJlcGxhY2UoL1xcLi9nLCBcIiUyZVwiKSArIFwiLlwiICsgdDtcbiAgICB9KGUsIHQpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkUmVjb3JkKGUsIHQpIHtcbiAgdXBkYXRlRGVwZW5kZW5jaWVzKGUsIHQpO1xuICByZXR1cm4gZ2V0Tm9kZShELnJlY29yZHMsIGUsIHQpO1xufVxuXG5mdW5jdGlvbiByZWFkTGluayhlLCB0KSB7XG4gIHVwZGF0ZURlcGVuZGVuY2llcyhlLCB0KTtcbiAgcmV0dXJuIGdldE5vZGUoRC5saW5rcywgZSwgdCk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlUmVjb3JkKGUsIHQsIHIpIHtcbiAgdXBkYXRlRGVwZW5kZW5jaWVzKGUsIHQpO1xuICB1cGRhdGVQZXJzaXN0KGUsIHQpO1xuICBzZXROb2RlKEQucmVjb3JkcywgZSwgdCwgcik7XG59XG5cbmZ1bmN0aW9uIHdyaXRlTGluayhlLCB0LCByKSB7XG4gIHZhciBpID0gRDtcbiAgdmFyIG47XG4gIHZhciBhO1xuICB2YXIgbztcbiAgaWYgKEYpIHtcbiAgICBuID0gaS5yZWZMb2NrW0ZdIHx8IChpLnJlZkxvY2tbRl0gPSBtYWtlRGljdCgpKTtcbiAgICBhID0gaS5saW5rcy5vcHRpbWlzdGljW0ZdO1xuICB9IGVsc2Uge1xuICAgIG4gPSBpLnJlZkNvdW50O1xuICAgIGEgPSBpLmxpbmtzLmJhc2U7XG4gICAgbyA9IGkuZ2M7XG4gIH1cbiAgdmFyIHMgPSBhICYmIGEuZ2V0KGUpO1xuICB2YXIgdSA9IHMgJiYgc1t0XTtcbiAgdXBkYXRlRGVwZW5kZW5jaWVzKGUsIHQpO1xuICB1cGRhdGVQZXJzaXN0KGUsIHQpO1xuICBzZXROb2RlKGkubGlua3MsIGUsIHQsIHIpO1xuICB1cGRhdGVSQ0ZvckxpbmsobywgbiwgdSwgLTEpO1xuICB1cGRhdGVSQ0ZvckxpbmsobywgbiwgciwgMSk7XG59XG5cbmZ1bmN0aW9uIHJlc2VydmVMYXllcihlLCB0LCByKSB7XG4gIHZhciBpID0gZS5vcHRpbWlzdGljT3JkZXIuaW5kZXhPZih0KTtcbiAgaWYgKC0xID09PSBpKSB7XG4gICAgZS5vcHRpbWlzdGljT3JkZXIudW5zaGlmdCh0KTtcbiAgfSBlbHNlIGlmICghZS5jb21tdXRhdGl2ZUtleXMuaGFzKHQpKSB7XG4gICAgY2xlYXJMYXllcihlLCB0KTtcbiAgICBlLm9wdGltaXN0aWNPcmRlci5zcGxpY2UoaSwgMSk7XG4gICAgZS5vcHRpbWlzdGljT3JkZXIudW5zaGlmdCh0KTtcbiAgfVxuICBpZiAocikge1xuICAgIGUuZGVmZXJyZWRLZXlzLmFkZCh0KTtcbiAgfSBlbHNlIHtcbiAgICBlLmRlZmVycmVkS2V5cy5kZWxldGUodCk7XG4gIH1cbiAgZS5jb21tdXRhdGl2ZUtleXMuYWRkKHQpO1xufVxuXG5mdW5jdGlvbiBjbGVhckxheWVyKGUsIHQpIHtcbiAgaWYgKGUucmVmTG9ja1t0XSkge1xuICAgIGRlbGV0ZSBlLnJlZkxvY2tbdF07XG4gICAgZGVsZXRlIGUucmVjb3Jkcy5vcHRpbWlzdGljW3RdO1xuICAgIGRlbGV0ZSBlLmxpbmtzLm9wdGltaXN0aWNbdF07XG4gICAgZS5kZWZlcnJlZEtleXMuZGVsZXRlKHQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUxheWVyKGUsIHQpIHtcbiAgdmFyIHIgPSBlLm9wdGltaXN0aWNPcmRlci5pbmRleE9mKHQpO1xuICBpZiAociA+IC0xKSB7XG4gICAgZS5vcHRpbWlzdGljT3JkZXIuc3BsaWNlKHIsIDEpO1xuICAgIGUuY29tbXV0YXRpdmVLZXlzLmRlbGV0ZSh0KTtcbiAgfVxuICBjbGVhckxheWVyKGUsIHQpO1xufVxuXG5mdW5jdGlvbiBzcXVhc2hMYXllcihlKSB7XG4gIHZhciB0ID0gdztcbiAgdyA9IG1ha2VEaWN0KCk7XG4gIHZhciByID0gRC5saW5rcy5vcHRpbWlzdGljW2VdO1xuICBpZiAocikge1xuICAgIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSwgdCkge1xuICAgICAgZm9yICh2YXIgciBpbiBlKSB7XG4gICAgICAgIHdyaXRlTGluayh0LCByLCBlW3JdKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cbiAgdmFyIGkgPSBELnJlY29yZHMub3B0aW1pc3RpY1tlXTtcbiAgaWYgKGkpIHtcbiAgICBpLmZvckVhY2goKGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgIGZvciAodmFyIHIgaW4gZSkge1xuICAgICAgICB3cml0ZVJlY29yZCh0LCByLCBlW3JdKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cbiAgdyA9IHQ7XG4gIGRlbGV0ZUxheWVyKEQsIGUpO1xufVxuXG5mdW5jdGlvbiBpbnNwZWN0RmllbGRzKGUpIHtcbiAgdmFyIHQgPSBELmxpbmtzO1xuICB2YXIgciA9IEQucmVjb3JkcztcbiAgdmFyIGkgPSBbXTtcbiAgdmFyIG4gPSBuZXcgU2V0O1xuICB1cGRhdGVEZXBlbmRlbmNpZXMoZSk7XG4gIGV4dHJhY3ROb2RlTWFwRmllbGRzKGksIG4sIGUsIHQpO1xuICBleHRyYWN0Tm9kZU1hcEZpZWxkcyhpLCBuLCBlLCByKTtcbiAgcmV0dXJuIGk7XG59XG5cbnZhciBMID0ge1xuICBjdXJyZW50OiBudWxsXG59O1xuXG52YXIgeCA9IHtcbiAgY3VycmVudDogITFcbn07XG5cbmZ1bmN0aW9uIGdldEZpZWxkRXJyb3IoZSkge1xuICByZXR1cm4gZS5fX2ludGVybmFsLnBhdGgubGVuZ3RoID4gMCAmJiBlLl9faW50ZXJuYWwuZXJyb3JNYXAgPyBlLl9faW50ZXJuYWwuZXJyb3JNYXBbZS5fX2ludGVybmFsLnBhdGguam9pbihcIi5cIildIDogdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBtYWtlQ29udGV4dChlLCB0LCByLCBpLCBuLCBhLCBvKSB7XG4gIHZhciBzID0ge1xuICAgIHN0b3JlOiBlLFxuICAgIHZhcmlhYmxlczogdCxcbiAgICBmcmFnbWVudHM6IHIsXG4gICAgcGFyZW50OiB7XG4gICAgICBfX3R5cGVuYW1lOiBpXG4gICAgfSxcbiAgICBwYXJlbnRUeXBlTmFtZTogaSxcbiAgICBwYXJlbnRLZXk6IG4sXG4gICAgcGFyZW50RmllbGRLZXk6IFwiXCIsXG4gICAgZmllbGROYW1lOiBcIlwiLFxuICAgIGVycm9yOiB2b2lkIDAsXG4gICAgcGFydGlhbDogITEsXG4gICAgb3B0aW1pc3RpYzogISFhLFxuICAgIF9faW50ZXJuYWw6IHtcbiAgICAgIHBhdGg6IFtdLFxuICAgICAgZXJyb3JNYXA6IHZvaWQgMFxuICAgIH1cbiAgfTtcbiAgaWYgKG8gJiYgby5ncmFwaFFMRXJyb3JzKSB7XG4gICAgZm9yICh2YXIgdSA9IDA7IHUgPCBvLmdyYXBoUUxFcnJvcnMubGVuZ3RoOyB1KyspIHtcbiAgICAgIHZhciBjID0gby5ncmFwaFFMRXJyb3JzW3VdO1xuICAgICAgaWYgKGMucGF0aCAmJiBjLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgIGlmICghcy5fX2ludGVybmFsLmVycm9yTWFwKSB7XG4gICAgICAgICAgcy5fX2ludGVybmFsLmVycm9yTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBzLl9faW50ZXJuYWwuZXJyb3JNYXBbYy5wYXRoLmpvaW4oXCIuXCIpXSA9IGM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDb250ZXh0KGUsIHQsIHIsIGksIG4sIGEpIHtcbiAgTC5jdXJyZW50ID0gZTtcbiAgZS5wYXJlbnQgPSB0O1xuICBlLnBhcmVudFR5cGVOYW1lID0gcjtcbiAgZS5wYXJlbnRLZXkgPSBpO1xuICBlLnBhcmVudEZpZWxkS2V5ID0gbjtcbiAgZS5maWVsZE5hbWUgPSBhO1xuICBlLmVycm9yID0gZ2V0RmllbGRFcnJvcihlKTtcbn1cblxuZnVuY3Rpb24gaXNGcmFnbWVudEhldXJpc3RpY2FsbHlNYXRjaGluZyhlLCB0LCByLCBpKSB7XG4gIGlmICghdCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgbiA9IGdldFR5cGVDb25kaXRpb24oZSk7XG4gIGlmICghbiB8fCB0ID09PSBuKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiB3YXJuKFwiSGV1cmlzdGljIEZyYWdtZW50IE1hdGNoaW5nOiBBIGZyYWdtZW50IGlzIHRyeWluZyB0byBtYXRjaCBhZ2FpbnN0IHRoZSBgXCIgKyB0ICsgXCJgIHR5cGUsIGJ1dCB0aGUgdHlwZSBjb25kaXRpb24gaXMgYFwiICsgbiArIFwiYC4gU2luY2UgR3JhcGhRTCBhbGxvd3MgZm9yIGludGVyZmFjZXMgYFwiICsgbiArIFwiYCBtYXkgYmUgYW5pbnRlcmZhY2UuXFxuQSBzY2hlbWEgbmVlZHMgdG8gYmUgZGVmaW5lZCBmb3IgdGhpcyBtYXRjaCB0byBiZSBkZXRlcm1pbmlzdGljLCBvdGhlcndpc2UgdGhlIGZyYWdtZW50IHdpbGwgYmUgbWF0Y2hlZCBoZXVyaXN0aWNhbGx5IVwiLCAxNik7XG4gIHJldHVybiAhZ2V0U2VsZWN0aW9uU2V0KGUpLnNvbWUoKGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIWlzRmllbGROb2RlKGUpKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHZhciB0ID0ga2V5T2ZGaWVsZChnZXROYW1lKGUpLCBnZXRGaWVsZEFyZ3VtZW50cyhlLCBpKSk7XG4gICAgcmV0dXJuICFmdW5jdGlvbiBoYXNGaWVsZChlLCB0KSB7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSByZWFkUmVjb3JkKGUsIHQpIHx8IHZvaWQgMCAhPT0gcmVhZExpbmsoZSwgdCk7XG4gICAgfShyLCB0KTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBtYWtlU2VsZWN0aW9uSXRlcmF0b3IoZSwgdCwgciwgaSkge1xuICB2YXIgbiA9ICExO1xuICB2YXIgYTtcbiAgdmFyIG8gPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBpZiAoIXguY3VycmVudCAmJiBuKSB7XG4gICAgICB4LmN1cnJlbnQgPSBuO1xuICAgIH1cbiAgICBpZiAoYSkge1xuICAgICAgdmFyIHMgPSBhKCk7XG4gICAgICBpZiAobnVsbCAhPSBzKSB7XG4gICAgICAgIHJldHVybiBzO1xuICAgICAgfVxuICAgICAgYSA9IHZvaWQgMDtcbiAgICAgIG4gPSAhMTtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgcG9wRGVidWdOb2RlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChvIDwgci5sZW5ndGgpIHtcbiAgICAgIHZhciB1ID0gcltvKytdO1xuICAgICAgaWYgKCFzaG91bGRJbmNsdWRlKHUsIGkudmFyaWFibGVzKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzRmllbGROb2RlKHUpKSB7XG4gICAgICAgIHZhciBjID0gIWlzSW5saW5lRnJhZ21lbnQodSkgPyBpLmZyYWdtZW50c1tnZXROYW1lKHUpXSA6IHU7XG4gICAgICAgIGlmICh2b2lkIDAgIT09IGMpIHtcbiAgICAgICAgICBpZiAoaS5zdG9yZS5zY2hlbWEgPyBpc0ludGVyZmFjZU9mVHlwZShpLnN0b3JlLnNjaGVtYSwgYywgZSkgOiBpc0ZyYWdtZW50SGV1cmlzdGljYWxseU1hdGNoaW5nKGMsIGUsIHQsIGkudmFyaWFibGVzKSkge1xuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgICAgICBwdXNoRGVidWdOb2RlKGUsIGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbiA9ICEhaXNEZWZlcnJlZCh1LCBpLnZhcmlhYmxlcyk7XG4gICAgICAgICAgICBpZiAoIXguY3VycmVudCAmJiBuKSB7XG4gICAgICAgICAgICAgIHguY3VycmVudCA9IG47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKGEgPSBtYWtlU2VsZWN0aW9uSXRlcmF0b3IoZSwgdCwgZ2V0U2VsZWN0aW9uU2V0KGMpLCBpKSkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZW5zdXJlRGF0YShlKSB7XG4gIHJldHVybiBudWxsID09IGUgPyBudWxsIDogZTtcbn1cblxuZnVuY3Rpb24gZW5zdXJlTGluayhlLCB0KSB7XG4gIGlmIChudWxsID09IHQpIHtcbiAgICByZXR1cm4gdDtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHQpKSB7XG4gICAgdmFyIHIgPSBuZXcgQXJyYXkodC5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gci5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHJbaV0gPSBlbnN1cmVMaW5rKGUsIHRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuICB2YXIgYSA9IGUua2V5T2ZFbnRpdHkodCk7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBpZiAoIWEgJiYgdCAmJiBcIm9iamVjdFwiID09IHR5cGVvZiB0KSB7XG4gICAgICB3YXJuKFwiQ2FuJ3QgZ2VuZXJhdGUgYSBrZXkgZm9yIGxpbmsoLi4uKSBpdGVtLlxcbllvdSBoYXZlIHRvIHBhc3MgYW4gYGlkYCBvciBgX2lkYCBmaWVsZCBvciBjcmVhdGUgYSBjdXN0b20gYGtleXNgIGNvbmZpZyBmb3IgYFwiICsgdC5fX3R5cGVuYW1lICsgXCJgLlwiLCAxMik7XG4gICAgfVxuICB9XG4gIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiB3cml0ZShlLCB0LCByLCBpLCBuKSB7XG4gIGluaXREYXRhU3RhdGUoXCJ3cml0ZVwiLCBlLmRhdGEsIG4gfHwgbnVsbCk7XG4gIHZhciBhID0gc3RhcnRXcml0ZShlLCB0LCByLCBpKTtcbiAgY2xlYXJEYXRhU3RhdGUoKTtcbiAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0V3JpdGUoZSwgdCwgciwgaSwgbikge1xuICB2YXIgYSA9IGdldE1haW5PcGVyYXRpb24odC5xdWVyeSk7XG4gIHZhciBvID0ge1xuICAgIGRhdGE6IHIsXG4gICAgZGVwZW5kZW5jaWVzOiBnZXRDdXJyZW50RGVwZW5kZW5jaWVzKClcbiAgfTtcbiAgdmFyIHMgPSBlLnJvb3RGaWVsZHNbYS5vcGVyYXRpb25dO1xuICB2YXIgdSA9IG1ha2VDb250ZXh0KGUsIG5vcm1hbGl6ZVZhcmlhYmxlcyhhLCB0LnZhcmlhYmxlcyksIGdldEZyYWdtZW50cyh0LnF1ZXJ5KSwgcywgcywgISFuLCBpKTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHB1c2hEZWJ1Z05vZGUocywgYSk7XG4gIH1cbiAgd3JpdGVTZWxlY3Rpb24odSwgcywgZ2V0U2VsZWN0aW9uU2V0KGEpLCByKTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHBvcERlYnVnTm9kZSgpO1xuICB9XG4gIHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiB3cml0ZVNlbGVjdGlvbihlLCB0LCByLCBpKSB7XG4gIHZhciBuID0gdCA9PT0gZS5zdG9yZS5yb290RmllbGRzLnF1ZXJ5O1xuICB2YXIgYSA9ICFuICYmICEhZS5zdG9yZS5yb290TmFtZXNbdF07XG4gIHZhciBvID0gYSB8fCBuID8gdCA6IGkuX190eXBlbmFtZTtcbiAgaWYgKCFvKSB7XG4gICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHdhcm4oXCJDb3VsZG4ndCBmaW5kIF9fdHlwZW5hbWUgd2hlbiB3cml0aW5nLlxcbklmIHlvdSdyZSB3cml0aW5nIHRvIHRoZSBjYWNoZSBtYW51YWxseSBoYXZlIHRvIHBhc3MgYSBgX190eXBlbmFtZWAgcHJvcGVydHkgb24gZWFjaCBlbnRpdHkgaW4geW91ciBkYXRhLlwiLCAxNCk7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKCFhICYmICFuICYmIHQpIHtcbiAgICB3cml0ZVJlY29yZCh0LCBcIl9fdHlwZW5hbWVcIiwgbyk7XG4gIH1cbiAgdmFyIHMgPSBtYWtlU2VsZWN0aW9uSXRlcmF0b3IobywgdCB8fCBvLCByLCBlKTtcbiAgdmFyIHU7XG4gIHdoaWxlICh1ID0gcygpKSB7XG4gICAgdmFyIGMgPSBnZXROYW1lKHUpO1xuICAgIHZhciBsID0gZ2V0RmllbGRBcmd1bWVudHModSwgZS52YXJpYWJsZXMpO1xuICAgIHZhciBkID0ga2V5T2ZGaWVsZChjLCBsKTtcbiAgICB2YXIgZiA9IGdldEZpZWxkQWxpYXModSk7XG4gICAgdmFyIHAgPSBpW2ZdO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIGlmICghYSAmJiB2b2lkIDAgPT09IHAgJiYgIXguY3VycmVudCkge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgd2FybihcIkludmFsaWQgdW5kZWZpbmVkOiBUaGUgZmllbGQgYXQgYFwiICsgZCArIFwiYCBpcyBgdW5kZWZpbmVkYCwgYnV0IHRoZSBHcmFwaFFMIHF1ZXJ5IGV4cGVjdHMgYSBcIiArICh2b2lkIDAgPT09IHUuc2VsZWN0aW9uU2V0ID8gXCJzY2FsYXIgKG51bWJlciwgYm9vbGVhbiwgZXRjKVwiIDogXCJzZWxlY3Rpb24gc2V0XCIpICsgXCIgZm9yIHRoaXMgZmllbGQuXCIgKyAoZS5vcHRpbWlzdGljID8gXCJcXG5Zb3VyIG9wdGltaXN0aWMgcmVzdWx0IG1heSBiZSBtaXNzaW5nIGEgZmllbGQhXCIgOiBcIlwiKSwgMTMpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoZS5zdG9yZS5zY2hlbWEgJiYgbyAmJiBcIl9fdHlwZW5hbWVcIiAhPT0gYykge1xuICAgICAgICBpc0ZpZWxkQXZhaWxhYmxlT25UeXBlKGUuc3RvcmUuc2NoZW1hLCBvLCBjKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwiX190eXBlbmFtZVwiID09PSBjIHx8IHZvaWQgMCA9PT0gcCAmJiB4LmN1cnJlbnQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBlLl9faW50ZXJuYWwucGF0aC5wdXNoKGYpO1xuICAgIGlmIChlLm9wdGltaXN0aWMgJiYgYSkge1xuICAgICAgdmFyIHYgPSBlLnN0b3JlLm9wdGltaXN0aWNNdXRhdGlvbnNbY107XG4gICAgICBpZiAoIXYpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB1cGRhdGVDb250ZXh0KGUsIGksIG8sIG8sIGQsIGMpO1xuICAgICAgcCA9IGlbZl0gPSBlbnN1cmVEYXRhKHYobCB8fCB7fSwgZS5zdG9yZSwgZSkpO1xuICAgIH1cbiAgICBpZiAodS5zZWxlY3Rpb25TZXQpIHtcbiAgICAgIGlmICh0ICYmICFhKSB7XG4gICAgICAgIHZhciB5ID0gam9pbktleXModCwgZCk7XG4gICAgICAgIHdyaXRlTGluayh0IHx8IG8sIGQsIHdyaXRlRmllbGQoZSwgZ2V0U2VsZWN0aW9uU2V0KHUpLCBlbnN1cmVEYXRhKHApLCB5KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cml0ZUZpZWxkKGUsIGdldFNlbGVjdGlvblNldCh1KSwgZW5zdXJlRGF0YShwKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0ICYmICFhKSB7XG4gICAgICB3cml0ZVJlY29yZCh0IHx8IG8sIGQsIG51bGwgIT09IHAgfHwgIWdldEZpZWxkRXJyb3IoZSkgPyBwIDogdm9pZCAwKTtcbiAgICB9XG4gICAgaWYgKGEpIHtcbiAgICAgIHZhciBtID0gZS5zdG9yZS51cGRhdGVzW29dW2NdO1xuICAgICAgaWYgKG0pIHtcbiAgICAgICAgdXBkYXRlQ29udGV4dChlLCBpLCBvLCBvLCBqb2luS2V5cyhvLCBkKSwgYyk7XG4gICAgICAgIGlbY10gPSBwO1xuICAgICAgICBtKGksIGwgfHwge30sIGUuc3RvcmUsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlLl9faW50ZXJuYWwucGF0aC5wb3AoKTtcbiAgfVxufVxuXG52YXIgcSA9IC9eX198UGFnZUluZm98KENvbm5lY3Rpb258RWRnZSkkLztcblxuZnVuY3Rpb24gd3JpdGVGaWVsZChlLCB0LCByLCBpKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHIpKSB7XG4gICAgdmFyIG4gPSBuZXcgQXJyYXkoci5sZW5ndGgpO1xuICAgIGZvciAodmFyIGEgPSAwLCBvID0gci5sZW5ndGg7IGEgPCBvOyBhKyspIHtcbiAgICAgIGUuX19pbnRlcm5hbC5wYXRoLnB1c2goYSk7XG4gICAgICB2YXIgcyA9IGkgPyBqb2luS2V5cyhpLCBcIlwiICsgYSkgOiB2b2lkIDA7XG4gICAgICB2YXIgdSA9IHdyaXRlRmllbGQoZSwgdCwgclthXSwgcyk7XG4gICAgICBuW2FdID0gdTtcbiAgICAgIGUuX19pbnRlcm5hbC5wYXRoLnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbiAgfSBlbHNlIGlmIChudWxsID09PSByKSB7XG4gICAgcmV0dXJuIGdldEZpZWxkRXJyb3IoZSkgPyB2b2lkIDAgOiBudWxsO1xuICB9XG4gIHZhciBjID0gZS5zdG9yZS5rZXlPZkVudGl0eShyKTtcbiAgdmFyIGwgPSByLl9fdHlwZW5hbWU7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBpZiAoaSAmJiAhZS5zdG9yZS5rZXlzW3IuX190eXBlbmFtZV0gJiYgbnVsbCA9PT0gYyAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBsICYmICFxLnRlc3QobCkpIHtcbiAgICAgIHdhcm4oXCJJbnZhbGlkIGtleTogVGhlIEdyYXBoUUwgcXVlcnkgYXQgdGhlIGZpZWxkIGF0IGBcIiArIGkgKyBcImAgaGFzIGEgc2VsZWN0aW9uIHNldCwgYnV0IG5vIGtleSBjb3VsZCBiZSBnZW5lcmF0ZWQgZm9yIHRoZSBkYXRhIGF0IHRoaXMgZmllbGQuXFxuWW91IGhhdmUgdG8gcmVxdWVzdCBgaWRgIG9yIGBfaWRgIGZpZWxkcyBmb3IgYWxsIHNlbGVjdGlvbiBzZXRzIG9yIGNyZWF0ZSBhIGN1c3RvbSBga2V5c2AgY29uZmlnIGZvciBgXCIgKyBsICsgXCJgLlxcbkVudGl0aWVzIHdpdGhvdXQga2V5cyB3aWxsIGJlIGVtYmVkZGVkIGRpcmVjdGx5IG9uIHRoZSBwYXJlbnQgZW50aXR5LiBJZiB0aGlzIGlzIGludGVudGlvbmFsLCBjcmVhdGUgYSBga2V5c2AgY29uZmlnIGZvciBgXCIgKyBsICsgXCJgIHRoYXQgYWx3YXlzIHJldHVybnMgbnVsbC5cIiwgMTUpO1xuICAgIH1cbiAgfVxuICB2YXIgZCA9IGMgfHwgaTtcbiAgd3JpdGVTZWxlY3Rpb24oZSwgZCwgdCwgcik7XG4gIHJldHVybiBkIHx8IG51bGw7XG59XG5cbmZ1bmN0aW9uIFN0b3JlKGUpIHtcbiAgdmFyIHQsIHI7XG4gIHRoaXMua2V5T2ZGaWVsZCA9IGtleU9mRmllbGQ7XG4gIHRoaXMucmVzb2x2ZUZpZWxkQnlLZXkgPSB0aGlzLnJlc29sdmU7XG4gIGlmICghZSkge1xuICAgIGUgPSB7fTtcbiAgfVxuICB0aGlzLnJlc29sdmVycyA9IGUucmVzb2x2ZXJzIHx8IHt9O1xuICB0aGlzLm9wdGltaXN0aWNNdXRhdGlvbnMgPSBlLm9wdGltaXN0aWMgfHwge307XG4gIHRoaXMua2V5cyA9IGUua2V5cyB8fCB7fTtcbiAgdmFyIGkgPSBcIlF1ZXJ5XCI7XG4gIHZhciBuID0gXCJNdXRhdGlvblwiO1xuICB2YXIgYSA9IFwiU3Vic2NyaXB0aW9uXCI7XG4gIGlmIChlLnNjaGVtYSkge1xuICAgIHZhciBvID0gZnVuY3Rpb24gYnVpbGRDbGllbnRTY2hlbWEoZSkge1xuICAgICAgdmFyIHQgPSBlLl9fc2NoZW1hO1xuICAgICAgdmFyIHIgPSB7fTtcbiAgICAgIGZ1bmN0aW9uIGJ1aWxkTmFtZU1hcChlKSB7XG4gICAgICAgIHZhciB0ID0ge307XG4gICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykge1xuICAgICAgICAgIHRbZVtyXS5uYW1lXSA9IGVbcl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBidWlsZFR5cGUoZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2luZCkge1xuICAgICAgICAgY2FzZSBcIk9CSkVDVFwiOlxuICAgICAgICAgY2FzZSBcIklOVEVSRkFDRVwiOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBlLm5hbWUsXG4gICAgICAgICAgICBraW5kOiBlLmtpbmQsXG4gICAgICAgICAgICBpbnRlcmZhY2VzOiBidWlsZE5hbWVNYXAoZS5pbnRlcmZhY2VzIHx8IFtdKSxcbiAgICAgICAgICAgIGZpZWxkczogYnVpbGROYW1lTWFwKGUuZmllbGRzLm1hcCgoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBlLnR5cGUsXG4gICAgICAgICAgICAgICAgYXJnczogYnVpbGROYW1lTWFwKGUuYXJncylcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKSlcbiAgICAgICAgICB9O1xuXG4gICAgICAgICBjYXNlIFwiVU5JT05cIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgICAgICAga2luZDogZS5raW5kLFxuICAgICAgICAgICAgdHlwZXM6IGJ1aWxkTmFtZU1hcChlLnBvc3NpYmxlVHlwZXMgfHwgW10pXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGkgPSB7XG4gICAgICAgIHF1ZXJ5OiB0LnF1ZXJ5VHlwZSA/IHQucXVlcnlUeXBlLm5hbWUgOiBudWxsLFxuICAgICAgICBtdXRhdGlvbjogdC5tdXRhdGlvblR5cGUgPyB0Lm11dGF0aW9uVHlwZS5uYW1lIDogbnVsbCxcbiAgICAgICAgc3Vic2NyaXB0aW9uOiB0LnN1YnNjcmlwdGlvblR5cGUgPyB0LnN1YnNjcmlwdGlvblR5cGUubmFtZSA6IG51bGwsXG4gICAgICAgIHR5cGVzOiB2b2lkIDAsXG4gICAgICAgIGlzU3ViVHlwZTogZnVuY3Rpb24gaXNTdWJUeXBlKGUsIHQpIHtcbiAgICAgICAgICB2YXIgaSA9IHJbZV07XG4gICAgICAgICAgdmFyIG4gPSByW3RdO1xuICAgICAgICAgIGlmICghaSB8fCAhbikge1xuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXCJVTklPTlwiID09PSBpLmtpbmQpIHtcbiAgICAgICAgICAgIHJldHVybiAhIWkudHlwZXNbdF07XG4gICAgICAgICAgfSBlbHNlIGlmIChcIk9CSkVDVFwiICE9PSBpLmtpbmQgJiYgXCJPQkpFQ1RcIiA9PT0gbi5raW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gISFuLmludGVyZmFjZXNbZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlID09PSB0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICh0LnR5cGVzKSB7XG4gICAgICAgIGkudHlwZXMgPSByO1xuICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHQudHlwZXMubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICB2YXIgYSA9IHQudHlwZXNbbl07XG4gICAgICAgICAgaWYgKGEgJiYgYS5uYW1lKSB7XG4gICAgICAgICAgICB2YXIgbyA9IGJ1aWxkVHlwZShhKTtcbiAgICAgICAgICAgIGlmIChvKSB7XG4gICAgICAgICAgICAgIHJbYS5uYW1lXSA9IG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaTtcbiAgICB9KGUuc2NoZW1hKTtcbiAgICBpID0gby5xdWVyeSB8fCBpO1xuICAgIG4gPSBvLm11dGF0aW9uIHx8IG47XG4gICAgYSA9IG8uc3Vic2NyaXB0aW9uIHx8IGE7XG4gICAgaWYgKG8udHlwZXMpIHtcbiAgICAgIHRoaXMuc2NoZW1hID0gbztcbiAgICB9XG4gIH1cbiAgdGhpcy51cGRhdGVzID0gKCh0ID0ge30pW25dID0gZS51cGRhdGVzICYmIGUudXBkYXRlcy5NdXRhdGlvbiB8fCB7fSwgdFthXSA9IGUudXBkYXRlcyAmJiBlLnVwZGF0ZXMuU3Vic2NyaXB0aW9uIHx8IHt9LCBcbiAgdCk7XG4gIHRoaXMucm9vdEZpZWxkcyA9IHtcbiAgICBxdWVyeTogaSxcbiAgICBtdXRhdGlvbjogbixcbiAgICBzdWJzY3JpcHRpb246IGFcbiAgfTtcbiAgdGhpcy5yb290TmFtZXMgPSAoKHIgPSB7fSlbaV0gPSBcInF1ZXJ5XCIsIHJbbl0gPSBcIm11dGF0aW9uXCIsIHJbYV0gPSBcInN1YnNjcmlwdGlvblwiLCBcbiAgcik7XG4gIHRoaXMuZGF0YSA9IGZ1bmN0aW9uIG1ha2UoZSkge1xuICAgIHJldHVybiB7XG4gICAgICBkZWZlcjogITEsXG4gICAgICBnYzogbmV3IFNldCxcbiAgICAgIHBlcnNpc3Q6IG5ldyBTZXQsXG4gICAgICBxdWVyeVJvb3RLZXk6IGUsXG4gICAgICByZWZDb3VudDogbWFrZURpY3QoKSxcbiAgICAgIHJlZkxvY2s6IG1ha2VEaWN0KCksXG4gICAgICBsaW5rczogbWFrZU5vZGVNYXAoKSxcbiAgICAgIHJlY29yZHM6IG1ha2VOb2RlTWFwKCksXG4gICAgICBkZWZlcnJlZEtleXM6IG5ldyBTZXQsXG4gICAgICBjb21tdXRhdGl2ZUtleXM6IG5ldyBTZXQsXG4gICAgICBvcHRpbWlzdGljT3JkZXI6IFtdLFxuICAgICAgc3RvcmFnZTogbnVsbFxuICAgIH07XG4gIH0oaSk7XG4gIGlmICh0aGlzLnNjaGVtYSAmJiBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAhZnVuY3Rpb24gZXhwZWN0VmFsaWRLZXlpbmdDb25maWcoZSwgdCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICBmb3IgKHZhciByIGluIHQpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgICBpZiAoIWUudHlwZXNbcl0pIHtcbiAgICAgICAgICAgICAgd2FybihcIkludmFsaWQgT2JqZWN0IHR5cGU6IFRoZSB0eXBlIGBcIiArIHIgKyBcImAgaXMgbm90IGFuIG9iamVjdCBpbiB0aGUgZGVmaW5lZCBzY2hlbWEsIGJ1dCB0aGUgYGtleXNgIG9wdGlvbiBpcyByZWZlcmVuY2luZyBpdC5cIiwgMjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0odGhpcy5zY2hlbWEsIHRoaXMua2V5cyk7XG4gICAgIWZ1bmN0aW9uIGV4cGVjdFZhbGlkVXBkYXRlc0NvbmZpZyhlLCB0KSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgPT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlLm11dGF0aW9uKSB7XG4gICAgICAgIHZhciByID0gZS50eXBlc1tlLm11dGF0aW9uXS5maWVsZHM7XG4gICAgICAgIHZhciBpID0gdFtlLm11dGF0aW9uXSB8fCB7fTtcbiAgICAgICAgZm9yICh2YXIgbiBpbiBpKSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gcltuXSkge1xuICAgICAgICAgICAgICB3YXJuKFwiSW52YWxpZCBtdXRhdGlvbiBmaWVsZDogYFwiICsgbiArIFwiYCBpcyBub3QgaW4gdGhlIGRlZmluZWQgc2NoZW1hLCBidXQgdGhlIGB1cGRhdGVzLk11dGF0aW9uYCBvcHRpb24gaXMgcmVmZXJlbmNpbmcgaXQuXCIsIDIxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlLnN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgYSA9IGUudHlwZXNbZS5zdWJzY3JpcHRpb25dLmZpZWxkcztcbiAgICAgICAgdmFyIG8gPSB0W2Uuc3Vic2NyaXB0aW9uXSB8fCB7fTtcbiAgICAgICAgZm9yICh2YXIgcyBpbiBvKSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gYVtzXSkge1xuICAgICAgICAgICAgICB3YXJuKFwiSW52YWxpZCBzdWJzY3JpcHRpb24gZmllbGQ6IGBcIiArIHMgKyBcImAgaXMgbm90IGluIHRoZSBkZWZpbmVkIHNjaGVtYSwgYnV0IHRoZSBgdXBkYXRlcy5TdWJzY3JpcHRpb25gIG9wdGlvbiBpcyByZWZlcmVuY2luZyBpdC5cIiwgMjIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0odGhpcy5zY2hlbWEsIHRoaXMudXBkYXRlcyk7XG4gICAgIWZ1bmN0aW9uIGV4cGVjdFZhbGlkUmVzb2x2ZXJzQ29uZmlnKGUsIHQpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiA9PT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgciBpbiB0KSB7XG4gICAgICAgIGlmIChcIlF1ZXJ5XCIgPT09IHIpIHtcbiAgICAgICAgICBpZiAoZS5xdWVyeSkge1xuICAgICAgICAgICAgdmFyIGkgPSBlLnR5cGVzW2UucXVlcnldLmZpZWxkcztcbiAgICAgICAgICAgIGZvciAodmFyIG4gaW4gdC5RdWVyeSkge1xuICAgICAgICAgICAgICBpZiAoIWlbbl0pIHtcbiAgICAgICAgICAgICAgICB3YXJuQWJvdXRSZXNvbHZlcihcIlF1ZXJ5LlwiICsgbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2FybkFib3V0UmVzb2x2ZXIoXCJRdWVyeVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWUudHlwZXNbcl0pIHtcbiAgICAgICAgICB3YXJuQWJvdXRSZXNvbHZlcihyKTtcbiAgICAgICAgfSBlbHNlIGlmIChcIklOVEVSRkFDRVwiID09PSBlLnR5cGVzW3JdLmtpbmQgfHwgXCJVTklPTlwiID09PSBlLnR5cGVzW3JdLmtpbmQpIHtcbiAgICAgICAgICBzID0gciwgdSA9IGUudHlwZXNbcl0ua2luZCwgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHdhcm4oXCJJbnZhbGlkIHJlc29sdmVyOiBgXCIgKyBzICsgXCJgIGRvZXMgbm90IG1hdGNoIHRvIGEgY29uY3JldGUgdHlwZSBpbiB0aGUgc2NoZW1hLCBidXQgdGhlIGByZXNvbHZlcnNgIG9wdGlvbiBpcyByZWZlcmVuY2luZyBpdC4gSW1wbGVtZW50IHRoZSByZXNvbHZlciBmb3IgdGhlIHR5cGVzIHRoYXQgXCIgKyAoXCJVTklPTlwiID09PSB1ID8gXCJtYWtlIHVwIHRoZSB1bmlvblwiIDogXCJpbXBsZW1lbnQgdGhlIGludGVyZmFjZVwiKSArIFwiIGluc3RlYWQuXCIsIDI2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYSA9IGUudHlwZXNbcl0uZmllbGRzO1xuICAgICAgICAgIGZvciAodmFyIG8gaW4gdFtyXSkge1xuICAgICAgICAgICAgaWYgKCFhW29dKSB7XG4gICAgICAgICAgICAgIHdhcm5BYm91dFJlc29sdmVyKHIgKyBcIi5cIiArIG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHMsIHU7XG4gICAgfSh0aGlzLnNjaGVtYSwgdGhpcy5yZXNvbHZlcnMpO1xuICAgICFmdW5jdGlvbiBleHBlY3RWYWxpZE9wdGltaXN0aWNNdXRhdGlvbnNDb25maWcoZSwgdCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiID09PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZS5tdXRhdGlvbikge1xuICAgICAgICB2YXIgciA9IGUudHlwZXNbZS5tdXRhdGlvbl0uZmllbGRzO1xuICAgICAgICBmb3IgKHZhciBpIGluIHQpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgICBpZiAoIXJbaV0pIHtcbiAgICAgICAgICAgICAgd2FybihcIkludmFsaWQgb3B0aW1pc3RpYyBtdXRhdGlvbiBmaWVsZDogYFwiICsgaSArIFwiYCBpcyBub3QgYSBtdXRhdGlvbiBmaWVsZCBpbiB0aGUgZGVmaW5lZCBzY2hlbWEsIGJ1dCB0aGUgYG9wdGltaXN0aWNgIG9wdGlvbiBpcyByZWZlcmVuY2luZyBpdC5cIiwgMjQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0odGhpcy5zY2hlbWEsIHRoaXMub3B0aW1pc3RpY011dGF0aW9ucyk7XG4gIH1cbn1cblxuU3RvcmUucHJvdG90eXBlLmtleU9mRW50aXR5ID0gZnVuY3Rpb24ga2V5T2ZFbnRpdHkoZSkge1xuICBpZiAoTC5jdXJyZW50ICYmIGUgPT09IEwuY3VycmVudC5wYXJlbnQpIHtcbiAgICByZXR1cm4gTC5jdXJyZW50LnBhcmVudEtleTtcbiAgfVxuICBpZiAobnVsbCA9PSBlIHx8IFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHtcbiAgICByZXR1cm4gZSB8fCBudWxsO1xuICB9XG4gIGlmICghZS5fX3R5cGVuYW1lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHRoaXMucm9vdE5hbWVzW2UuX190eXBlbmFtZV0pIHtcbiAgICByZXR1cm4gZS5fX3R5cGVuYW1lO1xuICB9XG4gIHZhciB0O1xuICBpZiAodGhpcy5rZXlzW2UuX190eXBlbmFtZV0pIHtcbiAgICB0ID0gdGhpcy5rZXlzW2UuX190eXBlbmFtZV0oZSk7XG4gIH0gZWxzZSBpZiAobnVsbCAhPSBlLmlkKSB7XG4gICAgdCA9IFwiXCIgKyBlLmlkO1xuICB9IGVsc2UgaWYgKG51bGwgIT0gZS5faWQpIHtcbiAgICB0ID0gXCJcIiArIGUuX2lkO1xuICB9XG4gIHJldHVybiB0ID8gZS5fX3R5cGVuYW1lICsgXCI6XCIgKyB0IDogbnVsbDtcbn07XG5cblN0b3JlLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZShlLCB0LCByKSB7XG4gIHZhciBpID0ga2V5T2ZGaWVsZCh0LCByKTtcbiAgdmFyIG4gPSB0aGlzLmtleU9mRW50aXR5KGUpO1xuICBpZiAoIW4pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgYSA9IHJlYWRSZWNvcmQobiwgaSk7XG4gIGlmICh2b2lkIDAgIT09IGEpIHtcbiAgICByZXR1cm4gYTtcbiAgfVxuICByZXR1cm4gcmVhZExpbmsobiwgaSkgfHwgbnVsbDtcbn07XG5cblN0b3JlLnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gaW52YWxpZGF0ZShlLCB0LCByKSB7XG4gIHZhciBpID0gdGhpcy5rZXlPZkVudGl0eShlKTtcbiAgaW52YXJpYW50KGksIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IFwiQ2FuJ3QgZ2VuZXJhdGUgYSBrZXkgZm9yIGludmFsaWRhdGUoLi4uKS5cXG5Zb3UgaGF2ZSB0byBwYXNzIGFuIGlkIG9yIF9pZCBmaWVsZCBvciBjcmVhdGUgYSBjdXN0b20gYGtleXNgIGZpZWxkIGZvciBgXCIgKyB0eXBlb2YgZSA9PSBcIm9iamVjdFwiID8gZS5fX3R5cGVuYW1lIDogZSArIFwiYC5cIiA6IFwiXCIsIDE5KTtcbiAgIWZ1bmN0aW9uIGludmFsaWRhdGVFbnRpdHkoZSwgdCwgcikge1xuICAgIHZhciBpID0gdCA/IFsge1xuICAgICAgZmllbGRLZXk6IGtleU9mRmllbGQodCwgcilcbiAgICB9IF0gOiBpbnNwZWN0RmllbGRzKGUpO1xuICAgIGZvciAodmFyIG4gPSAwLCBhID0gaS5sZW5ndGg7IG4gPCBhOyBuKyspIHtcbiAgICAgIHZhciBvID0gaVtuXS5maWVsZEtleTtcbiAgICAgIGlmICh2b2lkIDAgIT09IHJlYWRMaW5rKGUsIG8pKSB7XG4gICAgICAgIHdyaXRlTGluayhlLCBvLCB2b2lkIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd3JpdGVSZWNvcmQoZSwgbywgdm9pZCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0oaSwgdCwgcik7XG59O1xuXG5TdG9yZS5wcm90b3R5cGUuaW5zcGVjdEZpZWxkcyA9IGZ1bmN0aW9uIGluc3BlY3RGaWVsZHMkMShlKSB7XG4gIHZhciB0ID0gdGhpcy5rZXlPZkVudGl0eShlKTtcbiAgcmV0dXJuIHQgPyBpbnNwZWN0RmllbGRzKHQpIDogW107XG59O1xuXG5TdG9yZS5wcm90b3R5cGUudXBkYXRlUXVlcnkgPSBmdW5jdGlvbiB1cGRhdGVRdWVyeShlLCBpKSB7XG4gIHZhciBuID0gdChlLnF1ZXJ5LCBlLnZhcmlhYmxlcyk7XG4gIG4ucXVlcnkgPSByKG4ucXVlcnkpO1xuICB2YXIgYSA9IGkodGhpcy5yZWFkUXVlcnkobikpO1xuICBpZiAobnVsbCAhPT0gYSkge1xuICAgIHN0YXJ0V3JpdGUodGhpcywgbiwgYSk7XG4gIH1cbn07XG5cblN0b3JlLnByb3RvdHlwZS5yZWFkUXVlcnkgPSBmdW5jdGlvbiByZWFkUXVlcnkoZSkge1xuICB2YXIgaSA9IHQoZS5xdWVyeSwgZS52YXJpYWJsZXMpO1xuICBpLnF1ZXJ5ID0gcihpLnF1ZXJ5KTtcbiAgcmV0dXJuIHJlYWQodGhpcywgaSkuZGF0YTtcbn07XG5cblN0b3JlLnByb3RvdHlwZS5yZWFkRnJhZ21lbnQgPSBmdW5jdGlvbiByZWFkRnJhZ21lbnQkMShlLCB0LCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbiByZWFkRnJhZ21lbnQoZSwgdCwgciwgaSkge1xuICAgIHZhciBuID0gZ2V0RnJhZ21lbnRzKHQpO1xuICAgIHZhciBhID0gT2JqZWN0LmtleXMobik7XG4gICAgdmFyIG8gPSBuW2FbMF1dO1xuICAgIGlmICghbykge1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHdhcm4oXCJyZWFkRnJhZ21lbnQoLi4uKSB3YXMgY2FsbGVkIHdpdGggYW4gZW1wdHkgZnJhZ21lbnQuXFxuWW91IGhhdmUgdG8gY2FsbCBpdCB3aXRoIGF0IGxlYXN0IG9uZSBmcmFnbWVudCBpbiB5b3VyIEdyYXBoUUwgZG9jdW1lbnQuXCIsIDYpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBzID0gZ2V0RnJhZ21lbnRUeXBlTmFtZShvKTtcbiAgICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgciAmJiAhci5fX3R5cGVuYW1lKSB7XG4gICAgICByLl9fdHlwZW5hbWUgPSBzO1xuICAgIH1cbiAgICB2YXIgdSA9IGUua2V5T2ZFbnRpdHkocik7XG4gICAgaWYgKCF1KSB7XG4gICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgd2FybihcIkNhbid0IGdlbmVyYXRlIGEga2V5IGZvciByZWFkRnJhZ21lbnQoLi4uKS5cXG5Zb3UgaGF2ZSB0byBwYXNzIGFuIGBpZGAgb3IgYF9pZGAgZmllbGQgb3IgY3JlYXRlIGEgY3VzdG9tIGBrZXlzYCBjb25maWcgZm9yIGBcIiArIHMgKyBcImAuXCIsIDcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHB1c2hEZWJ1Z05vZGUocywgbyk7XG4gICAgfVxuICAgIHZhciBjID0gcmVhZFNlbGVjdGlvbihtYWtlQ29udGV4dChlLCBpIHx8IHt9LCBuLCBzLCB1KSwgdSwgZ2V0U2VsZWN0aW9uU2V0KG8pLCBtYWtlRGF0YSgpKSB8fCBudWxsO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHBvcERlYnVnTm9kZSgpO1xuICAgIH1cbiAgICByZXR1cm4gYztcbiAgfSh0aGlzLCByKGUpLCB0LCBpKTtcbn07XG5cblN0b3JlLnByb3RvdHlwZS53cml0ZUZyYWdtZW50ID0gZnVuY3Rpb24gd3JpdGVGcmFnbWVudCQxKGUsIHQsIGkpIHtcbiAgIWZ1bmN0aW9uIHdyaXRlRnJhZ21lbnQoZSwgdCwgciwgaSkge1xuICAgIHZhciBuID0gZ2V0RnJhZ21lbnRzKHQpO1xuICAgIHZhciBhID0gbltPYmplY3Qua2V5cyhuKVswXV07XG4gICAgaWYgKCFhKSB7XG4gICAgICByZXR1cm4gXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybihcIndyaXRlRnJhZ21lbnQoLi4uKSB3YXMgY2FsbGVkIHdpdGggYW4gZW1wdHkgZnJhZ21lbnQuXFxuWW91IGhhdmUgdG8gY2FsbCBpdCB3aXRoIGF0IGxlYXN0IG9uZSBmcmFnbWVudCBpbiB5b3VyIEdyYXBoUUwgZG9jdW1lbnQuXCIsIDExKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIG8gPSBnZXRGcmFnbWVudFR5cGVOYW1lKGEpO1xuICAgIHZhciBzID0geSh7fSwge1xuICAgICAgX190eXBlbmFtZTogb1xuICAgIH0sIHIpO1xuICAgIHZhciB1ID0gZS5rZXlPZkVudGl0eShzKTtcbiAgICBpZiAoIXUpIHtcbiAgICAgIHJldHVybiBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuKFwiQ2FuJ3QgZ2VuZXJhdGUgYSBrZXkgZm9yIHdyaXRlRnJhZ21lbnQoLi4uKSBkYXRhLlxcbllvdSBoYXZlIHRvIHBhc3MgYW4gYGlkYCBvciBgX2lkYCBmaWVsZCBvciBjcmVhdGUgYSBjdXN0b20gYGtleXNgIGNvbmZpZyBmb3IgYFwiICsgbyArIFwiYC5cIiwgMTIpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICBwdXNoRGVidWdOb2RlKG8sIGEpO1xuICAgIH1cbiAgICB3cml0ZVNlbGVjdGlvbihtYWtlQ29udGV4dChlLCBpIHx8IHt9LCBuLCBvLCB1LCB2b2lkIDApLCB1LCBnZXRTZWxlY3Rpb25TZXQoYSksIHMpO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHBvcERlYnVnTm9kZSgpO1xuICAgIH1cbiAgfSh0aGlzLCByKGUpLCB0LCBpKTtcbn07XG5cblN0b3JlLnByb3RvdHlwZS5saW5rID0gZnVuY3Rpb24gbGluayhlLCB0LCByLCBpKSB7XG4gIHZhciBuID0gdm9pZCAwICE9PSBpID8gciA6IG51bGw7XG4gIHZhciBsaW5rID0gdm9pZCAwICE9PSBpID8gaSA6IHI7XG4gIHZhciBhID0gZW5zdXJlTGluayh0aGlzLCBlKTtcbiAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGEpIHtcbiAgICB3cml0ZUxpbmsoYSwga2V5T2ZGaWVsZCh0LCBuKSwgZW5zdXJlTGluayh0aGlzLCBsaW5rKSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHF1ZXJ5KGUsIHQsIHIsIGksIG4pIHtcbiAgaW5pdERhdGFTdGF0ZShcInJlYWRcIiwgZS5kYXRhLCBuKTtcbiAgdmFyIGEgPSByZWFkKGUsIHQsIHIsIGkpO1xuICBjbGVhckRhdGFTdGF0ZSgpO1xuICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gcmVhZChlLCB0LCByLCBpKSB7XG4gIHZhciBuID0gZ2V0TWFpbk9wZXJhdGlvbih0LnF1ZXJ5KTtcbiAgdmFyIGEgPSBlLnJvb3RGaWVsZHNbbi5vcGVyYXRpb25dO1xuICB2YXIgbyA9IGdldFNlbGVjdGlvblNldChuKTtcbiAgdmFyIHMgPSBtYWtlQ29udGV4dChlLCBub3JtYWxpemVWYXJpYWJsZXMobiwgdC52YXJpYWJsZXMpLCBnZXRGcmFnbWVudHModC5xdWVyeSksIGEsIGEsICExLCBpKTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHB1c2hEZWJ1Z05vZGUoYSwgbik7XG4gIH1cbiAgaWYgKCFyKSB7XG4gICAgciA9IG1ha2VEYXRhKCk7XG4gIH1cbiAgdmFyIHUgPSBhICE9PSBzLnN0b3JlLnJvb3RGaWVsZHMucXVlcnkgPyByZWFkUm9vdChzLCBhLCBvLCByKSA6IHJlYWRTZWxlY3Rpb24ocywgYSwgbywgcik7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBwb3BEZWJ1Z05vZGUoKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGRlcGVuZGVuY2llczogZ2V0Q3VycmVudERlcGVuZGVuY2llcygpLFxuICAgIHBhcnRpYWw6IHMucGFydGlhbCB8fCAhdSxcbiAgICBkYXRhOiB1IHx8IG51bGxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVhZFJvb3QoZSwgdCwgciwgaSkge1xuICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgKGUuc3RvcmUucm9vdE5hbWVzW3RdID8gdCA6IGkuX190eXBlbmFtZSkpIHtcbiAgICByZXR1cm4gaTtcbiAgfVxuICB2YXIgbiA9IG1ha2VTZWxlY3Rpb25JdGVyYXRvcih0LCB0LCByLCBlKTtcbiAgdmFyIGE7XG4gIHZhciBvID0gITE7XG4gIHZhciBzID0gbWFrZURhdGEoaSk7XG4gIHdoaWxlIChhID0gbigpKSB7XG4gICAgdmFyIHUgPSBnZXRGaWVsZEFsaWFzKGEpO1xuICAgIHZhciBjID0gaVt1XTtcbiAgICBlLl9faW50ZXJuYWwucGF0aC5wdXNoKHUpO1xuICAgIHZhciBsID0gdm9pZCAwO1xuICAgIGlmIChhLnNlbGVjdGlvblNldCAmJiBudWxsICE9PSBjKSB7XG4gICAgICBsID0gcmVhZFJvb3RGaWVsZChlLCBnZXRTZWxlY3Rpb25TZXQoYSksIGVuc3VyZURhdGEoYykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYztcbiAgICB9XG4gICAgbyA9IG8gfHwgbCAhPT0gYztcbiAgICBpZiAodm9pZCAwICE9PSBsKSB7XG4gICAgICBzW3VdID0gbDtcbiAgICB9XG4gICAgZS5fX2ludGVybmFsLnBhdGgucG9wKCk7XG4gIH1cbiAgcmV0dXJuIG8gPyBzIDogaTtcbn1cblxuZnVuY3Rpb24gcmVhZFJvb3RGaWVsZChlLCB0LCByKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHIpKSB7XG4gICAgdmFyIGkgPSBuZXcgQXJyYXkoci5sZW5ndGgpO1xuICAgIHZhciBuID0gITE7XG4gICAgZm9yICh2YXIgYSA9IDAsIG8gPSByLmxlbmd0aDsgYSA8IG87IGErKykge1xuICAgICAgZS5fX2ludGVybmFsLnBhdGgucHVzaChhKTtcbiAgICAgIGlbYV0gPSByZWFkUm9vdEZpZWxkKGUsIHQsIHJbYV0pO1xuICAgICAgbiA9IG4gfHwgaVthXSAhPT0gclthXTtcbiAgICAgIGUuX19pbnRlcm5hbC5wYXRoLnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gbiA/IGkgOiByO1xuICB9IGVsc2UgaWYgKG51bGwgPT09IHIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcyA9IGUuc3RvcmUua2V5T2ZFbnRpdHkocik7XG4gIGlmIChudWxsICE9PSBzKSB7XG4gICAgcmV0dXJuIHJlYWRTZWxlY3Rpb24oZSwgcywgdCwgcikgfHwgbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVhZFJvb3QoZSwgci5fX3R5cGVuYW1lLCB0LCByKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkU2VsZWN0aW9uKGUsIHQsIHIsIGksIG4pIHtcbiAgdmFyIGEgPSBlLnN0b3JlO1xuICB2YXIgbyA9IHQgPT09IGEucm9vdEZpZWxkcy5xdWVyeTtcbiAgdmFyIHMgPSBuICYmIGEua2V5T2ZFbnRpdHkobikgfHwgdDtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIGlmICghbyAmJiBlLnN0b3JlLnJvb3ROYW1lc1tzXSkge1xuICAgICAgd2FybihcIkludmFsaWQgcm9vdCB0cmF2ZXJzYWw6IEEgc2VsZWN0aW9uIHdhcyBiZWluZyByZWFkIG9uIGBcIiArIHMgKyBcImAgd2hpY2ggaXMgYW4gdW5jYWNoZWQgcm9vdCB0eXBlLlxcblRoZSBgXCIgKyBlLnN0b3JlLnJvb3RGaWVsZHMubXV0YXRpb24gKyBcImAgYW5kIGBcIiArIGUuc3RvcmUucm9vdEZpZWxkcy5zdWJzY3JpcHRpb24gKyBcImAgdHlwZXMgYXJlIHNwZWNpYWwgT3BlcmF0aW9uIFJvb3QgVHlwZXMgYW5kIGNhbm5vdCBiZSByZWFkIGJhY2sgZnJvbSB0aGUgY2FjaGUuXCIsIDI1KTtcbiAgICB9XG4gIH1cbiAgdmFyIHUgPSAhbyA/IHJlYWRSZWNvcmQocywgXCJfX3R5cGVuYW1lXCIpIHx8IG4gJiYgbi5fX3R5cGVuYW1lIDogdDtcbiAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIHUpIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAobiAmJiB1ICE9PSBuLl9fdHlwZW5hbWUpIHtcbiAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgd2FybihcIkludmFsaWQgcmVzb2x2ZXIgZGF0YTogVGhlIHJlc29sdmVyIGF0IGBcIiArIHMgKyBcImAgcmV0dXJuZWQgYW4gaW52YWxpZCB0eXBlbmFtZSB0aGF0IGNvdWxkIG5vdCBiZSByZWNvbmNpbGVkIHdpdGggdGhlIGNhY2hlLlwiLCA4KTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGMgPSBtYWtlU2VsZWN0aW9uSXRlcmF0b3IodSwgcywgciwgZSk7XG4gIHZhciBsID0gITE7XG4gIHZhciBkID0gITE7XG4gIHZhciBmID0gdSAhPT0gaS5fX3R5cGVuYW1lO1xuICB2YXIgcDtcbiAgdmFyIHYgPSBtYWtlRGF0YShpKTtcbiAgd2hpbGUgKHZvaWQgMCAhPT0gKHAgPSBjKCkpKSB7XG4gICAgdmFyIHkgPSBnZXROYW1lKHApO1xuICAgIHZhciBtID0gZ2V0RmllbGRBcmd1bWVudHMocCwgZS52YXJpYWJsZXMpO1xuICAgIHZhciBoID0gZ2V0RmllbGRBbGlhcyhwKTtcbiAgICB2YXIgZyA9IGtleU9mRmllbGQoeSwgbSk7XG4gICAgdmFyIE4gPSBqb2luS2V5cyhzLCBnKTtcbiAgICB2YXIgayA9IHJlYWRSZWNvcmQocywgZyk7XG4gICAgdmFyIE8gPSBuID8gblt5XSA6IHZvaWQgMDtcbiAgICB2YXIgXyA9IGEucmVzb2x2ZXJzW3VdO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgYS5zY2hlbWEgJiYgdSkge1xuICAgICAgaXNGaWVsZEF2YWlsYWJsZU9uVHlwZShhLnNjaGVtYSwgdSwgeSk7XG4gICAgfVxuICAgIGUuX19pbnRlcm5hbC5wYXRoLnB1c2goaCk7XG4gICAgdmFyIEUgPSB2b2lkIDA7XG4gICAgaWYgKFwiX190eXBlbmFtZVwiID09PSB5KSB7XG4gICAgICBFID0gdTtcbiAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gTyAmJiB2b2lkIDAgPT09IHAuc2VsZWN0aW9uU2V0KSB7XG4gICAgICBFID0gTztcbiAgICB9IGVsc2UgaWYgKFwicmVhZFwiID09PSBnZXRDdXJyZW50T3BlcmF0aW9uKCkgJiYgXyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIF9beV0pIHtcbiAgICAgIHVwZGF0ZUNvbnRleHQoZSwgdiwgdSwgcywgTiwgeSk7XG4gICAgICBpZiAodm9pZCAwICE9PSBrKSB7XG4gICAgICAgIHZbaF0gPSBrO1xuICAgICAgfVxuICAgICAgRSA9IF9beV0odiwgbSB8fCB7fSwgYSwgZSk7XG4gICAgICBpZiAocC5zZWxlY3Rpb25TZXQpIHtcbiAgICAgICAgRSA9IHJlc29sdmVSZXNvbHZlclJlc3VsdChlLCB1LCB5LCBOLCBnZXRTZWxlY3Rpb25TZXQocCksIHZvaWQgMCAhPT0gdltoXSA/IHZbaF0gOiBpW2hdLCBFLCBvd25zRGF0YShpKSk7XG4gICAgICB9XG4gICAgICBpZiAoYS5zY2hlbWEgJiYgbnVsbCA9PT0gRSAmJiAhaXNGaWVsZE51bGxhYmxlKGEuc2NoZW1hLCB1LCB5KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghcC5zZWxlY3Rpb25TZXQpIHtcbiAgICAgIEUgPSBrO1xuICAgIH0gZWxzZSBpZiAodm9pZCAwICE9PSBPKSB7XG4gICAgICBFID0gcmVzb2x2ZVJlc29sdmVyUmVzdWx0KGUsIHUsIHksIE4sIGdldFNlbGVjdGlvblNldChwKSwgdm9pZCAwICE9PSB2W2hdID8gdltoXSA6IGlbaF0sIE8sIG93bnNEYXRhKGkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGIgPSByZWFkTGluayhzLCBnKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IGIpIHtcbiAgICAgICAgRSA9IHJlc29sdmVMaW5rKGUsIGIsIHUsIHksIGdldFNlbGVjdGlvblNldChwKSwgdm9pZCAwICE9PSB2W2hdID8gdltoXSA6IGlbaF0sIG93bnNEYXRhKGkpKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgayAmJiBudWxsICE9PSBrKSB7XG4gICAgICAgIEUgPSBrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodm9pZCAwID09PSBFICYmIHguY3VycmVudCkge1xuICAgICAgbCA9ICEwO1xuICAgIH0gZWxzZSBpZiAodm9pZCAwID09PSBFICYmIChhLnNjaGVtYSAmJiBpc0ZpZWxkTnVsbGFibGUoYS5zY2hlbWEsIHUsIHkpIHx8IGdldEZpZWxkRXJyb3IoZSkpKSB7XG4gICAgICBkID0gITA7XG4gICAgICBFID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHZvaWQgMCA9PT0gRSkge1xuICAgICAgZS5fX2ludGVybmFsLnBhdGgucG9wKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBsIHx8IFwiX190eXBlbmFtZVwiICE9PSB5O1xuICAgIH1cbiAgICBlLl9faW50ZXJuYWwucGF0aC5wb3AoKTtcbiAgICBmID0gZiB8fCBFICE9PSBpW2hdO1xuICAgIGlmICh2b2lkIDAgIT09IEUpIHtcbiAgICAgIHZbaF0gPSBFO1xuICAgIH1cbiAgfVxuICBlLnBhcnRpYWwgPSBlLnBhcnRpYWwgfHwgZDtcbiAgcmV0dXJuIG8gJiYgZCAmJiAhbCA/IHZvaWQgMCA6IGYgPyB2IDogaTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVJlc29sdmVyUmVzdWx0KGUsIHQsIHIsIGksIG4sIGEsIG8sIHMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobykpIHtcbiAgICB2YXIgdSA9IGUuc3RvcmU7XG4gICAgdmFyIGMgPSB1LnNjaGVtYSA/IGlzTGlzdE51bGxhYmxlKHUuc2NoZW1hLCB0LCByKSA6ICExO1xuICAgIHZhciBsID0gbmV3IEFycmF5KG8ubGVuZ3RoKTtcbiAgICB2YXIgZCA9ICFBcnJheS5pc0FycmF5KGEpIHx8IG8ubGVuZ3RoICE9PSBhLmxlbmd0aDtcbiAgICBmb3IgKHZhciBmID0gMCwgcCA9IG8ubGVuZ3RoOyBmIDwgcDsgZisrKSB7XG4gICAgICBlLl9faW50ZXJuYWwucGF0aC5wdXNoKGYpO1xuICAgICAgdmFyIHYgPSByZXNvbHZlUmVzb2x2ZXJSZXN1bHQoZSwgdCwgciwgam9pbktleXMoaSwgXCJcIiArIGYpLCBuLCBudWxsICE9IGEgPyBhW2ZdIDogdm9pZCAwLCBvW2ZdLCBzKTtcbiAgICAgIGUuX19pbnRlcm5hbC5wYXRoLnBvcCgpO1xuICAgICAgaWYgKHZvaWQgMCA9PT0gdiAmJiAhYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlLnBhcnRpYWwgPSBlLnBhcnRpYWwgfHwgdm9pZCAwID09PSB2ICYmIGM7XG4gICAgICAgIGxbZl0gPSBudWxsICE9IHYgPyB2IDogbnVsbDtcbiAgICAgICAgZCA9IGQgfHwgbFtmXSAhPT0gYVtmXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGQgPyBsIDogYTtcbiAgfSBlbHNlIGlmIChudWxsID09IG8pIHtcbiAgICByZXR1cm4gbztcbiAgfSBlbHNlIGlmIChzICYmIG51bGwgPT09IGEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmIChmdW5jdGlvbiBpc0RhdGFPcktleShlKSB7XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgfHwgXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBlLl9fdHlwZW5hbWU7XG4gIH0obykpIHtcbiAgICB2YXIgeSA9IGEgfHwgbWFrZURhdGEoKTtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgbyA/IHJlYWRTZWxlY3Rpb24oZSwgbywgbiwgeSkgOiByZWFkU2VsZWN0aW9uKGUsIGksIG4sIHksIG8pO1xuICB9IGVsc2Uge1xuICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiB3YXJuKFwiSW52YWxpZCByZXNvbHZlciB2YWx1ZTogVGhlIGZpZWxkIGF0IGBcIiArIGkgKyBcImAgaXMgYSBzY2FsYXIgKG51bWJlciwgYm9vbGVhbiwgZXRjKSwgYnV0IHRoZSBHcmFwaFFMIHF1ZXJ5IGV4cGVjdHMgYSBzZWxlY3Rpb24gc2V0IGZvciB0aGlzIGZpZWxkLlwiLCA5KTtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUxpbmsoZSwgdCwgciwgaSwgbiwgYSwgbykge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgIHZhciBzID0gZS5zdG9yZTtcbiAgICB2YXIgdSA9IHMuc2NoZW1hID8gaXNMaXN0TnVsbGFibGUocy5zY2hlbWEsIHIsIGkpIDogITE7XG4gICAgdmFyIGMgPSBuZXcgQXJyYXkodC5sZW5ndGgpO1xuICAgIHZhciBsID0gIUFycmF5LmlzQXJyYXkoYSkgfHwgYy5sZW5ndGggIT09IGEubGVuZ3RoO1xuICAgIGZvciAodmFyIGQgPSAwLCBmID0gdC5sZW5ndGg7IGQgPCBmOyBkKyspIHtcbiAgICAgIGUuX19pbnRlcm5hbC5wYXRoLnB1c2goZCk7XG4gICAgICB2YXIgcCA9IHJlc29sdmVMaW5rKGUsIHRbZF0sIHIsIGksIG4sIG51bGwgIT0gYSA/IGFbZF0gOiB2b2lkIDAsIG8pO1xuICAgICAgZS5fX2ludGVybmFsLnBhdGgucG9wKCk7XG4gICAgICBpZiAodm9pZCAwID09PSBwICYmICF1KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUucGFydGlhbCA9IGUucGFydGlhbCB8fCB2b2lkIDAgPT09IHAgJiYgdTtcbiAgICAgICAgY1tkXSA9IHAgfHwgbnVsbDtcbiAgICAgICAgbCA9IGwgfHwgY1tkXSAhPT0gYVtkXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGwgPyBjIDogYTtcbiAgfSBlbHNlIGlmIChudWxsID09PSB0IHx8IG51bGwgPT09IGEgJiYgbykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiByZWFkU2VsZWN0aW9uKGUsIHQsIG4sIGEgfHwgbWFrZURhdGEoKSk7XG59XG5cbmZ1bmN0aW9uIGFkZENhY2hlT3V0Y29tZShlLCB0KSB7XG4gIHJldHVybiBpKGUua2luZCwgZSwgeSh7fSwgZS5jb250ZXh0LCB7XG4gICAgbWV0YTogeSh7fSwgZS5jb250ZXh0Lm1ldGEsIHtcbiAgICAgIGNhY2hlT3V0Y29tZTogdFxuICAgIH0pXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gdG9SZXF1ZXN0UG9saWN5KGUsIHQpIHtcbiAgcmV0dXJuIGkoZS5raW5kLCBlLCB5KHt9LCBlLmNvbnRleHQsIHtcbiAgICByZXF1ZXN0UG9saWN5OiB0XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gY2FjaGVFeGNoYW5nZShlKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHYgPSB0LmZvcndhcmQ7XG4gICAgdmFyIHkgPSB0LmNsaWVudDtcbiAgICB2YXIgbSA9IHQuZGlzcGF0Y2hEZWJ1ZztcbiAgICB2YXIgaCA9IG5ldyBTdG9yZShlKTtcbiAgICB2YXIgZztcbiAgICBpZiAoZSAmJiBlLnN0b3JhZ2UpIHtcbiAgICAgIGcgPSBlLnN0b3JhZ2UucmVhZERhdGEoKS50aGVuKChmdW5jdGlvbih0KSB7XG4gICAgICAgICFmdW5jdGlvbiBoeWRyYXRlRGF0YShlLCB0LCByKSB7XG4gICAgICAgICAgaW5pdERhdGFTdGF0ZShcIndyaXRlXCIsIGUsIG51bGwpO1xuICAgICAgICAgIGZvciAodmFyIGkgaW4gcikge1xuICAgICAgICAgICAgdmFyIG4gPSByW2ldO1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gbikge1xuICAgICAgICAgICAgICB2YXIgYSA9IGRlc2VyaWFsaXplS2V5SW5mbyhpKTtcbiAgICAgICAgICAgICAgdmFyIG8gPSBhLmVudGl0eUtleTtcbiAgICAgICAgICAgICAgdmFyIHMgPSBhLmZpZWxkS2V5O1xuICAgICAgICAgICAgICBpZiAoXCI6XCIgPT09IG5bMF0pIHtcbiAgICAgICAgICAgICAgICB3cml0ZUxpbmsobywgcywgSlNPTi5wYXJzZShuLnNsaWNlKDEpKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd3JpdGVSZWNvcmQobywgcywgSlNPTi5wYXJzZShuKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYXJEYXRhU3RhdGUoKTtcbiAgICAgICAgICBlLnN0b3JhZ2UgPSB0O1xuICAgICAgICB9KGguZGF0YSwgZS5zdG9yYWdlLCB0KTtcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIE4gPSBuZXcgTWFwO1xuICAgIHZhciBrID0gW107XG4gICAgdmFyIE8gPSBuZXcgTWFwO1xuICAgIHZhciBfID0gbmV3IE1hcDtcbiAgICB2YXIgRSA9IG1ha2VEaWN0KCk7XG4gICAgdmFyIGIgPSBuZXcgU2V0O1xuICAgIHZhciBEID0gbWFrZURpY3QoKTtcbiAgICBmdW5jdGlvbiBpc0Jsb2NrZWRCeU9wdGltaXN0aWNVcGRhdGUoZSkge1xuICAgICAgZm9yICh2YXIgdCBpbiBlKSB7XG4gICAgICAgIGlmIChFW3RdKSB7XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbGxlY3RQZW5kaW5nT3BlcmF0aW9ucyhlLCB0KSB7XG4gICAgICBpZiAodCkge1xuICAgICAgICBmb3IgKHZhciByIGluIHQpIHtcbiAgICAgICAgICB2YXIgaSA9IERbcl07XG4gICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgIERbcl0gPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwLCBhID0gaS5sZW5ndGg7IG4gPCBhOyBuKyspIHtcbiAgICAgICAgICAgICAgZS5hZGQoaVtuXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4ZWN1dGVQZW5kaW5nT3BlcmF0aW9ucyhlLCB0KSB7XG4gICAgICB0LmZvckVhY2goKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgaWYgKHQgIT09IGUua2V5KSB7XG4gICAgICAgICAgdmFyIHIgPSBPLmdldCh0KTtcbiAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgTy5kZWxldGUodCk7XG4gICAgICAgICAgICB2YXIgaSA9IFwiY2FjaGUtZmlyc3RcIjtcbiAgICAgICAgICAgIGlmIChiLmhhcyh0KSkge1xuICAgICAgICAgICAgICBiLmRlbGV0ZSh0KTtcbiAgICAgICAgICAgICAgaSA9IFwiY2FjaGUtYW5kLW5ldHdvcmtcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHkucmVleGVjdXRlT3BlcmF0aW9uKHRvUmVxdWVzdFBvbGljeShyLCBpKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZXBhcmVGb3J3YXJkZWRPcGVyYXRpb24oZSkge1xuICAgICAgaWYgKFwicXVlcnlcIiA9PT0gZS5raW5kKSB7XG4gICAgICAgIHJlc2VydmVMYXllcihoLmRhdGEsIGUua2V5KTtcbiAgICAgIH0gZWxzZSBpZiAoXCJ0ZWFyZG93blwiID09PSBlLmtpbmQpIHtcbiAgICAgICAgTy5kZWxldGUoZS5rZXkpO1xuICAgICAgICBfLmRlbGV0ZShlLmtleSk7XG4gICAgICAgIG5vb3BEYXRhU3RhdGUoaC5kYXRhLCBlLmtleSk7XG4gICAgICB9IGVsc2UgaWYgKFwibXV0YXRpb25cIiA9PT0gZS5raW5kICYmIFwibmV0d29yay1vbmx5XCIgIT09IGUuY29udGV4dC5yZXF1ZXN0UG9saWN5KSB7XG4gICAgICAgIHZhciB0ID0gZnVuY3Rpb24gd3JpdGVPcHRpbWlzdGljKGUsIHQsIHIpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgICBpbnZhcmlhbnQoXCJtdXRhdGlvblwiID09PSBnZXRNYWluT3BlcmF0aW9uKHQucXVlcnkpLm9wZXJhdGlvbiwgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gXCJ3cml0ZU9wdGltaXN0aWMoLi4uKSB3YXMgY2FsbGVkIHdpdGggYW4gb3BlcmF0aW9uIHRoYXQgaXMgbm90IGEgbXV0YXRpb24uXFxuVGhpcyBjYXNlIGlzIHVuc3VwcG9ydGVkIGFuZCBzaG91bGQgbmV2ZXIgb2NjdXIuXCIgOiBcIlwiLCAxMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluaXREYXRhU3RhdGUoXCJ3cml0ZVwiLCBlLmRhdGEsIHIsICEwKTtcbiAgICAgICAgICB2YXIgaSA9IHN0YXJ0V3JpdGUoZSwgdCwge30sIHZvaWQgMCwgITApO1xuICAgICAgICAgIGNsZWFyRGF0YVN0YXRlKCk7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0oaCwgZSwgZS5rZXkpLmRlcGVuZGVuY2llcztcbiAgICAgICAgaWYgKCFmdW5jdGlvbiBpc0RpY3RFbXB0eShlKSB7XG4gICAgICAgICAgZm9yICh2YXIgdCBpbiBlKSB7XG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgfSh0KSkge1xuICAgICAgICAgIGZvciAodmFyIG4gaW4gdCkge1xuICAgICAgICAgICAgRVtuXSA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBOLnNldChlLmtleSwgdCk7XG4gICAgICAgICAgdmFyIGEgPSBuZXcgU2V0O1xuICAgICAgICAgIGNvbGxlY3RQZW5kaW5nT3BlcmF0aW9ucyhhLCB0KTtcbiAgICAgICAgICBleGVjdXRlUGVuZGluZ09wZXJhdGlvbnMoZSwgYSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpKGUua2luZCwge1xuICAgICAgICBrZXk6IGUua2V5LFxuICAgICAgICBxdWVyeTogcihlLnF1ZXJ5KSxcbiAgICAgICAgdmFyaWFibGVzOiBlLnZhcmlhYmxlcyA/IGZpbHRlclZhcmlhYmxlcyhnZXRNYWluT3BlcmF0aW9uKGUucXVlcnkpLCBlLnZhcmlhYmxlcykgOiBlLnZhcmlhYmxlc1xuICAgICAgfSwgZS5jb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRGVwZW5kZW5jaWVzKGUsIHQpIHtcbiAgICAgIGZvciAodmFyIHIgaW4gdCkge1xuICAgICAgICAoRFtyXSB8fCAoRFtyXSA9IFtdKSkucHVzaChlLmtleSk7XG4gICAgICAgIE8uc2V0KGUua2V5LCBlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlcmF0aW9uUmVzdWx0RnJvbUNhY2hlKGUpIHtcbiAgICAgIHZhciB0ID0gcXVlcnkoaCwgZSwgXy5nZXQoZS5rZXkpKTtcbiAgICAgIHZhciByID0gdC5kYXRhID8gIXQucGFydGlhbCA/IFwiaGl0XCIgOiBcInBhcnRpYWxcIiA6IFwibWlzc1wiO1xuICAgICAgXy5zZXQoZS5rZXksIHQuZGF0YSk7XG4gICAgICB1cGRhdGVEZXBlbmRlbmNpZXMoZSwgdC5kZXBlbmRlbmNpZXMpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3V0Y29tZTogcixcbiAgICAgICAgb3BlcmF0aW9uOiBlLFxuICAgICAgICBkYXRhOiB0LmRhdGEsXG4gICAgICAgIGRlcGVuZGVuY2llczogdC5kZXBlbmRlbmNpZXNcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNhY2hlV2l0aFJlc3VsdChlLCB0KSB7XG4gICAgICB2YXIgciA9IGUub3BlcmF0aW9uO1xuICAgICAgdmFyIGkgPSBlLmVycm9yO1xuICAgICAgdmFyIG4gPSBlLmV4dGVuc2lvbnM7XG4gICAgICB2YXIgYSA9IHIua2V5O1xuICAgICAgaWYgKFwibXV0YXRpb25cIiA9PT0gci5raW5kKSB7XG4gICAgICAgIGNvbGxlY3RQZW5kaW5nT3BlcmF0aW9ucyh0LCBOLmdldChhKSk7XG4gICAgICAgIE4uZGVsZXRlKGEpO1xuICAgICAgfVxuICAgICAgcmVzZXJ2ZUxheWVyKGguZGF0YSwgci5rZXksIGUuaGFzTmV4dCk7XG4gICAgICB2YXIgbztcbiAgICAgIHZhciBzID0gZS5kYXRhO1xuICAgICAgaWYgKHMpIHtcbiAgICAgICAgY29sbGVjdFBlbmRpbmdPcGVyYXRpb25zKHQsIHdyaXRlKGgsIHIsIHMsIGUuZXJyb3IsIGEpLmRlcGVuZGVuY2llcyk7XG4gICAgICAgIHZhciB1ID0gcXVlcnkoaCwgciwgXCJxdWVyeVwiID09PSByLmtpbmQgPyBfLmdldChyLmtleSkgfHwgcyA6IHMsIGUuZXJyb3IsIGEpO1xuICAgICAgICBzID0gdS5kYXRhO1xuICAgICAgICBpZiAoXCJxdWVyeVwiID09PSByLmtpbmQpIHtcbiAgICAgICAgICBjb2xsZWN0UGVuZGluZ09wZXJhdGlvbnModCwgbyA9IHUuZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgICBfLnNldChyLmtleSwgZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9vcERhdGFTdGF0ZShoLmRhdGEsIHIua2V5KTtcbiAgICAgIH1cbiAgICAgIGlmIChvKSB7XG4gICAgICAgIHVwZGF0ZURlcGVuZGVuY2llcyhlLm9wZXJhdGlvbiwgbyk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBzLFxuICAgICAgICBlcnJvcjogaSxcbiAgICAgICAgZXh0ZW5zaW9uczogbixcbiAgICAgICAgb3BlcmF0aW9uOiByXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHQgPSBuKGUpO1xuICAgICAgdmFyIHIgPSBnID8gbihhKFsgbyhzKSh1KGMoZykpKHQpKSwgbChjKGcpKSh0KSBdKSkgOiB0O1xuICAgICAgdmFyIGkgPSBuKGQob3BlcmF0aW9uUmVzdWx0RnJvbUNhY2hlKShmKChmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBcInF1ZXJ5XCIgPT09IGUua2luZCAmJiBcIm5ldHdvcmstb25seVwiICE9PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeTtcbiAgICAgIH0pKShyKSkpO1xuICAgICAgdmFyIE8gPSBmKChmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBcInF1ZXJ5XCIgIT09IGUua2luZCB8fCBcIm5ldHdvcmstb25seVwiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeTtcbiAgICAgIH0pKShyKTtcbiAgICAgIHZhciBfID0gZCgoZnVuY3Rpb24oZSkge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgbSh7XG4gICAgICAgICAgdHlwZTogXCJjYWNoZU1pc3NcIixcbiAgICAgICAgICBtZXNzYWdlOiBcIlRoZSByZXN1bHQgY291bGQgbm90IGJlIHJldHJpZXZlZCBmcm9tIHRoZSBjYWNoZVwiLFxuICAgICAgICAgIG9wZXJhdGlvbjogZS5vcGVyYXRpb24sXG4gICAgICAgICAgc291cmNlOiBcImNhY2hlRXhjaGFuZ2VcIlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFkZENhY2hlT3V0Y29tZShlLm9wZXJhdGlvbiwgXCJtaXNzXCIpO1xuICAgICAgfSkpKGYoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIFwibWlzc1wiID09PSBlLm91dGNvbWUgJiYgXCJjYWNoZS1vbmx5XCIgIT09IGUub3BlcmF0aW9uLmNvbnRleHQucmVxdWVzdFBvbGljeSAmJiAhaXNCbG9ja2VkQnlPcHRpbWlzdGljVXBkYXRlKGUuZGVwZW5kZW5jaWVzKTtcbiAgICAgIH0pKShpKSk7XG4gICAgICB2YXIgRCA9IGQoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHQgPSBlLm9wZXJhdGlvbjtcbiAgICAgICAgdmFyIHIgPSBlLm91dGNvbWU7XG4gICAgICAgIHZhciBpID0gZS5kZXBlbmRlbmNpZXM7XG4gICAgICAgIHZhciBuID0ge1xuICAgICAgICAgIG9wZXJhdGlvbjogYWRkQ2FjaGVPdXRjb21lKHQsIHIpLFxuICAgICAgICAgIGRhdGE6IGUuZGF0YSxcbiAgICAgICAgICBlcnJvcjogZS5lcnJvcixcbiAgICAgICAgICBleHRlbnNpb25zOiBlLmV4dGVuc2lvbnNcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwiY2FjaGUtYW5kLW5ldHdvcmtcIiA9PT0gdC5jb250ZXh0LnJlcXVlc3RQb2xpY3kgfHwgXCJjYWNoZS1maXJzdFwiID09PSB0LmNvbnRleHQucmVxdWVzdFBvbGljeSAmJiBcInBhcnRpYWxcIiA9PT0gcikge1xuICAgICAgICAgIG4uc3RhbGUgPSAhMDtcbiAgICAgICAgICBpZiAoIWlzQmxvY2tlZEJ5T3B0aW1pc3RpY1VwZGF0ZShpKSkge1xuICAgICAgICAgICAgeS5yZWV4ZWN1dGVPcGVyYXRpb24odG9SZXF1ZXN0UG9saWN5KHQsIFwibmV0d29yay1vbmx5XCIpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFwiY2FjaGUtYW5kLW5ldHdvcmtcIiA9PT0gdC5jb250ZXh0LnJlcXVlc3RQb2xpY3kpIHtcbiAgICAgICAgICAgIGIuYWRkKHQua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIG0oe1xuICAgICAgICAgIHR5cGU6IFwiY2FjaGVIaXRcIixcbiAgICAgICAgICBtZXNzYWdlOiBcIkEgcmVxdWVzdGVkIG9wZXJhdGlvbiB3YXMgZm91bmQgYW5kIHJldHVybmVkIGZyb20gdGhlIGNhY2hlLlwiLFxuICAgICAgICAgIG9wZXJhdGlvbjogZS5vcGVyYXRpb24sXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdmFsdWU6IG5cbiAgICAgICAgICB9LFxuICAgICAgICAgIHNvdXJjZTogXCJjYWNoZUV4Y2hhbmdlXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfSkpKGYoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIFwibWlzc1wiICE9PSBlLm91dGNvbWUgfHwgXCJjYWNoZS1vbmx5XCIgPT09IGUub3BlcmF0aW9uLmNvbnRleHQucmVxdWVzdFBvbGljeTtcbiAgICAgIH0pKShpKSk7XG4gICAgICB2YXIgdyA9IG4odihkKHByZXBhcmVGb3J3YXJkZWRPcGVyYXRpb24pKGEoWyBPLCBfIF0pKSkpO1xuICAgICAgdmFyIEYgPSBkKChmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0ID0gbmV3IFNldDtcbiAgICAgICAgdmFyIHIgPSB1cGRhdGVDYWNoZVdpdGhSZXN1bHQoZSwgdCk7XG4gICAgICAgIGV4ZWN1dGVQZW5kaW5nT3BlcmF0aW9ucyhlLm9wZXJhdGlvbiwgdCk7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfSkpKGYoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuICFOLmhhcyhlLm9wZXJhdGlvbi5rZXkpO1xuICAgICAgfSkpKHcpKTtcbiAgICAgIHZhciBTID0gbygoZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoay5wdXNoKGUpIDwgTi5zaXplKSB7XG4gICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBrLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgcmVzZXJ2ZUxheWVyKGguZGF0YSwga1t0XS5vcGVyYXRpb24ua2V5KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciByIGluIEUpIHtcbiAgICAgICAgICBkZWxldGUgRVtyXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaSA9IFtdO1xuICAgICAgICB2YXIgbiA9IG5ldyBTZXQ7XG4gICAgICAgIHZhciBhO1xuICAgICAgICB3aGlsZSAoYSA9IGsuc2hpZnQoKSkge1xuICAgICAgICAgIGkucHVzaCh1cGRhdGVDYWNoZVdpdGhSZXN1bHQoYSwgbikpO1xuICAgICAgICB9XG4gICAgICAgIGV4ZWN1dGVQZW5kaW5nT3BlcmF0aW9ucyhlLm9wZXJhdGlvbiwgbik7XG4gICAgICAgIHJldHVybiBzKGkpO1xuICAgICAgfSkpKGYoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIE4uaGFzKGUub3BlcmF0aW9uLmtleSk7XG4gICAgICB9KSkodykpO1xuICAgICAgcmV0dXJuIGEoWyBGLCBTLCBEIF0pO1xuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzT2ZmbGluZUVycm9yKGUpIHtcbiAgcmV0dXJuIGUgJiYgZS5uZXR3b3JrRXJyb3IgJiYgIWUucmVzcG9uc2UgJiYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIG5hdmlnYXRvciAmJiAhMSA9PT0gbmF2aWdhdG9yLm9uTGluZSB8fCAvcmVxdWVzdCBmYWlsZWR8ZmFpbGVkIHRvIGZldGNofG5ldHdvcmtcXHM/ZXJyb3IvaS50ZXN0KGUubmV0d29ya0Vycm9yLm1lc3NhZ2UpKTtcbn1cblxuZnVuY3Rpb24gb2ZmbGluZUV4Y2hhbmdlKGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHIpIHtcbiAgICB2YXIgbyA9IGUuc3RvcmFnZTtcbiAgICBpZiAobyAmJiBvLm9uT25saW5lICYmIG8ucmVhZE1ldGFkYXRhICYmIG8ud3JpdGVNZXRhZGF0YSkge1xuICAgICAgdmFyIHMgPSByLmZvcndhcmQ7XG4gICAgICB2YXIgdSA9IHIuY2xpZW50O1xuICAgICAgdmFyIGMgPSByLmRpc3BhdGNoRGVidWc7XG4gICAgICB2YXIgbCA9IHYoKTtcbiAgICAgIHZhciBkID0gbC5zb3VyY2U7XG4gICAgICB2YXIgcCA9IGwubmV4dDtcbiAgICAgIHZhciB5ID0gZS5vcHRpbWlzdGljIHx8IHt9O1xuICAgICAgdmFyIG0gPSBbXTtcbiAgICAgIHZhciB1cGRhdGVNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG0ubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICB2YXIgciA9IG1bdF07XG4gICAgICAgICAgaWYgKFwibXV0YXRpb25cIiA9PT0gci5raW5kKSB7XG4gICAgICAgICAgICBlLnB1c2goe1xuICAgICAgICAgICAgICBxdWVyeTogZyhyLnF1ZXJ5KSxcbiAgICAgICAgICAgICAgdmFyaWFibGVzOiByLnZhcmlhYmxlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG8ud3JpdGVNZXRhZGF0YShlKTtcbiAgICAgIH07XG4gICAgICB2YXIgaCA9ICExO1xuICAgICAgdmFyIGZsdXNoUXVldWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgaCA9ICEwO1xuICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgbS5sZW5ndGg7IGUrKykge1xuICAgICAgICAgICAgdmFyIHQgPSBtW2VdO1xuICAgICAgICAgICAgaWYgKFwibXV0YXRpb25cIiA9PT0gdC5raW5kKSB7XG4gICAgICAgICAgICAgIHAoaShcInRlYXJkb3duXCIsIHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBtLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgICB1LnJlZXhlY3V0ZU9wZXJhdGlvbihtW3JdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbS5sZW5ndGggPSAwO1xuICAgICAgICAgIGggPSAhMTtcbiAgICAgICAgICB1cGRhdGVNZXRhZGF0YSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgby5vbk9ubGluZShmbHVzaFF1ZXVlKTtcbiAgICAgIG8ucmVhZE1ldGFkYXRhKCkudGhlbigoZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykge1xuICAgICAgICAgICAgbS5wdXNoKHUuY3JlYXRlUmVxdWVzdE9wZXJhdGlvbihcIm11dGF0aW9uXCIsIHQoZVtyXS5xdWVyeSwgZVtyXS52YXJpYWJsZXMpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZsdXNoUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgICAgdmFyIE4gPSBjYWNoZUV4Y2hhbmdlKGUpKHtcbiAgICAgICAgY2xpZW50OiB1LFxuICAgICAgICBkaXNwYXRjaERlYnVnOiBjLFxuICAgICAgICBmb3J3YXJkOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgcmV0dXJuIGYoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChcIm11dGF0aW9uXCIgPT09IGUub3BlcmF0aW9uLmtpbmQgJiYgaXNPZmZsaW5lRXJyb3IoZS5lcnJvcikgJiYgZnVuY3Rpb24gaXNPcHRpbWlzdGljTXV0YXRpb24oZSwgdCkge1xuICAgICAgICAgICAgICB2YXIgciA9IHQudmFyaWFibGVzIHx8IG1ha2VEaWN0KCk7XG4gICAgICAgICAgICAgIHZhciBpID0gZ2V0RnJhZ21lbnRzKHQucXVlcnkpO1xuICAgICAgICAgICAgICB2YXIgbiA9IFtdLmNvbmNhdChnZXRTZWxlY3Rpb25TZXQoZ2V0TWFpbk9wZXJhdGlvbih0LnF1ZXJ5KSkpO1xuICAgICAgICAgICAgICB2YXIgYTtcbiAgICAgICAgICAgICAgd2hpbGUgKGEgPSBuLnBvcCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaG91bGRJbmNsdWRlKGEsIHIpKSB7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0ZpZWxkTm9kZShhKSkge1xuICAgICAgICAgICAgICAgICAgdmFyIG8gPSAhaXNJbmxpbmVGcmFnbWVudChhKSA/IGlbZ2V0TmFtZShhKV0gOiBhO1xuICAgICAgICAgICAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgbi5wdXNoLmFwcGx5KG4sIGdldFNlbGVjdGlvblNldChvKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlW2dldE5hbWUoYSldKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgIH0oeSwgZS5vcGVyYXRpb24pKSB7XG4gICAgICAgICAgICAgIG0ucHVzaChlLm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgIHVwZGF0ZU1ldGFkYXRhKCk7XG4gICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICB9KSkocyhlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHQgPSBuKGUpO1xuICAgICAgICB2YXIgciA9IGEoWyBkLCB0IF0pO1xuICAgICAgICByZXR1cm4gZigoZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGlmIChcInF1ZXJ5XCIgPT09IGUub3BlcmF0aW9uLmtpbmQgJiYgaXNPZmZsaW5lRXJyb3IoZS5lcnJvcikpIHtcbiAgICAgICAgICAgIHAodG9SZXF1ZXN0UG9saWN5KGUub3BlcmF0aW9uLCBcImNhY2hlLW9ubHlcIikpO1xuICAgICAgICAgICAgbS5wdXNoKGUub3BlcmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICB9KSkoTihyKSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVFeGNoYW5nZShlKShyKTtcbiAgfTtcbn1cblxuZXhwb3J0IHsgU3RvcmUsIGNhY2hlRXhjaGFuZ2UsIG9mZmxpbmVFeGNoYW5nZSwgcXVlcnksIHdyaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cnFsLWV4Y2hhbmdlLWdyYXBoY2FjaGUubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs\n");

/***/ })

});